// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/read-unread-tests.ts >>>

import Foundation

open class MarkUnreadAfterReadTest: RegularYandexTestBase {
  public init() {
    super.init("should able to mark unread after read")
  }

  open override func setupSettings(_ settings: TestSettings) {
    settings.validateLogs(MBTPlatform.Android).validateLogs(MBTPlatform.IOS)
  }

  open override func prepareMailbox(_ mailbox: ImapMailboxBuilder) {
    mailbox.nextMessage("subj")
  }

  @discardableResult
  open override func regularScenario(_ account: UserAccount) -> TestPlan {
    return TestPlan.yandexLogin(account).then(MarkAsRead(0)).then(MarkAsUnread(0))
  }
}

open class ReadMessageAfterOpeningTest: RegularYandexTestBase {
  public init() {
    super.init("should read message after opening")
  }

  open override func prepareMailbox(_ mailbox: ImapMailboxBuilder) {
    mailbox.nextMessage("subj")
  }

  @discardableResult
  open override func regularScenario(_ account: UserAccount) -> TestPlan {
    return TestPlan.yandexLogin(account).then(OpenMessage(0)).then(BackToMaillist()).then(MarkAsUnread(0))
  }
}

open class MarkAllThreadMessagesReadByMarkingMainMessageTest: RegularYandexTestBase {
  public init() {
    super.init("should mark all thread messages read by marking main message")
  }

  open override func prepareMailbox(_ mailbox: ImapMailboxBuilder) {
    mailbox.nextMessage("subj").nextMessage("subj")
  }

  @discardableResult
  open override func regularScenario(_ account: UserAccount) -> TestPlan {
    return TestPlan.yandexLogin(account).then(MarkAsRead(0)).then(ExpandThreadAction(0))
  }
}
