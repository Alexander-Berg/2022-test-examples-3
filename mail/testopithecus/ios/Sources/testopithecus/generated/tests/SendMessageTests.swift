// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/send-message-tests.ts >>>

import Foundation

open class ReceiveMessageTest: RegularYandexTestBase {
  public init() {
    super.init("should receive message")
  }

  open override func prepareMailbox(_ mailbox: ImapMailboxBuilder) {
    mailbox.nextMessage("subj")
  }

  @discardableResult
  open override func regularScenario(_ account: UserAccount) -> TestPlan {
    return TestPlan.yandexLogin(account).then(OpenComposeAction()).thenChain(YSArray(SendMessageAction("\(account.login)@yandex.ru", "test_message"), RefreshMessageListAction())).then(ExpandThreadAction(0))
  }
}

open class ReplyMessageTest: RegularYandexTestBase {
  public init() {
    super.init("should reply message")
  }

  open override func prepareMailbox(_ builder: ImapMailboxBuilder) {
    builder.nextMessage("subj")
  }

  @discardableResult
  open override func regularScenario(_ account: UserAccount) -> TestPlan {
    return TestPlan.yandexLogin(account).then(OpenMessage(0)).then(ReplyMessageAction()).then(BackToMaillist()).then(RefreshMessageListAction())
  }
}
