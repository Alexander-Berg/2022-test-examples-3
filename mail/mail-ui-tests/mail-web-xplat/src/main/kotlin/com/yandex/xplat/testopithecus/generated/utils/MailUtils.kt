// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM utils/mail-utils.ts >>>

package com.yandex.xplat.testopithecus

import com.yandex.xplat.common.YSArray
import com.yandex.xplat.common.int64
import com.yandex.xplat.common.slice
import com.yandex.xplat.mapi.Email
import com.yandex.xplat.mapi.ID
import com.yandex.xplat.testopithecus.common.copyArray

public fun reduced(id: ID): String {
    val s = id.toString()
    return s.slice(s.length - 3, s.length)
}

public fun display(email: Email): String {
    return "${email.login}@${email.domain}"
}

public fun formatFolderName(folderName: FolderName, parentFolders: YSArray<FolderName> = mutableListOf()): FolderName {
    val result = copyArray(parentFolders)
    result.add(folderName)
    return result.joinToString("|")
}

public fun fakeMid(): Long {
    return int64(-1)
}

public fun <T> resolveThrow(action: () -> T, defVal: T): T {
    try {
        return action()
    } catch (e: RuntimeException) {
        return defVal
    }
}

