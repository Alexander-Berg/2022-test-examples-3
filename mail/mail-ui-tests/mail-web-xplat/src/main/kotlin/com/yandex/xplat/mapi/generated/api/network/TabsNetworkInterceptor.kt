// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM api/network/tabs-network-interceptor.ts >>>

package com.yandex.xplat.mapi

import com.yandex.xplat.common.*

public open class TabsNetworkInterceptor(private val areTabsEnabled: () -> Boolean): NetworkInterceptor {
    open override fun intercept(originalRequest: NetworkRequest): XPromise<NetworkRequest> {
        if (!this.areTabsEnabled()) {
            return resolve(originalRequest)
        }
        return resolve(SealedNetworkRequest(originalRequest.method(), originalRequest.targetPath(), originalRequest.params(), originalRequest.urlExtra().putString("withTabs", "1"), originalRequest.headersExtra(), originalRequest.encoding()))
    }

}

