// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM tests/send-message-tests.ts >>>

package com.yandex.xplat.testopithecus

import com.yandex.xplat.testopithecus.common.TestPlan
import com.yandex.xplat.testopithecus.common.UserAccount

public open class ReceiveMessageTest(): RegularYandexMailTestBase("should receive message") {
    open override fun prepareAccount(mailbox: MailboxBuilder): Unit {
        mailbox.nextMessage("subj")
    }

    open override fun regularScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenComposeAction()).thenChain(mutableListOf(SendMessageAction("${account.login}@yandex.ru", "test_message"), RefreshMessageListAction())).then(ExpandThreadAction(0))
    }

}

public open class ReplyToMessageFromMailViewTest(): RegularYandexMailTestBase("Compose. Ответить на письмо из просмотра") {
    open override fun prepareAccount(builder: MailboxBuilder): Unit {
        builder.nextMessage("subj")
    }

    open override fun regularScenario(account: UserAccount): TestPlan {
        return this.yandexLogin(account).then(OpenMessageAction(0)).thenChain(mutableListOf(ReplyMessageAction(), BackToMaillistFromMessageViewAction(), RefreshMessageListAction())).then(OpenFolderListAction()).then(GoToFolderAction(DefaultFolderName.sent))
    }

}

