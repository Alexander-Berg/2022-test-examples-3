// <<< AUTOGENERATED BY YANDEX.SCRIPT FROM mail/model/left-column/tabs-model.ts >>>

package com.yandex.xplat.testopithecus

public open class TabsModel(var model: MessageListDisplayModel, private var accHandler: MailAppModelHandler): Tabs {
    open override fun isEnableTabs(): Boolean {
        return this.accHandler.getCurrentAccount().accountSettings.sortingEmailsByCategoryEnabled
    }

    open override fun SwitchOffTabs(): Unit {
        this.accHandler.getCurrentAccount().accountSettings.sortingEmailsByCategoryEnabled = false
    }

    open override fun SwitchOnTabs(): Unit {
        this.accHandler.getCurrentAccount().accountSettings.sortingEmailsByCategoryEnabled = true
    }

    open override fun isDisplayNotificationTabs(tabsName: FolderName): Boolean {
        return (this.model.getCurrentContainer().name == DefaultFolderName.inbox && this.accHandler.getCurrentAccount().messagesDB.getTabsToMessage(tabsName).size != 0)
    }

    open override fun getPositionTabsNotification(tabsName: FolderName): Int {
        val messageListInSocialMedia = this.accHandler.getCurrentAccount().messagesDB.getMessageList(MessageListDatabaseFilter().withFolder(tabsName))
        val messageList = this.model.getMessageList(10)
        var position: Int = 0
        for (msg in messageList) {
            if (msg.timestamp < messageListInSocialMedia[0].timestamp) {
                return position
            }
            position = position + 1
        }
        return position
    }

}

