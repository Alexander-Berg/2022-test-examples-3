// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`Router. Profile-addresses Должен вернуть 400 при 400 в ручке маркета DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "DELETE",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "DELETE",
    "statusCode": 400,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при 400 в ручке маркета PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "PUT",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "PUT",
    "statusCode": 400,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при неверном csrf токене DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при неверном csrf токене POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при неверном csrf токене PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при отсутствии куки yandexuid DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при отсутствии куки yandexuid POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при отсутствии куки yandexuid PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при отсутствующем csrf токене DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при отсутствующем csrf токене POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 400 при отсутствующем csrf токене PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при ответе паспорта о невалидной авторизации DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при ответе паспорта о невалидной авторизации GET запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при ответе паспорта о невалидной авторизации POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при ответе паспорта о невалидной авторизации PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при отсутствии Session_id куки DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при отсутствии Session_id куки GET запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при отсутствии Session_id куки POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 401 при отсутствии Session_id куки PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 404 при 404 в ручке маркета DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "DELETE",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "DELETE",
    "statusCode": 404,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен вернуть 404 при 404 в ручке маркета PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "PUT",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "PUT",
    "statusCode": 404,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен корректно обработать запрос типа OPTIONS 1`] = `Array []`;

exports[`Router. Profile-addresses Должен падать при 500 в ручке геобазы GET запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 51,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=51",
  },
  Object {
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=51",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=51",
  },
  Object {
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=51",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=51",
  },
  Object {
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=51",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 в ручке маркета DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "DELETE",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "DELETE",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "DELETE",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "DELETE",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "DELETE",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "DELETE",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 в ручке маркета GET запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 в ручке маркета POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "POST",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "POST",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 в ручке маркета PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "PUT",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "PUT",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "PUT",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "PUT",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "PUT",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "PUT",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 ответе из паспорта DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 ответе из паспорта GET запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 ответе из паспорта POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при 500 ответе из паспорта PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "INVALID",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 500,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при отсутствии тикета TVM для blackbox DELETE запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при отсутствии тикета TVM для blackbox GET запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при отсутствии тикета TVM для blackbox POST запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Должен падать при отсутствии тикета TVM для blackbox PUT запрос 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
]
`;

exports[`Router. Profile-addresses Успешный запрос DELETE 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "DELETE",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "DELETE",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Успешный запрос GET 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=2",
  },
  Object {
    "body": Object {
      "name": "amber district",
      "type": 5,
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=2",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/parents?id=2",
  },
  Object {
    "body": Array [],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/parents?id=2",
  },
]
`;

exports[`Router. Profile-addresses Успешный запрос GET с вычислением parent региона 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 5,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=5",
  },
  Object {
    "body": Object {
      "name": "rebma city",
      "type": 25,
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=5",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/parents?id=5",
  },
  Object {
    "body": Array [
      6,
      7,
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/parents?id=5",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=6",
  },
  Object {
    "body": Object {
      "name": "federal subject",
      "type": 5,
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=6",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "host": "geobase-test.qloud.yandex.ru",
      "user-agent": "got (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=7",
  },
  Object {
    "body": Object {
      "name": "federal district",
      "type": 4,
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://geobase-test.qloud.yandex.ru/v1/region_by_id?id=7",
  },
]
`;

exports[`Router. Profile-addresses Успешный запрос POST 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "POST",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "POST",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/blue?source=tap-backend",
  },
]
`;

exports[`Router. Profile-addresses Успешный запрос PUT 1`] = `
Array [
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate",
      "host": "localhost:8001",
      "user-agent": "got/9.6.0 (https://github.com/sindresorhus/got)",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "body": Object {
      "blackbox": Object {
        "ticket": "blackbox-service-ticket",
      },
      "geocoder": Object {
        "ticket": "geocoder-service-ticket",
      },
      "persAddress": Object {
        "ticket": "persAddress-service-ticket",
      },
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://localhost:8001/tvm/tickets?dsts=blackbox%2Cgeocoder%2CpersAddress&src=tapBackend",
  },
  Object {
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip,deflate",
      "host": "blackbox-test.yandex.net",
      "user-agent": "got/6.7.1 (https://github.com/sindresorhus/got)",
      "x-ya-service-ticket": "blackbox-service-ticket",
    },
    "method": "GET",
    "type": "REQUEST",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "attributes": Object {
        "1008": "test-user",
      },
      "display_name": Object {
        "avatar": Object {
          "default": "1/2-3",
          "empty": false,
        },
        "name": "Test User",
      },
      "error": "OK",
      "login": "test-user",
      "regname": "test-user",
      "status": Object {
        "value": "VALID",
      },
      "uid": Object {
        "hosted": false,
        "lite": false,
        "value": "123",
      },
      "user_ticket": "tvm-user-ticket",
    },
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "GET",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://blackbox-test.yandex.net/blackbox?method=sessionid&format=json&attributes=1008&regname=yes&getServiceTicket=&oauth=true&phones=&sessionid=12345&sslsessionid=&userip=%3A%3Affff%3A127.0.0.1&host=api.tap.yandex.ru&get_user_ticket=yes",
  },
  Object {
    "body": Object {
      "country": "juniper",
    },
    "headers": Object {
      "accept": "application/json",
      "accept-encoding": "gzip, deflate, br",
      "content-length": "21",
      "content-type": "application/json",
      "host": "pers-address.tst.vs.market.yandex.net",
      "user-agent": "tap-backend/test",
      "x-request-id": "req-id",
      "x-ya-service-ticket": "persAddress-service-ticket",
    },
    "method": "PUT",
    "type": "REQUEST",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
  Object {
    "body": Array [
      Object {
        "address": "address",
        "regionId": 2,
      },
    ],
    "headers": Object {
      "content-type": "application/json",
    },
    "method": "PUT",
    "statusCode": 200,
    "type": "RESPONSE",
    "url": "http://pers-address.tst.vs.market.yandex.net/address/uid/123/chaos-1/blue?source=tap-backend",
  },
]
`;
