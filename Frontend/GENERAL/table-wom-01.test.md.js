module.exports = [
    {
        group: 'Таблицы и раскладки (table)',
        tests: [
            {
                markup: '#| ||\nячейка_1_1\n|\n \\\\n   ячейка_1_2  \\\\n  \\\\nячейка_1_3\nячейка_1_4\n  \\\\n\n|| |#\n',
                title: 'Таблица с пробелами и переносами строк в ячейке',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 80,
                            column: 1,
                            line: 8,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 80,
                                    column: 1,
                                    line: 8,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 79,
                                            column: 6,
                                            line: 7,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 76,
                                                    column: 3,
                                                    line: 7,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 2,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 1,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 6,
                                                                            column: 1,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 16,
                                                                            column: 11,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'ячейка_1_1',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 17,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 75,
                                                            column: 2,
                                                            line: 7,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 19,
                                                                    column: 1,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 73,
                                                                    column: 6,
                                                                    line: 6,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 20,
                                                                            column: 2,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 22,
                                                                            column: 4,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    value: '\\',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 22,
                                                                            column: 4,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 38,
                                                                            column: 20,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    value: 'n   ячейка_1_2  ',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 38,
                                                                            column: 20,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 40,
                                                                            column: 22,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    value: '\\',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 40,
                                                                            column: 22,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 43,
                                                                            column: 25,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    value: 'n  ',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 43,
                                                                            column: 25,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 45,
                                                                            column: 27,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    value: '\\',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 45,
                                                                            column: 27,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 70,
                                                                            column: 3,
                                                                            line: 6,
                                                                        },
                                                                    },
                                                                    value: 'nячейка_1_3\nячейка_1_4\n  ',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 70,
                                                                            column: 3,
                                                                            line: 6,
                                                                        },
                                                                        end: {
                                                                            offset: 72,
                                                                            column: 5,
                                                                            line: 6,
                                                                        },
                                                                    },
                                                                    value: '\\',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 72,
                                                                            column: 5,
                                                                            line: 6,
                                                                        },
                                                                        end: {
                                                                            offset: 73,
                                                                            column: 6,
                                                                            line: 6,
                                                                        },
                                                                    },
                                                                    value: 'n',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||||\\\\xa0||||#\n#|\\\\xa0||cell1\\\\u2006\n\\\\u2002row2||\\\\u3000|#\n',
                title: 'Таблица с пробелами и переносами строк',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 61,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 61,
                                    column: 1,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 15,
                                            column: 16,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 12,
                                                    column: 13,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 12,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 10,
                                                                    column: 11,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: '\\',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 10,
                                                                            column: 11,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'xa0',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 15,
                                            column: 16,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 16,
                                            column: 1,
                                            line: 2,
                                        },
                                    },
                                    value: '\n',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 16,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 60,
                                            column: 23,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 23,
                                                    column: 8,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 51,
                                                    column: 14,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 24,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 50,
                                                            column: 13,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 25,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 49,
                                                                    column: 12,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 25,
                                                                            column: 10,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 30,
                                                                            column: 15,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'cell1',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 30,
                                                                            column: 15,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 32,
                                                                            column: 17,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: '\\',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 32,
                                                                            column: 17,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 38,
                                                                            column: 1,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'u2006\n',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 38,
                                                                            column: 1,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 40,
                                                                            column: 3,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: '\\',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 40,
                                                                            column: 3,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 49,
                                                                            column: 12,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'u2002row2',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||foo ""|"" bar||\n|#\n',
                title: 'Табличка, внутри ячейки которой есть разделители таблицы (escape "")',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 24,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 23,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 20,
                                            column: 18,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 19,
                                                    column: 17,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 16,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo ',
                                                        },
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 14,
                                                                    column: 12,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '""|""',
                                                            value: '|',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 14,
                                                                    column: 12,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 18,
                                                                    column: 16,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||foo ~| bar||\n|#\n',
                title: 'Табличка, внутри ячейки которой есть разделители таблицы (escape ~)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 21,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 20,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 17,
                                            column: 15,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 16,
                                                    column: 14,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo ',
                                                        },
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '~|',
                                                            value: '|',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 15,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||foo \\| bar||\n|#\n',
                title: 'Табличка, внутри ячейки которой есть разделитель таблицы (escape \\)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 21,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 20,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 17,
                                            column: 15,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 16,
                                                    column: 14,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '|',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 15,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||foo \\\\| bar||\n|#\n',
                title: 'Табличка, внутри ячейки которой есть разделитель таблицы (\\\\)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 22,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 21,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 18,
                                            column: 16,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 12,
                                                    column: 10,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '\\',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 11,
                                                    column: 9,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 17,
                                                    column: 15,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 16,
                                                            column: 14,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 13,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 14,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||!!foo \\| bar!!||\n|#\n',
                title: 'Табличка со строчным форматтером, внутри ячейки которой есть разделитель таблицы (escape \\)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 25,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 24,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 21,
                                            column: 19,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 20,
                                                    column: 18,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 19,
                                                            column: 17,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womRemark',
                                                            color: {
                                                                type: 'color',
                                                                raw: null,
                                                                value: '@red',
                                                            },
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 19,
                                                                    column: 17,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 7,
                                                                            column: 5,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 11,
                                                                            column: 9,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'foo ',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 11,
                                                                            column: 9,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 13,
                                                                            column: 11,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: '|',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 13,
                                                                            column: 11,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 17,
                                                                            column: 15,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: ' bar',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||!!foo \\\\| bar!!||\n|#\n',
                title: 'Табличка со строчным форматтером, внутри ячейки которой есть разделитель таблицы (\\\\)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 26,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 25,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 22,
                                            column: 20,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 14,
                                                    column: 12,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '!!foo ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 13,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '\\',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 13,
                                                    column: 11,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 21,
                                                    column: 19,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 20,
                                                            column: 18,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 15,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 20,
                                                                    column: 18,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'bar!!',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||foo||\n|#\n',
                title: 'Минимальная табличка без ничего',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 14,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 13,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 10,
                                            column: 8,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 7,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||foo\\""bar||\n|#\n',
                title: 'Табличка, внутри ячейки которой есть якобы открытое блочное экранирование (escape)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 20,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 19,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 16,
                                            column: 14,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 15,
                                                    column: 13,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 14,
                                                            column: 12,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 10,
                                                                    column: 8,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '"',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 10,
                                                                    column: 8,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 14,
                                                                    column: 12,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '"bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||foo""bar||\n|#\n',
                title: 'Табличка, внутри ячейки которой есть открытое блочное экранирование',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 19,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 18,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 15,
                                            column: 13,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 14,
                                                    column: 12,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 13,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo""bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||f""o""o""bar||\n|#\n',
                title: 'Табличка, внутри ячейки которой есть закрытое и открытое блочное экранирование',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 23,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 22,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 19,
                                            column: 17,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 18,
                                                    column: 16,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 17,
                                                            column: 15,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'f',
                                                        },
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '""o""',
                                                            value: 'o',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'o""bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||%%foo | bar%%||\n|#\n',
                title: 'Табличка со строчным wom-форматтером кода, в котором есть разделитель',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 24,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 23,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 20,
                                            column: 18,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 19,
                                                    column: 17,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 16,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 18,
                                                                    column: 16,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo | bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||\n%%\nfoo | bar\n%%\n||\n|#\n',
                title: 'Табличка с блочным wom-форматтером кода, в котором есть разделитель',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 28,
                            column: 1,
                            line: 8,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 27,
                                    column: 3,
                                    line: 7,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 24,
                                            column: 3,
                                            line: 6,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 23,
                                                    column: 2,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womFormatter',
                                                    inline: false,
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 21,
                                                            column: 3,
                                                            line: 5,
                                                        },
                                                    },
                                                    value: 'foo | bar\n',
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||%%||\n|#\n',
                title: 'Табличка внутри которой есть незакрытый wom-форматер кода',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 12,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 9,
                                            column: 7,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 8,
                                                    column: 6,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '%%',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||`foo | bar`||\n|#\n',
                title: 'Табличка со строчным md-форматтером кода, в котором есть разделитель',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 22,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 21,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 18,
                                            column: 16,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 17,
                                                    column: 15,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 16,
                                                            column: 14,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'inlineCode',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 14,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo | bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||\n```\nfoo | bar\n```\n||\n|#\n',
                title: 'Табличка с блочным md-форматтером кода, в котором есть разделитель',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 30,
                            column: 1,
                            line: 8,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 29,
                                    column: 3,
                                    line: 7,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 26,
                                            column: 3,
                                            line: 6,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 25,
                                                    column: 2,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'code',
                                                    lang: null,
                                                    meta: null,
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 23,
                                                            column: 4,
                                                            line: 5,
                                                        },
                                                    },
                                                    value: 'foo | bar',
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||`foo `` | `` bar`||\n|#\n',
                title: 'Табличка со странным строчным md-форматтером кода, в котором есть разделители',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 28,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 27,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 24,
                                            column: 22,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 23,
                                                    column: 21,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 22,
                                                            column: 20,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'inlineCode',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 22,
                                                                    column: 20,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'foo `` | `` bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||`||\n|#\n',
                title: 'Табличка внутри которой есть не закрытый md-форматер кода',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 12,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 11,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 8,
                                            column: 6,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 7,
                                                    column: 5,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '`',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||xx||\n|#\n',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 12,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 9,
                                            column: 7,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 8,
                                                    column: 6,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'xx',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||| xxx |||#',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 14,
                            line: 1,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 13,
                                    column: 14,
                                    line: 1,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 13,
                                            column: 14,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 11,
                                                    column: 12,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 10,
                                                            column: 11,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 9,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 8,
                                                                            column: 9,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'xxx',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|||<[]>|||#',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 12,
                            column: 13,
                            line: 1,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 12,
                                    column: 13,
                                    line: 1,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 12,
                                            column: 13,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 10,
                                                    column: 11,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 9,
                                                            column: 10,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 4,
                                                                    column: 5,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 9,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womBlockquote',
                                                                    inline: true,
                                                                    position: {
                                                                        start: {
                                                                            offset: 4,
                                                                            column: 5,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 8,
                                                                            column: 9,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|||``|||#',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 10,
                            column: 11,
                            line: 1,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 10,
                                    column: 11,
                                    line: 1,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 10,
                                            column: 11,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 8,
                                                    column: 9,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 8,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 4,
                                                                    column: 5,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'inlineCode',
                                                                    position: {
                                                                        start: {
                                                                            offset: 4,
                                                                            column: 5,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: '',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||| `x` |||#',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 14,
                            line: 1,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 13,
                                    column: 14,
                                    line: 1,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 13,
                                            column: 14,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 11,
                                                    column: 12,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 10,
                                                            column: 11,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 9,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'inlineCode',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 8,
                                                                            column: 9,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|||`x`|||#',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 11,
                            column: 12,
                            line: 1,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 11,
                                    column: 12,
                                    line: 1,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 11,
                                            column: 12,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 10,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 4,
                                                                    column: 5,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'inlineCode',
                                                                    position: {
                                                                        start: {
                                                                            offset: 4,
                                                                            column: 5,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||``||\n|#\n',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 12,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 9,
                                            column: 7,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 8,
                                                    column: 6,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'inlineCode',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|||xx|||#',
                title: 'Табличка внутри которой есть ПУСТОЙ md-форматер кода',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 10,
                            column: 11,
                            line: 1,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 10,
                                    column: 11,
                                    line: 1,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 10,
                                            column: 11,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 8,
                                                    column: 9,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 8,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 4,
                                                                    column: 5,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 4,
                                                                            column: 5,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'xx',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||\n%%\nfoo```bar\n%%\n```\n||\n|#\n',
                title: 'Пересекающиеся форматтеры %%```%%```',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 32,
                            column: 1,
                            line: 9,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 31,
                                    column: 3,
                                    line: 8,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 28,
                                            column: 3,
                                            line: 7,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 27,
                                                    column: 2,
                                                    line: 7,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womFormatter',
                                                    inline: false,
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 21,
                                                            column: 3,
                                                            line: 5,
                                                        },
                                                    },
                                                    value: 'foo```bar\n',
                                                },
                                                {
                                                    type: 'code',
                                                    lang: null,
                                                    meta: null,
                                                    position: {
                                                        start: {
                                                            offset: 22,
                                                            column: 1,
                                                            line: 6,
                                                        },
                                                        end: {
                                                            offset: 25,
                                                            column: 4,
                                                            line: 6,
                                                        },
                                                    },
                                                    value: '',
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||\n```\nfoo%%bar\n```\n%%\n||\n|#\n',
                title: 'Пересекающиеся форматтеры ```%%```%%',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 32,
                            column: 1,
                            line: 9,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 31,
                                    column: 3,
                                    line: 8,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 28,
                                            column: 3,
                                            line: 7,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 27,
                                                    column: 2,
                                                    line: 7,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'code',
                                                    lang: null,
                                                    meta: null,
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 22,
                                                            column: 4,
                                                            line: 5,
                                                        },
                                                    },
                                                    value: 'foo%%bar',
                                                },
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 23,
                                                            column: 1,
                                                            line: 6,
                                                        },
                                                        end: {
                                                            offset: 25,
                                                            column: 3,
                                                            line: 6,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 23,
                                                                    column: 1,
                                                                    line: 6,
                                                                },
                                                                end: {
                                                                    offset: 25,
                                                                    column: 3,
                                                                    line: 6,
                                                                },
                                                            },
                                                            value: '%%',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| удалить все локальные образы | %%docker images -aq | xargs docker rmi -f%%||\n|#\n',
                title: 'Пример из жизни 1',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 86,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 85,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 82,
                                            column: 80,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 36,
                                                    column: 34,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 34,
                                                            column: 32,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 32,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'удалить все локальные образы',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 35,
                                                    column: 33,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 81,
                                                    column: 79,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 37,
                                                            column: 35,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 80,
                                                            column: 78,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 37,
                                                                    column: 35,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 80,
                                                                    column: 78,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'docker images -aq | xargs docker rmi -f',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| удалить все локальные образы | %%docker images -aq | xargs docker rmi -f%%||\n|| удалить все локальные образы | %%docker images -aq | xargs docker rmi -f%%||\n|#\n',
                title: 'Пример из жизни 2 (несколько форматтеров)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 166,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 165,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 82,
                                            column: 80,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 36,
                                                    column: 34,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 34,
                                                            column: 32,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 32,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'удалить все локальные образы',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 35,
                                                    column: 33,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 81,
                                                    column: 79,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 37,
                                                            column: 35,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 80,
                                                            column: 78,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 37,
                                                                    column: 35,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 80,
                                                                    column: 78,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'docker images -aq | xargs docker rmi -f',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 83,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 162,
                                            column: 80,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 84,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 116,
                                                    column: 34,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 86,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 114,
                                                            column: 32,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 86,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 114,
                                                                    column: 32,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'удалить все локальные образы',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 115,
                                                    column: 33,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 161,
                                                    column: 79,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 117,
                                                            column: 35,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 160,
                                                            column: 78,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 117,
                                                                    column: 35,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 160,
                                                                    column: 78,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'docker images -aq | xargs docker rmi -f',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| удалить все локальные образы | %%docker images -aq | xargs docker rmi -f%%||\n|| удалить все локальные образы | %%docker images -aq | xargs docker rmi -f%%||\n|| удалить все локальные образы | %%docker images -aq | xargs docker rmi -f%%||\n|#\n',
                title: 'Пример из жизни 3',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 246,
                            column: 1,
                            line: 6,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 245,
                                    column: 3,
                                    line: 5,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 82,
                                            column: 80,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 36,
                                                    column: 34,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 34,
                                                            column: 32,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 32,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'удалить все локальные образы',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 35,
                                                    column: 33,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 81,
                                                    column: 79,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 37,
                                                            column: 35,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 80,
                                                            column: 78,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 37,
                                                                    column: 35,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 80,
                                                                    column: 78,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'docker images -aq | xargs docker rmi -f',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 83,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 162,
                                            column: 80,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 84,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 116,
                                                    column: 34,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 86,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 114,
                                                            column: 32,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 86,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 114,
                                                                    column: 32,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'удалить все локальные образы',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 115,
                                                    column: 33,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 161,
                                                    column: 79,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 117,
                                                            column: 35,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 160,
                                                            column: 78,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 117,
                                                                    column: 35,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 160,
                                                                    column: 78,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'docker images -aq | xargs docker rmi -f',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 163,
                                            column: 1,
                                            line: 4,
                                        },
                                        end: {
                                            offset: 242,
                                            column: 80,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 164,
                                                    column: 2,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 196,
                                                    column: 34,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 166,
                                                            column: 4,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 194,
                                                            column: 32,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 166,
                                                                    column: 4,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 194,
                                                                    column: 32,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: 'удалить все локальные образы',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 195,
                                                    column: 33,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 241,
                                                    column: 79,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 197,
                                                            column: 35,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 240,
                                                            column: 78,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 197,
                                                                    column: 35,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 240,
                                                                    column: 78,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: 'docker images -aq | xargs docker rmi -f',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||%%% %% test %% %%%||\n|#\n',
                title: 'Пример из жизни 4',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 29,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 28,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 25,
                                            column: 23,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 24,
                                                    column: 22,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 23,
                                                            column: 21,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '% ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' test ',
                                                        },
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 23,
                                                                    column: 21,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' %',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||%%% %% test %% %%%||\n||%%% %% test %% %%%||\n|#\n',
                title: 'Приммер из жизни 5',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 52,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 51,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 25,
                                            column: 23,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 24,
                                                    column: 22,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 23,
                                                            column: 21,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '% ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' test ',
                                                        },
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 23,
                                                                    column: 21,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' %',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 26,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 48,
                                            column: 23,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 27,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 47,
                                                    column: 22,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 28,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 46,
                                                            column: 21,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 28,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 9,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: '% ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 34,
                                                                    column: 9,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 40,
                                                                    column: 15,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: ' test ',
                                                        },
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 40,
                                                                    column: 15,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 46,
                                                                    column: 21,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: ' %',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||%%% %% test %% %%%||\n||%%% %% test %% %%%||\n||%%% %% test %% %%%||\n|#\n',
                title: 'Приммер из жизни 6',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 75,
                            column: 1,
                            line: 6,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 74,
                                    column: 3,
                                    line: 5,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 25,
                                            column: 23,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 24,
                                                    column: 22,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 23,
                                                            column: 21,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '% ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' test ',
                                                        },
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 23,
                                                                    column: 21,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: ' %',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 26,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 48,
                                            column: 23,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 27,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 47,
                                                    column: 22,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 28,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 46,
                                                            column: 21,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 28,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 9,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: '% ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 34,
                                                                    column: 9,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 40,
                                                                    column: 15,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: ' test ',
                                                        },
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 40,
                                                                    column: 15,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 46,
                                                                    column: 21,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: ' %',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 49,
                                            column: 1,
                                            line: 4,
                                        },
                                        end: {
                                            offset: 71,
                                            column: 23,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 50,
                                                    column: 2,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 70,
                                                    column: 22,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 51,
                                                            column: 3,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 69,
                                                            column: 21,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 51,
                                                                    column: 3,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 57,
                                                                    column: 9,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: '% ',
                                                        },
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 57,
                                                                    column: 9,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 63,
                                                                    column: 15,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: ' test ',
                                                        },
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 63,
                                                                    column: 15,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 69,
                                                                    column: 21,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: ' %',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||""%%test%%""||\n|#\n',
                title: 'Заэкранированный форматтер в таблице',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 23,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 22,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 19,
                                            column: 17,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 18,
                                                    column: 16,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 17,
                                                            column: 15,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 17,
                                                                    column: 15,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '""%%test%%""',
                                                            value: '%%test%%',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||% foo %|bar||\n|#\n',
                title: 'Табличка без форматеров, но с процентами',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 22,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 21,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 18,
                                            column: 16,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 11,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 12,
                                                            column: 10,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 12,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '% foo %',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 12,
                                                    column: 10,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 17,
                                                    column: 15,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 16,
                                                            column: 14,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 13,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 14,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'bar',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||%D0%B0%|%%docker images -aq |xargs docker rmi -f%%||\n|#\n',
                title: 'Кусок из жизни',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 61,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 60,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 57,
                                            column: 55,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 11,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 12,
                                                            column: 10,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 12,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '%D0%B0%',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 12,
                                                    column: 10,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 56,
                                                    column: 54,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 55,
                                                            column: 53,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 13,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 55,
                                                                    column: 53,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'docker images -aq |xargs docker rmi -f',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||`\\`|`test`||\n|#\n',
                title: '\\ не должен экранировать закрывающий разделитель md форматтера',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 21,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 20,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 17,
                                            column: 15,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 7,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'inlineCode',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '\\',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 8,
                                                    column: 6,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 16,
                                                    column: 14,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 9,
                                                            column: 7,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'inlineCode',
                                                            position: {
                                                                start: {
                                                                    offset: 9,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 15,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'test',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||%%\\%%|%%test%%||\n|#\n',
                title: '\\ не должен экранировать закрывающий разделитель wom форматтера',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 25,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 24,
                                    column: 3,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 21,
                                            column: 19,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 11,
                                                    column: 9,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 10,
                                                            column: 8,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 10,
                                                                    column: 8,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '\\',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 10,
                                                    column: 8,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 20,
                                                    column: 18,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 19,
                                                            column: 17,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womFormatter',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 19,
                                                                    column: 17,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'test',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| ||cell11|| ||cell21|| |#\n',
                title: 'Однострочная таблица',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 28,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 28,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 27,
                                            column: 28,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 14,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 12,
                                                            column: 13,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 12,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 11,
                                                                            column: 12,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'cell11',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 14,
                                                    column: 15,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 24,
                                                    column: 25,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 15,
                                                            column: 16,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 23,
                                                            column: 24,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 16,
                                                                    column: 17,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 22,
                                                                    column: 23,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 16,
                                                                            column: 17,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 22,
                                                                            column: 23,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'cell21',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||cell11|cell12|cell13||\n||cell21|cell22||\n|#\n',
                title: 'Таблица из разметки',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 49,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 48,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 27,
                                            column: 25,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 12,
                                                    column: 10,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'cell11',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 11,
                                                    column: 9,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 19,
                                                    column: 17,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 12,
                                                            column: 10,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 16,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 12,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 18,
                                                                    column: 16,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'cell12',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 18,
                                                    column: 16,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 26,
                                                    column: 24,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 19,
                                                            column: 17,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 25,
                                                            column: 23,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 19,
                                                                    column: 17,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 25,
                                                                    column: 23,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'cell13',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 28,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 45,
                                            column: 18,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 29,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 37,
                                                    column: 10,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 30,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 36,
                                                            column: 9,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 30,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 36,
                                                                    column: 9,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'cell21',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 36,
                                                    column: 9,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 44,
                                                    column: 17,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 37,
                                                            column: 10,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 43,
                                                            column: 16,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 37,
                                                                    column: 10,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 43,
                                                                    column: 16,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'cell22',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|| ||cell11|| ||cell21|| ||#\n',
                title: 'Однострочная раскладка',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 30,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 30,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 29,
                                            column: 30,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 5,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 14,
                                                    column: 15,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 6,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 14,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 12,
                                                                    column: 13,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 12,
                                                                            column: 13,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'cell11',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 15,
                                                    column: 16,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 25,
                                                    column: 26,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 16,
                                                            column: 17,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 24,
                                                            column: 25,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 17,
                                                                    column: 18,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 23,
                                                                    column: 24,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 17,
                                                                            column: 18,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 23,
                                                                            column: 24,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'cell21',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| || 1 | #| || xxx || |# | 1 | #| || xxx || |# | 1 || |#\n',
                title: 'Вложенная таблица',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 58,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 58,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 57,
                                            column: 58,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 54,
                                                    column: 55,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 9,
                                                            column: 10,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: '1',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 27,
                                                            column: 28,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 10,
                                                                    column: 11,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 25,
                                                                    column: 26,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTable',
                                                                    inline: true,
                                                                    position: {
                                                                        start: {
                                                                            offset: 10,
                                                                            column: 11,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 25,
                                                                            column: 26,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'womTableRow',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 13,
                                                                                    column: 14,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 22,
                                                                                    column: 23,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'womTableCell',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 14,
                                                                                            column: 15,
                                                                                            line: 1,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 21,
                                                                                            column: 22,
                                                                                            line: 1,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'paragraph',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 16,
                                                                                                    column: 17,
                                                                                                    line: 1,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 19,
                                                                                                    column: 20,
                                                                                                    line: 1,
                                                                                                },
                                                                                            },
                                                                                            children: [
                                                                                                {
                                                                                                    type: 'text',
                                                                                                    position: {
                                                                                                        start: {
                                                                                                            offset: 16,
                                                                                                            column: 17,
                                                                                                            line: 1,
                                                                                                        },
                                                                                                        end: {
                                                                                                            offset: 19,
                                                                                                            column: 20,
                                                                                                            line: 1,
                                                                                                        },
                                                                                                    },
                                                                                                    value: 'xxx',
                                                                                                },
                                                                                            ],
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 26,
                                                            column: 27,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 31,
                                                            column: 32,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 28,
                                                                    column: 29,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 29,
                                                                    column: 30,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 28,
                                                                            column: 29,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 29,
                                                                            column: 30,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: '1',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 30,
                                                            column: 31,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 49,
                                                            column: 50,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 32,
                                                                    column: 33,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 47,
                                                                    column: 48,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTable',
                                                                    inline: true,
                                                                    position: {
                                                                        start: {
                                                                            offset: 32,
                                                                            column: 33,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 47,
                                                                            column: 48,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'womTableRow',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 35,
                                                                                    column: 36,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 44,
                                                                                    column: 45,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'womTableCell',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 36,
                                                                                            column: 37,
                                                                                            line: 1,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 43,
                                                                                            column: 44,
                                                                                            line: 1,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'paragraph',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 38,
                                                                                                    column: 39,
                                                                                                    line: 1,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 41,
                                                                                                    column: 42,
                                                                                                    line: 1,
                                                                                                },
                                                                                            },
                                                                                            children: [
                                                                                                {
                                                                                                    type: 'text',
                                                                                                    position: {
                                                                                                        start: {
                                                                                                            offset: 38,
                                                                                                            column: 39,
                                                                                                            line: 1,
                                                                                                        },
                                                                                                        end: {
                                                                                                            offset: 41,
                                                                                                            column: 42,
                                                                                                            line: 1,
                                                                                                        },
                                                                                                    },
                                                                                                    value: 'xxx',
                                                                                                },
                                                                                            ],
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 48,
                                                            column: 49,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 53,
                                                            column: 54,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 50,
                                                                    column: 51,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 51,
                                                                    column: 52,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 50,
                                                                            column: 51,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 51,
                                                                            column: 52,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: '1',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||ячейка-строка|\n#||\n  ||ячейка во вложенной таблице||\n||#\n||\n|#\n',
                title: 'Вложенная раскладка',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 68,
                            column: 1,
                            line: 8,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 67,
                                    column: 3,
                                    line: 7,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 64,
                                            column: 3,
                                            line: 6,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 19,
                                                    column: 17,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 16,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 18,
                                                                    column: 16,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'ячейка-строка',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 18,
                                                    column: 16,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 63,
                                                    column: 2,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTable',
                                                    inline: false,
                                                    kind: 'layout',
                                                    position: {
                                                        start: {
                                                            offset: 20,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 61,
                                                            column: 4,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womTableRow',
                                                            position: {
                                                                start: {
                                                                    offset: 26,
                                                                    column: 3,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 57,
                                                                    column: 34,
                                                                    line: 4,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTableCell',
                                                                    position: {
                                                                        start: {
                                                                            offset: 27,
                                                                            column: 4,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 56,
                                                                            column: 33,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'paragraph',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 28,
                                                                                    column: 5,
                                                                                    line: 4,
                                                                                },
                                                                                end: {
                                                                                    offset: 55,
                                                                                    column: 32,
                                                                                    line: 4,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'text',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 28,
                                                                                            column: 5,
                                                                                            line: 4,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 55,
                                                                                            column: 32,
                                                                                            line: 4,
                                                                                        },
                                                                                    },
                                                                                    value: 'ячейка во вложенной таблице',
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||\n|| cell10 | #| ||cell11.0|| |# | #| ||cell12.0|| |# | cell13 ||\n|| cell20 | #| ||cell21.0|| |# | #| ||cell22.0|| |# | cell23 ||\n||#\n',
                title: 'Вложенные таблицы',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 136,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            kind: 'layout',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 135,
                                    column: 4,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 4,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 67,
                                            column: 64,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 5,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 15,
                                                    column: 12,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 7,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 10,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 7,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 13,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'cell10',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 14,
                                                    column: 11,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 36,
                                                    column: 33,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 16,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 34,
                                                            column: 31,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womTable',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 16,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 31,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTableRow',
                                                                    position: {
                                                                        start: {
                                                                            offset: 19,
                                                                            column: 16,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 31,
                                                                            column: 28,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'womTableCell',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 20,
                                                                                    column: 17,
                                                                                    line: 2,
                                                                                },
                                                                                end: {
                                                                                    offset: 30,
                                                                                    column: 27,
                                                                                    line: 2,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'paragraph',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 21,
                                                                                            column: 18,
                                                                                            line: 2,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 29,
                                                                                            column: 26,
                                                                                            line: 2,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'text',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 21,
                                                                                                    column: 18,
                                                                                                    line: 2,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 29,
                                                                                                    column: 26,
                                                                                                    line: 2,
                                                                                                },
                                                                                            },
                                                                                            value: 'cell11.0',
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 35,
                                                    column: 32,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 57,
                                                    column: 54,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 37,
                                                            column: 34,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 55,
                                                            column: 52,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womTable',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 37,
                                                                    column: 34,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 55,
                                                                    column: 52,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTableRow',
                                                                    position: {
                                                                        start: {
                                                                            offset: 40,
                                                                            column: 37,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 52,
                                                                            column: 49,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'womTableCell',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 41,
                                                                                    column: 38,
                                                                                    line: 2,
                                                                                },
                                                                                end: {
                                                                                    offset: 51,
                                                                                    column: 48,
                                                                                    line: 2,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'paragraph',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 42,
                                                                                            column: 39,
                                                                                            line: 2,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 50,
                                                                                            column: 47,
                                                                                            line: 2,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'text',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 42,
                                                                                                    column: 39,
                                                                                                    line: 2,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 50,
                                                                                                    column: 47,
                                                                                                    line: 2,
                                                                                                },
                                                                                            },
                                                                                            value: 'cell12.0',
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 56,
                                                    column: 53,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 66,
                                                    column: 63,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 58,
                                                            column: 55,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 64,
                                                            column: 61,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 58,
                                                                    column: 55,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 64,
                                                                    column: 61,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'cell13',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 68,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 131,
                                            column: 64,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 69,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 79,
                                                    column: 12,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 71,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 77,
                                                            column: 10,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 71,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 77,
                                                                    column: 10,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'cell20',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 78,
                                                    column: 11,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 100,
                                                    column: 33,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 80,
                                                            column: 13,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 98,
                                                            column: 31,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womTable',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 80,
                                                                    column: 13,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 98,
                                                                    column: 31,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTableRow',
                                                                    position: {
                                                                        start: {
                                                                            offset: 83,
                                                                            column: 16,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 95,
                                                                            column: 28,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'womTableCell',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 84,
                                                                                    column: 17,
                                                                                    line: 3,
                                                                                },
                                                                                end: {
                                                                                    offset: 94,
                                                                                    column: 27,
                                                                                    line: 3,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'paragraph',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 85,
                                                                                            column: 18,
                                                                                            line: 3,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 93,
                                                                                            column: 26,
                                                                                            line: 3,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'text',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 85,
                                                                                                    column: 18,
                                                                                                    line: 3,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 93,
                                                                                                    column: 26,
                                                                                                    line: 3,
                                                                                                },
                                                                                            },
                                                                                            value: 'cell21.0',
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 99,
                                                    column: 32,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 121,
                                                    column: 54,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 101,
                                                            column: 34,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 119,
                                                            column: 52,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womTable',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 101,
                                                                    column: 34,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 119,
                                                                    column: 52,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTableRow',
                                                                    position: {
                                                                        start: {
                                                                            offset: 104,
                                                                            column: 37,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 116,
                                                                            column: 49,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'womTableCell',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 105,
                                                                                    column: 38,
                                                                                    line: 3,
                                                                                },
                                                                                end: {
                                                                                    offset: 115,
                                                                                    column: 48,
                                                                                    line: 3,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'paragraph',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 106,
                                                                                            column: 39,
                                                                                            line: 3,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 114,
                                                                                            column: 47,
                                                                                            line: 3,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'text',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 106,
                                                                                                    column: 39,
                                                                                                    line: 3,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 114,
                                                                                                    column: 47,
                                                                                                    line: 3,
                                                                                                },
                                                                                            },
                                                                                            value: 'cell22.0',
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 120,
                                                    column: 53,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 130,
                                                    column: 63,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 122,
                                                            column: 55,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 128,
                                                            column: 61,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 122,
                                                                    column: 55,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 128,
                                                                    column: 61,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'cell23',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||\n|| cell10 | #| ||cell11.0| #| ||cell11.0.0|cell11.0.1|cell11.0.2|| |# |cell11.2|| |# | cell12 ||\n||#\n',
                title: 'Очень вложенные таблицы',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 105,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            kind: 'layout',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 104,
                                    column: 4,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 4,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 100,
                                            column: 97,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 5,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 15,
                                                    column: 12,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 7,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 10,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 7,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 13,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'cell10',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 14,
                                                    column: 11,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 90,
                                                    column: 87,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 16,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 88,
                                                            column: 85,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womTable',
                                                            inline: true,
                                                            position: {
                                                                start: {
                                                                    offset: 16,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 88,
                                                                    column: 85,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womTableRow',
                                                                    position: {
                                                                        start: {
                                                                            offset: 19,
                                                                            column: 16,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 85,
                                                                            column: 82,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'womTableCell',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 20,
                                                                                    column: 17,
                                                                                    line: 2,
                                                                                },
                                                                                end: {
                                                                                    offset: 30,
                                                                                    column: 27,
                                                                                    line: 2,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'paragraph',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 21,
                                                                                            column: 18,
                                                                                            line: 2,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 29,
                                                                                            column: 26,
                                                                                            line: 2,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'text',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 21,
                                                                                                    column: 18,
                                                                                                    line: 2,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 29,
                                                                                                    column: 26,
                                                                                                    line: 2,
                                                                                                },
                                                                                            },
                                                                                            value: 'cell11.0',
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                        {
                                                                            type: 'womTableCell',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 29,
                                                                                    column: 26,
                                                                                    line: 2,
                                                                                },
                                                                                end: {
                                                                                    offset: 75,
                                                                                    column: 72,
                                                                                    line: 2,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'paragraph',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 31,
                                                                                            column: 28,
                                                                                            line: 2,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 73,
                                                                                            column: 70,
                                                                                            line: 2,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'womTable',
                                                                                            inline: true,
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 31,
                                                                                                    column: 28,
                                                                                                    line: 2,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 73,
                                                                                                    column: 70,
                                                                                                    line: 2,
                                                                                                },
                                                                                            },
                                                                                            children: [
                                                                                                {
                                                                                                    type: 'womTableRow',
                                                                                                    position: {
                                                                                                        start: {
                                                                                                            offset: 34,
                                                                                                            column: 31,
                                                                                                            line: 2,
                                                                                                        },
                                                                                                        end: {
                                                                                                            offset: 70,
                                                                                                            column: 67,
                                                                                                            line: 2,
                                                                                                        },
                                                                                                    },
                                                                                                    children: [
                                                                                                        {
                                                                                                            type: 'womTableCell',
                                                                                                            position: {
                                                                                                                start: {
                                                                                                                    offset: 35,
                                                                                                                    column: 32,
                                                                                                                    line: 2,
                                                                                                                },
                                                                                                                end: {
                                                                                                                    offset: 47,
                                                                                                                    column: 44,
                                                                                                                    line: 2,
                                                                                                                },
                                                                                                            },
                                                                                                            children: [
                                                                                                                {
                                                                                                                    type: 'paragraph',
                                                                                                                    position: {
                                                                                                                        start: {
                                                                                                                            offset: 36,
                                                                                                                            column: 33,
                                                                                                                            line: 2,
                                                                                                                        },
                                                                                                                        end: {
                                                                                                                            offset: 46,
                                                                                                                            column: 43,
                                                                                                                            line: 2,
                                                                                                                        },
                                                                                                                    },
                                                                                                                    children: [
                                                                                                                        {
                                                                                                                            type: 'text',
                                                                                                                            position: {
                                                                                                                                start: {
                                                                                                                                    offset: 36,
                                                                                                                                    column: 33,
                                                                                                                                    line: 2,
                                                                                                                                },
                                                                                                                                end: {
                                                                                                                                    offset: 46,
                                                                                                                                    column: 43,
                                                                                                                                    line: 2,
                                                                                                                                },
                                                                                                                            },
                                                                                                                            value: 'cell11.0.0',
                                                                                                                        },
                                                                                                                    ],
                                                                                                                },
                                                                                                            ],
                                                                                                        },
                                                                                                        {
                                                                                                            type: 'womTableCell',
                                                                                                            position: {
                                                                                                                start: {
                                                                                                                    offset: 46,
                                                                                                                    column: 43,
                                                                                                                    line: 2,
                                                                                                                },
                                                                                                                end: {
                                                                                                                    offset: 58,
                                                                                                                    column: 55,
                                                                                                                    line: 2,
                                                                                                                },
                                                                                                            },
                                                                                                            children: [
                                                                                                                {
                                                                                                                    type: 'paragraph',
                                                                                                                    position: {
                                                                                                                        start: {
                                                                                                                            offset: 47,
                                                                                                                            column: 44,
                                                                                                                            line: 2,
                                                                                                                        },
                                                                                                                        end: {
                                                                                                                            offset: 57,
                                                                                                                            column: 54,
                                                                                                                            line: 2,
                                                                                                                        },
                                                                                                                    },
                                                                                                                    children: [
                                                                                                                        {
                                                                                                                            type: 'text',
                                                                                                                            position: {
                                                                                                                                start: {
                                                                                                                                    offset: 47,
                                                                                                                                    column: 44,
                                                                                                                                    line: 2,
                                                                                                                                },
                                                                                                                                end: {
                                                                                                                                    offset: 57,
                                                                                                                                    column: 54,
                                                                                                                                    line: 2,
                                                                                                                                },
                                                                                                                            },
                                                                                                                            value: 'cell11.0.1',
                                                                                                                        },
                                                                                                                    ],
                                                                                                                },
                                                                                                            ],
                                                                                                        },
                                                                                                        {
                                                                                                            type: 'womTableCell',
                                                                                                            position: {
                                                                                                                start: {
                                                                                                                    offset: 57,
                                                                                                                    column: 54,
                                                                                                                    line: 2,
                                                                                                                },
                                                                                                                end: {
                                                                                                                    offset: 69,
                                                                                                                    column: 66,
                                                                                                                    line: 2,
                                                                                                                },
                                                                                                            },
                                                                                                            children: [
                                                                                                                {
                                                                                                                    type: 'paragraph',
                                                                                                                    position: {
                                                                                                                        start: {
                                                                                                                            offset: 58,
                                                                                                                            column: 55,
                                                                                                                            line: 2,
                                                                                                                        },
                                                                                                                        end: {
                                                                                                                            offset: 68,
                                                                                                                            column: 65,
                                                                                                                            line: 2,
                                                                                                                        },
                                                                                                                    },
                                                                                                                    children: [
                                                                                                                        {
                                                                                                                            type: 'text',
                                                                                                                            position: {
                                                                                                                                start: {
                                                                                                                                    offset: 58,
                                                                                                                                    column: 55,
                                                                                                                                    line: 2,
                                                                                                                                },
                                                                                                                                end: {
                                                                                                                                    offset: 68,
                                                                                                                                    column: 65,
                                                                                                                                    line: 2,
                                                                                                                                },
                                                                                                                            },
                                                                                                                            value: 'cell11.0.2',
                                                                                                                        },
                                                                                                                    ],
                                                                                                                },
                                                                                                            ],
                                                                                                        },
                                                                                                    ],
                                                                                                },
                                                                                            ],
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                        {
                                                                            type: 'womTableCell',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 74,
                                                                                    column: 71,
                                                                                    line: 2,
                                                                                },
                                                                                end: {
                                                                                    offset: 84,
                                                                                    column: 81,
                                                                                    line: 2,
                                                                                },
                                                                            },
                                                                            children: [
                                                                                {
                                                                                    type: 'paragraph',
                                                                                    position: {
                                                                                        start: {
                                                                                            offset: 75,
                                                                                            column: 72,
                                                                                            line: 2,
                                                                                        },
                                                                                        end: {
                                                                                            offset: 83,
                                                                                            column: 80,
                                                                                            line: 2,
                                                                                        },
                                                                                    },
                                                                                    children: [
                                                                                        {
                                                                                            type: 'text',
                                                                                            position: {
                                                                                                start: {
                                                                                                    offset: 75,
                                                                                                    column: 72,
                                                                                                    line: 2,
                                                                                                },
                                                                                                end: {
                                                                                                    offset: 83,
                                                                                                    column: 80,
                                                                                                    line: 2,
                                                                                                },
                                                                                            },
                                                                                            value: 'cell11.2',
                                                                                        },
                                                                                    ],
                                                                                },
                                                                            ],
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 89,
                                                    column: 86,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 99,
                                                    column: 96,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 91,
                                                            column: 88,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 97,
                                                            column: 94,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 91,
                                                                    column: 88,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 97,
                                                                    column: 94,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'cell12',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n**||Column 1|Column 2||**\n|| | ||\n|#\n',
                title: 'Таблица с жирной строкой-заголовком',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 40,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 39,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 5,
                                            column: 3,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 26,
                                            column: 24,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 6,
                                                    column: 4,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 16,
                                                    column: 14,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 7,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 7,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 15,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'Column 1',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 15,
                                                    column: 13,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 25,
                                                    column: 23,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 16,
                                                            column: 14,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 24,
                                                            column: 22,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 16,
                                                                    column: 14,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 24,
                                                                    column: 22,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'Column 2',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 29,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 36,
                                            column: 8,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 30,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 33,
                                                    column: 5,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 32,
                                                    column: 4,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 35,
                                                    column: 7,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| 1 | 2 ||\n**!!//||Column 1|Column 2||//!!**\n|| 3 | 4 ||\n|#\n',
                title: 'Таблица со стилизованной строкой в центре',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 64,
                            column: 1,
                            line: 6,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 63,
                                    column: 3,
                                    line: 5,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 14,
                                            column: 12,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 7,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '1',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 8,
                                                    column: 6,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 11,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 10,
                                                            column: 8,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 10,
                                                                    column: 8,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '2',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 21,
                                            column: 7,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 42,
                                            column: 28,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 22,
                                                    column: 8,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 32,
                                                    column: 18,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 23,
                                                            column: 9,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 31,
                                                            column: 17,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 23,
                                                                    column: 9,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 31,
                                                                    column: 17,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'Column 1',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 31,
                                                    column: 17,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 41,
                                                    column: 27,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 32,
                                                            column: 18,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 40,
                                                            column: 26,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 32,
                                                                    column: 18,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 40,
                                                                    column: 26,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'Column 2',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 49,
                                            column: 1,
                                            line: 4,
                                        },
                                        end: {
                                            offset: 60,
                                            column: 12,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 50,
                                                    column: 2,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 55,
                                                    column: 7,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 52,
                                                            column: 4,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 53,
                                                            column: 5,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 52,
                                                                    column: 4,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 53,
                                                                    column: 5,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: '3',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 54,
                                                    column: 6,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 59,
                                                    column: 11,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 56,
                                                            column: 8,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 57,
                                                            column: 9,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 56,
                                                                    column: 8,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 57,
                                                                    column: 9,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: '4',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n**|| 1a | 1b ||**\n//|| 1a | 1b ||//\n__|| 1a | 1b ||__\n##|| 1a | 1b ||##\n++|| 1a | 1b ||++\n--|| 1a | 1b ||--\n??|| 1a | 1b ||??\n!!|| 1a | 1b ||!!\n|#\n',
                title: 'Таблица с по разному стилизованными строками',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 150,
                            column: 1,
                            line: 11,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 149,
                                    column: 3,
                                    line: 10,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 5,
                                            column: 3,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 18,
                                            column: 16,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 6,
                                                    column: 4,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 12,
                                                    column: 10,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 10,
                                                            column: 8,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 10,
                                                                    column: 8,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 11,
                                                    column: 9,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 17,
                                                    column: 15,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 13,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 15,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 23,
                                            column: 3,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 36,
                                            column: 16,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 24,
                                                    column: 4,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 30,
                                                    column: 10,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 26,
                                                            column: 6,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 28,
                                                            column: 8,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 26,
                                                                    column: 6,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 28,
                                                                    column: 8,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 29,
                                                    column: 9,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 35,
                                                    column: 15,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 31,
                                                            column: 11,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 33,
                                                            column: 13,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 31,
                                                                    column: 11,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 33,
                                                                    column: 13,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 41,
                                            column: 3,
                                            line: 4,
                                        },
                                        end: {
                                            offset: 54,
                                            column: 16,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 42,
                                                    column: 4,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 48,
                                                    column: 10,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 44,
                                                            column: 6,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 46,
                                                            column: 8,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 44,
                                                                    column: 6,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 46,
                                                                    column: 8,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 47,
                                                    column: 9,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 53,
                                                    column: 15,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 49,
                                                            column: 11,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 51,
                                                            column: 13,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 49,
                                                                    column: 11,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 51,
                                                                    column: 13,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 59,
                                            column: 3,
                                            line: 5,
                                        },
                                        end: {
                                            offset: 72,
                                            column: 16,
                                            line: 5,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 60,
                                                    column: 4,
                                                    line: 5,
                                                },
                                                end: {
                                                    offset: 66,
                                                    column: 10,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 62,
                                                            column: 6,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 64,
                                                            column: 8,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 62,
                                                                    column: 6,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 64,
                                                                    column: 8,
                                                                    line: 5,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 65,
                                                    column: 9,
                                                    line: 5,
                                                },
                                                end: {
                                                    offset: 71,
                                                    column: 15,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 67,
                                                            column: 11,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 69,
                                                            column: 13,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 67,
                                                                    column: 11,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 69,
                                                                    column: 13,
                                                                    line: 5,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 77,
                                            column: 3,
                                            line: 6,
                                        },
                                        end: {
                                            offset: 90,
                                            column: 16,
                                            line: 6,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 78,
                                                    column: 4,
                                                    line: 6,
                                                },
                                                end: {
                                                    offset: 84,
                                                    column: 10,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 80,
                                                            column: 6,
                                                            line: 6,
                                                        },
                                                        end: {
                                                            offset: 82,
                                                            column: 8,
                                                            line: 6,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 80,
                                                                    column: 6,
                                                                    line: 6,
                                                                },
                                                                end: {
                                                                    offset: 82,
                                                                    column: 8,
                                                                    line: 6,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 83,
                                                    column: 9,
                                                    line: 6,
                                                },
                                                end: {
                                                    offset: 89,
                                                    column: 15,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 85,
                                                            column: 11,
                                                            line: 6,
                                                        },
                                                        end: {
                                                            offset: 87,
                                                            column: 13,
                                                            line: 6,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 85,
                                                                    column: 11,
                                                                    line: 6,
                                                                },
                                                                end: {
                                                                    offset: 87,
                                                                    column: 13,
                                                                    line: 6,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 95,
                                            column: 3,
                                            line: 7,
                                        },
                                        end: {
                                            offset: 108,
                                            column: 16,
                                            line: 7,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 96,
                                                    column: 4,
                                                    line: 7,
                                                },
                                                end: {
                                                    offset: 102,
                                                    column: 10,
                                                    line: 7,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 98,
                                                            column: 6,
                                                            line: 7,
                                                        },
                                                        end: {
                                                            offset: 100,
                                                            column: 8,
                                                            line: 7,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 98,
                                                                    column: 6,
                                                                    line: 7,
                                                                },
                                                                end: {
                                                                    offset: 100,
                                                                    column: 8,
                                                                    line: 7,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 101,
                                                    column: 9,
                                                    line: 7,
                                                },
                                                end: {
                                                    offset: 107,
                                                    column: 15,
                                                    line: 7,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 103,
                                                            column: 11,
                                                            line: 7,
                                                        },
                                                        end: {
                                                            offset: 105,
                                                            column: 13,
                                                            line: 7,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 103,
                                                                    column: 11,
                                                                    line: 7,
                                                                },
                                                                end: {
                                                                    offset: 105,
                                                                    column: 13,
                                                                    line: 7,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 113,
                                            column: 3,
                                            line: 8,
                                        },
                                        end: {
                                            offset: 126,
                                            column: 16,
                                            line: 8,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 114,
                                                    column: 4,
                                                    line: 8,
                                                },
                                                end: {
                                                    offset: 120,
                                                    column: 10,
                                                    line: 8,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 116,
                                                            column: 6,
                                                            line: 8,
                                                        },
                                                        end: {
                                                            offset: 118,
                                                            column: 8,
                                                            line: 8,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 116,
                                                                    column: 6,
                                                                    line: 8,
                                                                },
                                                                end: {
                                                                    offset: 118,
                                                                    column: 8,
                                                                    line: 8,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 119,
                                                    column: 9,
                                                    line: 8,
                                                },
                                                end: {
                                                    offset: 125,
                                                    column: 15,
                                                    line: 8,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 121,
                                                            column: 11,
                                                            line: 8,
                                                        },
                                                        end: {
                                                            offset: 123,
                                                            column: 13,
                                                            line: 8,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 121,
                                                                    column: 11,
                                                                    line: 8,
                                                                },
                                                                end: {
                                                                    offset: 123,
                                                                    column: 13,
                                                                    line: 8,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 131,
                                            column: 3,
                                            line: 9,
                                        },
                                        end: {
                                            offset: 144,
                                            column: 16,
                                            line: 9,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 132,
                                                    column: 4,
                                                    line: 9,
                                                },
                                                end: {
                                                    offset: 138,
                                                    column: 10,
                                                    line: 9,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 134,
                                                            column: 6,
                                                            line: 9,
                                                        },
                                                        end: {
                                                            offset: 136,
                                                            column: 8,
                                                            line: 9,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 134,
                                                                    column: 6,
                                                                    line: 9,
                                                                },
                                                                end: {
                                                                    offset: 136,
                                                                    column: 8,
                                                                    line: 9,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 137,
                                                    column: 9,
                                                    line: 9,
                                                },
                                                end: {
                                                    offset: 143,
                                                    column: 15,
                                                    line: 9,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 139,
                                                            column: 11,
                                                            line: 9,
                                                        },
                                                        end: {
                                                            offset: 141,
                                                            column: 13,
                                                            line: 9,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 139,
                                                                    column: 11,
                                                                    line: 9,
                                                                },
                                                                end: {
                                                                    offset: 141,
                                                                    column: 13,
                                                                    line: 9,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n!!(крас)|| 1a | 1b ||!!\n!!(зел)|| 1a | 1b ||!!\n!!(син)|| 1a | 1b ||!!\n!!(grey)|| 1a | 1b ||!!\n!!(yellow)|| 1a | 1b ||!!\n|#\n',
                title: 'Таблица с разноцветными строками',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 126,
                            column: 1,
                            line: 8,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 125,
                                    column: 3,
                                    line: 7,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 11,
                                            column: 9,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 24,
                                            column: 22,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 12,
                                                    column: 10,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 18,
                                                    column: 16,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 14,
                                                            column: 12,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 16,
                                                            column: 14,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 14,
                                                                    column: 12,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 14,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 17,
                                                    column: 15,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 23,
                                                    column: 21,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 19,
                                                            column: 17,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 21,
                                                            column: 19,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 19,
                                                                    column: 17,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 21,
                                                                    column: 19,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 34,
                                            column: 8,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 47,
                                            column: 21,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 35,
                                                    column: 9,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 41,
                                                    column: 15,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 37,
                                                            column: 11,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 39,
                                                            column: 13,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 37,
                                                                    column: 11,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 39,
                                                                    column: 13,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 40,
                                                    column: 14,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 46,
                                                    column: 20,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 42,
                                                            column: 16,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 44,
                                                            column: 18,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 42,
                                                                    column: 16,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 44,
                                                                    column: 18,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 57,
                                            column: 8,
                                            line: 4,
                                        },
                                        end: {
                                            offset: 70,
                                            column: 21,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 58,
                                                    column: 9,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 64,
                                                    column: 15,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 60,
                                                            column: 11,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 62,
                                                            column: 13,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 60,
                                                                    column: 11,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 62,
                                                                    column: 13,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 63,
                                                    column: 14,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 69,
                                                    column: 20,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 65,
                                                            column: 16,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 67,
                                                            column: 18,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 65,
                                                                    column: 16,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 67,
                                                                    column: 18,
                                                                    line: 4,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 81,
                                            column: 9,
                                            line: 5,
                                        },
                                        end: {
                                            offset: 94,
                                            column: 22,
                                            line: 5,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 82,
                                                    column: 10,
                                                    line: 5,
                                                },
                                                end: {
                                                    offset: 88,
                                                    column: 16,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 84,
                                                            column: 12,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 86,
                                                            column: 14,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 84,
                                                                    column: 12,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 86,
                                                                    column: 14,
                                                                    line: 5,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 87,
                                                    column: 15,
                                                    line: 5,
                                                },
                                                end: {
                                                    offset: 93,
                                                    column: 21,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 89,
                                                            column: 17,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 91,
                                                            column: 19,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 89,
                                                                    column: 17,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 91,
                                                                    column: 19,
                                                                    line: 5,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 107,
                                            column: 11,
                                            line: 6,
                                        },
                                        end: {
                                            offset: 120,
                                            column: 24,
                                            line: 6,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 108,
                                                    column: 12,
                                                    line: 6,
                                                },
                                                end: {
                                                    offset: 114,
                                                    column: 18,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 110,
                                                            column: 14,
                                                            line: 6,
                                                        },
                                                        end: {
                                                            offset: 112,
                                                            column: 16,
                                                            line: 6,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 110,
                                                                    column: 14,
                                                                    line: 6,
                                                                },
                                                                end: {
                                                                    offset: 112,
                                                                    column: 16,
                                                                    line: 6,
                                                                },
                                                            },
                                                            value: '1a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 113,
                                                    column: 17,
                                                    line: 6,
                                                },
                                                end: {
                                                    offset: 119,
                                                    column: 23,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 115,
                                                            column: 19,
                                                            line: 6,
                                                        },
                                                        end: {
                                                            offset: 117,
                                                            column: 21,
                                                            line: 6,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 115,
                                                                    column: 19,
                                                                    line: 6,
                                                                },
                                                                end: {
                                                                    offset: 117,
                                                                    column: 21,
                                                                    line: 6,
                                                                },
                                                            },
                                                            value: '1b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| Id | - ||||#\n',
                title: 'Пустые ячейки',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 19,
                            column: 1,
                            line: 3,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 18,
                                    column: 16,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 15,
                                            column: 13,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 10,
                                                    column: 8,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'Id',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 9,
                                                    column: 7,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 14,
                                                    column: 12,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 12,
                                                            column: 10,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 12,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '-',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| |#\n',
                title: 'Пустая таблица',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 6,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 6,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 5,
                                            column: 6,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| **//** |#\n',
                title: 'Пустая таблица с внутренностями',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 13,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 12,
                                            column: 13,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| абв**||ячейка|| |#\n',
                title: 'Некорректые символы в начале таблицы',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 22,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 22,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 21,
                                            column: 22,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 8,
                                                    column: 9,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 18,
                                                    column: 19,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 9,
                                                            column: 10,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 17,
                                                            column: 18,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 10,
                                                                    column: 11,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 17,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 10,
                                                                            column: 11,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 16,
                                                                            column: 17,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'ячейка',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| ||ячейка|| абв**|#\n',
                title: 'Некорректые символы в конце таблицы',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 22,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 22,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 21,
                                            column: 22,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 14,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 12,
                                                            column: 13,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 12,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 11,
                                                                            column: 12,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'ячейка',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n',
                title: 'Битый кусок таблицы 1',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 3,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 3,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 2,
                                            column: 3,
                                            line: 1,
                                        },
                                    },
                                    value: '#|',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '|#\n',
                title: 'Битый кусок таблицы 2',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 3,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 3,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 2,
                                            column: 3,
                                            line: 1,
                                        },
                                    },
                                    value: '|#',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||\n',
                title: 'Битый кусок раскладки 1',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 4,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 4,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 3,
                                            column: 4,
                                            line: 1,
                                        },
                                    },
                                    value: '#||',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '||#\n',
                title: 'Битый кусок раскладки 2',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 4,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 4,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 3,
                                            column: 4,
                                            line: 1,
                                        },
                                    },
                                    value: '||#',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|| |#\n',
                title: 'Битый кусок раскладка + таблица',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 7,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 7,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 6,
                                            column: 7,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|||#\n',
                title: 'Битый кусок раскладка + таблица впритык',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 6,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 6,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 5,
                                            column: 6,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||#\n',
                title: 'Битый кусок раскладка + # (или таблица без данных)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 5,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 5,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 4,
                                            column: 5,
                                            line: 1,
                                        },
                                    },
                                    value: '#||#',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||| x || |#\n',
                title: 'Таблица со строкой впритык 1',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 13,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 12,
                                            column: 13,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 10,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||| x |||#\n',
                title: 'Таблица со строкой впритык 2',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 12,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 12,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 11,
                                            column: 12,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 10,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||| | x |||#\n',
                title: 'Таблица с одной строкой и двумя колонками впритык',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 14,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 14,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 13,
                                            column: 14,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 11,
                                                    column: 12,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 6,
                                                            column: 7,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 6,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 10,
                                                            column: 11,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 9,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 8,
                                                                            column: 9,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|||x||||y|||#\n',
                title: 'Таблица с двумя строками впритык',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 15,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 15,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 14,
                                            column: 15,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 7,
                                                    column: 8,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 6,
                                                            column: 7,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 4,
                                                                    column: 5,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 4,
                                                                            column: 5,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 7,
                                                    column: 8,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 12,
                                                    column: 13,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 12,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 9,
                                                                    column: 10,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 10,
                                                                    column: 11,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 9,
                                                                            column: 10,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 10,
                                                                            column: 11,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'y',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||||c1|c2||||c3|c4||||#\n',
                title: 'Раскладка с двумя строками впритык',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 25,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 25,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 24,
                                            column: 25,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 12,
                                                    column: 13,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'c1',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 7,
                                                            column: 8,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 12,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 8,
                                                                    column: 9,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 10,
                                                                    column: 11,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 8,
                                                                            column: 9,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 10,
                                                                            column: 11,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'c2',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 12,
                                                    column: 13,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 21,
                                                    column: 22,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 13,
                                                            column: 14,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 17,
                                                            column: 18,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 14,
                                                                    column: 15,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 17,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 14,
                                                                            column: 15,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 16,
                                                                            column: 17,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'c3',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 16,
                                                            column: 17,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 20,
                                                            column: 21,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 17,
                                                                    column: 18,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 19,
                                                                    column: 20,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 17,
                                                                            column: 18,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 19,
                                                                            column: 20,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'c4',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|| || x ||||#\n',
                title: 'Раскладка с колонкой',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 15,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 15,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 14,
                                            column: 15,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 5,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 11,
                                                    column: 12,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 6,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 10,
                                                            column: 11,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 9,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 8,
                                                                            column: 9,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|||| x ||||#\n',
                title: 'Раскладка с колонкой впритык',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 14,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 14,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 13,
                                            column: 14,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 10,
                                                    column: 11,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 9,
                                                            column: 10,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|| ||x||||y||||#\n',
                title: 'Раскладка с двумя колонками',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 18,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 18,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 17,
                                            column: 18,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 5,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 10,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 6,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 9,
                                                    column: 10,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 14,
                                                    column: 15,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 10,
                                                            column: 11,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 14,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 12,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 12,
                                                                    column: 13,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 11,
                                                                            column: 12,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 12,
                                                                            column: 13,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'y',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||||x||||y||||#\n',
                title: 'Раскладка с двумя колонками впритык',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 17,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 17,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 16,
                                            column: 17,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 8,
                                                    column: 9,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 8,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 8,
                                                    column: 9,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 14,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 9,
                                                            column: 10,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 12,
                                                            column: 13,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 10,
                                                                    column: 11,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 12,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 10,
                                                                            column: 11,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 11,
                                                                            column: 12,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'y',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||| x ||||#abcdef\n',
                title: 'Таблица в начале, раскладка в конце',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 19,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 19,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 12,
                                            column: 13,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 2,
                                                    column: 3,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 10,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 3,
                                                            column: 4,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 8,
                                                            column: 9,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 7,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 6,
                                                                            column: 7,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 12,
                                            column: 13,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 18,
                                            column: 19,
                                            line: 1,
                                        },
                                    },
                                    value: 'abcdef',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|| || x || |#\n',
                title: 'Раскладка в начале, таблица в конце',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 15,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 15,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 14,
                                            column: 15,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 5,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 11,
                                                    column: 12,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 6,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 10,
                                                            column: 11,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 7,
                                                                    column: 8,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 8,
                                                                    column: 9,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 7,
                                                                            column: 8,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 8,
                                                                            column: 9,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'x',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|| || x | |#\n',
                title: 'Раскладка в начале, таблица в конце, с битой строкой',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 14,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 14,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 13,
                                            column: 14,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| ||a|| || |#\n#| ||b|| |#\n',
                title: 'Таблица с незакрытой строкой (WIKI-11913)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 27,
                            column: 1,
                            line: 3,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 27,
                                    column: 1,
                                    line: 3,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 15,
                                            column: 1,
                                            line: 2,
                                        },
                                    },
                                    value: '#| ||a|| || |#\n',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 15,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 26,
                                            column: 12,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 18,
                                                    column: 4,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 23,
                                                    column: 9,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 19,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 22,
                                                            column: 8,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 20,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 21,
                                                                    column: 7,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 20,
                                                                            column: 6,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 21,
                                                                            column: 7,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'b',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a|b||\n||a|b|\n|#\n#| ||b|| |#\n',
                title: 'Таблица с неправильно закрытой строкой (WIKI-11913)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 33,
                            column: 1,
                            line: 6,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 33,
                                    column: 1,
                                    line: 6,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 21,
                                            column: 1,
                                            line: 5,
                                        },
                                    },
                                    value: '#|\n||a|b||\n||a|b|\n|#\n',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 21,
                                            column: 1,
                                            line: 5,
                                        },
                                        end: {
                                            offset: 32,
                                            column: 12,
                                            line: 5,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 24,
                                                    column: 4,
                                                    line: 5,
                                                },
                                                end: {
                                                    offset: 29,
                                                    column: 9,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 25,
                                                            column: 5,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 28,
                                                            column: 8,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 26,
                                                                    column: 6,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 27,
                                                                    column: 7,
                                                                    line: 5,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 26,
                                                                            column: 6,
                                                                            line: 5,
                                                                        },
                                                                        end: {
                                                                            offset: 27,
                                                                            column: 7,
                                                                            line: 5,
                                                                        },
                                                                    },
                                                                    value: 'b',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a|b||\na|b||\n|#\n#| ||b|| |#\n',
                title: 'Таблица с неоткрытой строкой (WIKI-11913)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 32,
                            column: 1,
                            line: 6,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 32,
                                    column: 1,
                                    line: 6,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 20,
                                            column: 1,
                                            line: 5,
                                        },
                                    },
                                    value: '#|\n||a|b||\na|b||\n|#\n',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 20,
                                            column: 1,
                                            line: 5,
                                        },
                                        end: {
                                            offset: 31,
                                            column: 12,
                                            line: 5,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 23,
                                                    column: 4,
                                                    line: 5,
                                                },
                                                end: {
                                                    offset: 28,
                                                    column: 9,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 24,
                                                            column: 5,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 27,
                                                            column: 8,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 25,
                                                                    column: 6,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 26,
                                                                    column: 7,
                                                                    line: 5,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 25,
                                                                            column: 6,
                                                                            line: 5,
                                                                        },
                                                                        end: {
                                                                            offset: 26,
                                                                            column: 7,
                                                                            line: 5,
                                                                        },
                                                                    },
                                                                    value: 'b',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a|b||\n|a|b||\n|#\n#| ||b|| |#\n',
                title: 'Таблица с неправильно открытой строкой (WIKI-11913)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 33,
                            column: 1,
                            line: 6,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 33,
                                    column: 1,
                                    line: 6,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 21,
                                            column: 1,
                                            line: 5,
                                        },
                                    },
                                    value: '#|\n||a|b||\n|a|b||\n|#\n',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 21,
                                            column: 1,
                                            line: 5,
                                        },
                                        end: {
                                            offset: 32,
                                            column: 12,
                                            line: 5,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 24,
                                                    column: 4,
                                                    line: 5,
                                                },
                                                end: {
                                                    offset: 29,
                                                    column: 9,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 25,
                                                            column: 5,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 28,
                                                            column: 8,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 26,
                                                                    column: 6,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 27,
                                                                    column: 7,
                                                                    line: 5,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 26,
                                                                            column: 6,
                                                                            line: 5,
                                                                        },
                                                                        end: {
                                                                            offset: 27,
                                                                            column: 7,
                                                                            line: 5,
                                                                        },
                                                                    },
                                                                    value: 'b',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| 1 | ##||#\n',
                title: 'Не ломаемся на #| 1 | ##||# (WIKI-11913)',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 13,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 13,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 12,
                                            column: 13,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| a | b ||\n|| c | #ddd ||\n|#\n',
                title: 'Таблица с womColor в ячейке',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 33,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 32,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 14,
                                            column: 12,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 7,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 8,
                                                    column: 6,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 11,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 10,
                                                            column: 8,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 10,
                                                                    column: 8,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 15,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 29,
                                            column: 15,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 16,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 21,
                                                    column: 7,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 18,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 19,
                                                            column: 5,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 18,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 19,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'c',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 20,
                                                    column: 6,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 28,
                                                    column: 14,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 22,
                                                            column: 8,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 26,
                                                            column: 12,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'color',
                                                            position: {
                                                                start: {
                                                                    offset: 22,
                                                                    column: 8,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 26,
                                                                    column: 12,
                                                                    line: 3,
                                                                },
                                                            },
                                                            raw: '#ddd',
                                                            value: 'ddd',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| a | b ||\n|| c | ##monospace## ||\n|#\n',
                title: 'Таблица с womMonospace в ячейке',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 42,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 41,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 14,
                                            column: 12,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 9,
                                                    column: 7,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 7,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 7,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 8,
                                                    column: 6,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 11,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 10,
                                                            column: 8,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 10,
                                                                    column: 8,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 15,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 38,
                                            column: 24,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 16,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 21,
                                                    column: 7,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 18,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 19,
                                                            column: 5,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 18,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 19,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'c',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 20,
                                                    column: 6,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 37,
                                                    column: 23,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 22,
                                                            column: 8,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 35,
                                                            column: 21,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womMonospace',
                                                            position: {
                                                                start: {
                                                                    offset: 22,
                                                                    column: 8,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 35,
                                                                    column: 21,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 24,
                                                                            column: 10,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 33,
                                                                            column: 19,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'monospace',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#| ||ячейка1|##ячейка2 - моноширинная##|| |#\n',
                title: 'Таблица с womMonospace впритык',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 45,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 45,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 44,
                                            column: 45,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 41,
                                                    column: 42,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 14,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 12,
                                                                    column: 13,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 12,
                                                                            column: 13,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'ячейка1',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 12,
                                                            column: 13,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 40,
                                                            column: 41,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 13,
                                                                    column: 14,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 39,
                                                                    column: 40,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womMonospace',
                                                                    position: {
                                                                        start: {
                                                                            offset: 13,
                                                                            column: 14,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 39,
                                                                            column: 40,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 15,
                                                                                    column: 16,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 37,
                                                                                    column: 38,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'ячейка2 - моноширинная',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n|| #| ||a| |# | b ||\n|| c | d ||\n|#\n',
                title: 'Битая таблица с вложенной таблицей',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 39,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 39,
                                    column: 1,
                                    line: 5,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 6,
                                            column: 4,
                                            line: 2,
                                        },
                                    },
                                    value: '#|\n|| ',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 6,
                                            column: 4,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 38,
                                            column: 3,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 9,
                                                    column: 7,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 23,
                                                    column: 21,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 10,
                                                            column: 8,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 12,
                                                                    column: 10,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 11,
                                                                            column: 9,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 12,
                                                                            column: 10,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'a',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 12,
                                                            column: 10,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 14,
                                                            column: 12,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 16,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'heading',
                                                            depth: 1,
                                                            position: {
                                                                start: {
                                                                    offset: 15,
                                                                    column: 13,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 16,
                                                                    column: 14,
                                                                    line: 2,
                                                                },
                                                            },
                                                            section_local: 1,
                                                            children: [
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 17,
                                                            column: 15,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 22,
                                                            column: 20,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 19,
                                                                    column: 17,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 20,
                                                                    column: 18,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 19,
                                                                            column: 17,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 20,
                                                                            column: 18,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'b',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 24,
                                                    column: 1,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 35,
                                                    column: 12,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 25,
                                                            column: 2,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 30,
                                                            column: 7,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 27,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 28,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 27,
                                                                            column: 4,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 28,
                                                                            column: 5,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'c',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 29,
                                                            column: 6,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 34,
                                                            column: 11,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 31,
                                                                    column: 8,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 32,
                                                                    column: 9,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 31,
                                                                            column: 8,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 32,
                                                                            column: 9,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'd',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a| #| |b ||\n||c|d||\n|#\n',
                title: 'Таблица с битой вложенной таблицей 2',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 28,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 28,
                                    column: 1,
                                    line: 5,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 8,
                                            column: 6,
                                            line: 2,
                                        },
                                    },
                                    value: '#|\n||a| ',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 8,
                                            column: 6,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 27,
                                            column: 3,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 14,
                                                    column: 12,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 19,
                                                    column: 3,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 15,
                                                            column: 13,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 2,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: 'lalala #|\n||a|b||\n||c|d||\n|# lalala\n',
                title: 'Таблица c текстом вокруг',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 36,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 36,
                                    column: 1,
                                    line: 5,
                                },
                            },
                            children: [
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 7,
                                            column: 8,
                                            line: 1,
                                        },
                                    },
                                    value: 'lalala ',
                                },
                                {
                                    type: 'womTable',
                                    inline: true,
                                    position: {
                                        start: {
                                            offset: 7,
                                            column: 8,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 28,
                                            column: 3,
                                            line: 4,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 10,
                                                    column: 1,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 17,
                                                    column: 8,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 11,
                                                            column: 2,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 14,
                                                            column: 5,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 12,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 13,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 12,
                                                                            column: 3,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 13,
                                                                            column: 4,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'a',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 13,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 16,
                                                            column: 7,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 14,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 15,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 14,
                                                                            column: 5,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 15,
                                                                            column: 6,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: 'b',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 18,
                                                    column: 1,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 25,
                                                    column: 8,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 19,
                                                            column: 2,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 22,
                                                            column: 5,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 20,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 21,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 20,
                                                                            column: 3,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 21,
                                                                            column: 4,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'c',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 21,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 24,
                                                            column: 7,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 22,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 23,
                                                                    column: 6,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 22,
                                                                            column: 5,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 23,
                                                                            column: 6,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'd',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 28,
                                            column: 3,
                                            line: 4,
                                        },
                                        end: {
                                            offset: 35,
                                            column: 10,
                                            line: 4,
                                        },
                                    },
                                    value: ' lalala',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a| ~#|||w|||# |b||\n||c|d||\n|#\n',
                title: 'Таблица с экранированием (~) внутри',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 35,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 34,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 23,
                                            column: 21,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 7,
                                                    column: 5,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 6,
                                                    column: 4,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 20,
                                                    column: 18,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 18,
                                                            column: 16,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 18,
                                                                    column: 16,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '~#|||w|||#',
                                                            value: '#|||w|||#',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 19,
                                                    column: 17,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 22,
                                                    column: 20,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 20,
                                                            column: 18,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 21,
                                                            column: 19,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 20,
                                                                    column: 18,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 21,
                                                                    column: 19,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 24,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 31,
                                            column: 8,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 25,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 28,
                                                    column: 5,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 26,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 27,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 26,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 27,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'c',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 27,
                                                    column: 4,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 30,
                                                    column: 7,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 28,
                                                            column: 5,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 29,
                                                            column: 6,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 28,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 29,
                                                                    column: 6,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'd',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a| ~#| |b||\n||c|d||\n|#\n',
                title: 'Таблица с экранированием (~) внутри 2',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 28,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 27,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 16,
                                            column: 14,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 7,
                                                    column: 5,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 6,
                                                    column: 4,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 13,
                                                    column: 11,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 11,
                                                            column: 9,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 11,
                                                                    column: 9,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '~#|',
                                                            value: '#|',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 12,
                                                    column: 10,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 15,
                                                    column: 13,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 13,
                                                            column: 11,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 14,
                                                            column: 12,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 13,
                                                                    column: 11,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 14,
                                                                    column: 12,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 17,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 24,
                                            column: 8,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 18,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 21,
                                                    column: 5,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 19,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 20,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 19,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 20,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'c',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 20,
                                                    column: 4,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 23,
                                                    column: 7,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 21,
                                                            column: 5,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 22,
                                                            column: 6,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 21,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 22,
                                                                    column: 6,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'd',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a| ""#| || escaped || |#"" |b||\n||c|d||\n|#\n',
                title: 'Таблица с экранированием ("") внутри',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 48,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 47,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 36,
                                            column: 34,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 7,
                                                    column: 5,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 6,
                                                    column: 4,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 33,
                                                    column: 31,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 31,
                                                            column: 29,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 31,
                                                                    column: 29,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '""#| || escaped || |#""',
                                                            value: '#| || escaped || |#',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 32,
                                                    column: 30,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 35,
                                                    column: 33,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 33,
                                                            column: 31,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 34,
                                                            column: 32,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 33,
                                                                    column: 31,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 32,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 37,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 44,
                                            column: 8,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 38,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 41,
                                                    column: 5,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 39,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 40,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 39,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 40,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'c',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 40,
                                                    column: 4,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 43,
                                                    column: 7,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 41,
                                                            column: 5,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 42,
                                                            column: 6,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 41,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 42,
                                                                    column: 6,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'd',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||a| ""#| || escaped"" |b||\n||c|d||\n|#\n',
                title: 'Таблица с экранированием ("") внутри 2',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 42,
                            column: 1,
                            line: 5,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 41,
                                    column: 3,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 30,
                                            column: 28,
                                            line: 2,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 7,
                                                    column: 5,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 5,
                                                            column: 3,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 6,
                                                            column: 4,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 3,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 6,
                                                                    column: 4,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'a',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 6,
                                                    column: 4,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 27,
                                                    column: 25,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 8,
                                                            column: 6,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 25,
                                                            column: 23,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womEscape',
                                                            position: {
                                                                start: {
                                                                    offset: 8,
                                                                    column: 6,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 25,
                                                                    column: 23,
                                                                    line: 2,
                                                                },
                                                            },
                                                            raw: '""#| || escaped""',
                                                            value: '#| || escaped',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 26,
                                                    column: 24,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 29,
                                                    column: 27,
                                                    line: 2,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 27,
                                                            column: 25,
                                                            line: 2,
                                                        },
                                                        end: {
                                                            offset: 28,
                                                            column: 26,
                                                            line: 2,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 27,
                                                                    column: 25,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 28,
                                                                    column: 26,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: 'b',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 31,
                                            column: 1,
                                            line: 3,
                                        },
                                        end: {
                                            offset: 38,
                                            column: 8,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 32,
                                                    column: 2,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 35,
                                                    column: 5,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 33,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 34,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 33,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 34,
                                                                    column: 4,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'c',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 34,
                                                    column: 4,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 37,
                                                    column: 7,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 35,
                                                            column: 5,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 36,
                                                            column: 6,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'text',
                                                            position: {
                                                                start: {
                                                                    offset: 35,
                                                                    column: 5,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 36,
                                                                    column: 6,
                                                                    line: 3,
                                                                },
                                                            },
                                                            value: 'd',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||||~#||||#\n~**текст**\n~~|\n""|текст|""\n""""\n""#|| |текст1\nтекст2| ||#""\n||||#\n',
                title: 'Таблица с различным экранированием',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 79,
                            column: 1,
                            line: 9,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 79,
                                    column: 1,
                                    line: 9,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 78,
                                            column: 6,
                                            line: 8,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 75,
                                                    column: 3,
                                                    line: 8,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 27,
                                                            column: 4,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 26,
                                                                    column: 3,
                                                                    line: 3,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womEscape',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 12,
                                                                            column: 13,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    raw: '~#||||#',
                                                                    value: '#||||#',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 12,
                                                                            column: 13,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 13,
                                                                            column: 1,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    value: '\n',
                                                                },
                                                                {
                                                                    type: 'womEscape',
                                                                    position: {
                                                                        start: {
                                                                            offset: 13,
                                                                            column: 1,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 23,
                                                                            column: 11,
                                                                            line: 2,
                                                                        },
                                                                    },
                                                                    raw: '~**текст**',
                                                                    value: '**текст**',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 23,
                                                                            column: 11,
                                                                            line: 2,
                                                                        },
                                                                        end: {
                                                                            offset: 24,
                                                                            column: 1,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: '\n',
                                                                },
                                                                {
                                                                    type: 'womEscape',
                                                                    position: {
                                                                        start: {
                                                                            offset: 24,
                                                                            column: 1,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 26,
                                                                            column: 3,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    raw: '~~',
                                                                    value: '~',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 26,
                                                            column: 3,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 74,
                                                            column: 2,
                                                            line: 8,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 28,
                                                                    column: 1,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 72,
                                                                    column: 14,
                                                                    line: 7,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womEscape',
                                                                    position: {
                                                                        start: {
                                                                            offset: 28,
                                                                            column: 1,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 39,
                                                                            column: 12,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    raw: '""|текст|""',
                                                                    value: '|текст|',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 39,
                                                                            column: 12,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 40,
                                                                            column: 1,
                                                                            line: 5,
                                                                        },
                                                                    },
                                                                    value: '\n',
                                                                },
                                                                {
                                                                    type: 'womEscape',
                                                                    position: {
                                                                        start: {
                                                                            offset: 40,
                                                                            column: 1,
                                                                            line: 5,
                                                                        },
                                                                        end: {
                                                                            offset: 44,
                                                                            column: 5,
                                                                            line: 5,
                                                                        },
                                                                    },
                                                                    raw: '""""',
                                                                    value: '',
                                                                },
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 44,
                                                                            column: 5,
                                                                            line: 5,
                                                                        },
                                                                        end: {
                                                                            offset: 45,
                                                                            column: 1,
                                                                            line: 6,
                                                                        },
                                                                    },
                                                                    value: '\n',
                                                                },
                                                                {
                                                                    type: 'womEscape',
                                                                    position: {
                                                                        start: {
                                                                            offset: 45,
                                                                            column: 1,
                                                                            line: 6,
                                                                        },
                                                                        end: {
                                                                            offset: 72,
                                                                            column: 14,
                                                                            line: 7,
                                                                        },
                                                                    },
                                                                    raw: '""#|| |текст1\nтекст2| ||#""',
                                                                    value: '#|| |текст1\nтекст2| ||#',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||||**текст**|##текст1##|++текст2++|//текст3//|!!текст4!!|__текст5__|??текст6??|!!(green)текст7!!|--текст8--||||#\n',
                title: 'Таблица с вложенным вики-текстом',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 115,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 115,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 114,
                                            column: 115,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 111,
                                                    column: 112,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 15,
                                                            column: 16,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 14,
                                                                    column: 15,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'strong',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 14,
                                                                            column: 15,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 7,
                                                                                    column: 8,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 12,
                                                                                    column: 13,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 14,
                                                            column: 15,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 26,
                                                            column: 27,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 15,
                                                                    column: 16,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 25,
                                                                    column: 26,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womMonospace',
                                                                    position: {
                                                                        start: {
                                                                            offset: 15,
                                                                            column: 16,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 25,
                                                                            column: 26,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 17,
                                                                                    column: 18,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 23,
                                                                                    column: 24,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст1',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 25,
                                                            column: 26,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 37,
                                                            column: 38,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 26,
                                                                    column: 27,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 36,
                                                                    column: 37,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womSmall',
                                                                    position: {
                                                                        start: {
                                                                            offset: 26,
                                                                            column: 27,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 36,
                                                                            column: 37,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 28,
                                                                                    column: 29,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 34,
                                                                                    column: 35,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст2',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 36,
                                                            column: 37,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 48,
                                                            column: 49,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 37,
                                                                    column: 38,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 47,
                                                                    column: 48,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womItalic',
                                                                    position: {
                                                                        start: {
                                                                            offset: 37,
                                                                            column: 38,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 47,
                                                                            column: 48,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 39,
                                                                                    column: 40,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 45,
                                                                                    column: 46,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст3',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 47,
                                                            column: 48,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 59,
                                                            column: 60,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 48,
                                                                    column: 49,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 58,
                                                                    column: 59,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womRemark',
                                                                    color: {
                                                                        type: 'color',
                                                                        raw: null,
                                                                        value: '@red',
                                                                    },
                                                                    position: {
                                                                        start: {
                                                                            offset: 48,
                                                                            column: 49,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 58,
                                                                            column: 59,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 50,
                                                                                    column: 51,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 56,
                                                                                    column: 57,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст4',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 58,
                                                            column: 59,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 70,
                                                            column: 71,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 59,
                                                                    column: 60,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 69,
                                                                    column: 70,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womUnderline',
                                                                    position: {
                                                                        start: {
                                                                            offset: 59,
                                                                            column: 60,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 69,
                                                                            column: 70,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 61,
                                                                                    column: 62,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 67,
                                                                                    column: 68,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст5',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 69,
                                                            column: 70,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 81,
                                                            column: 82,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 70,
                                                                    column: 71,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 80,
                                                                    column: 81,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womQuestion',
                                                                    position: {
                                                                        start: {
                                                                            offset: 70,
                                                                            column: 71,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 80,
                                                                            column: 81,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 72,
                                                                                    column: 73,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 78,
                                                                                    column: 79,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст6',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 80,
                                                            column: 81,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 99,
                                                            column: 100,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 81,
                                                                    column: 82,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 98,
                                                                    column: 99,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womRemark',
                                                                    color: {
                                                                        type: 'color',
                                                                        raw: 'green',
                                                                        value: '@green',
                                                                    },
                                                                    position: {
                                                                        start: {
                                                                            offset: 81,
                                                                            column: 82,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 98,
                                                                            column: 99,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 90,
                                                                                    column: 91,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 96,
                                                                                    column: 97,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст7',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 98,
                                                            column: 99,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 110,
                                                            column: 111,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 99,
                                                                    column: 100,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 109,
                                                                    column: 110,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'womStrike',
                                                                    position: {
                                                                        start: {
                                                                            offset: 99,
                                                                            column: 100,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 109,
                                                                            column: 110,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 101,
                                                                                    column: 102,
                                                                                    line: 1,
                                                                                },
                                                                                end: {
                                                                                    offset: 107,
                                                                                    column: 108,
                                                                                    line: 1,
                                                                                },
                                                                            },
                                                                            value: 'текст8',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||||text1[[*text2||||#text3]]\n',
                title: 'Таблица c пересечением маркеров',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 31,
                            column: 1,
                            line: 2,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 31,
                                    column: 1,
                                    line: 2,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 23,
                                            column: 24,
                                            line: 1,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 20,
                                                    column: 21,
                                                    line: 1,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 19,
                                                            column: 20,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'paragraph',
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 18,
                                                                    column: 19,
                                                                    line: 1,
                                                                },
                                                            },
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 5,
                                                                            column: 6,
                                                                            line: 1,
                                                                        },
                                                                        end: {
                                                                            offset: 18,
                                                                            column: 19,
                                                                            line: 1,
                                                                        },
                                                                    },
                                                                    value: 'text1[[*text2',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                                {
                                    type: 'text',
                                    position: {
                                        start: {
                                            offset: 23,
                                            column: 24,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 30,
                                            column: 31,
                                            line: 1,
                                        },
                                    },
                                    value: 'text3]]',
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||\n||\nhttp://st.woof-team.ru/WIKI-456|\nhttp://st.woof-team.ru/WIKI-789|\nhttp://st.woof-team.ru/234\n||\n||#\n',
                title: 'Таблица с ссылками',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 107,
                            column: 1,
                            line: 8,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            kind: 'layout',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 106,
                                    column: 4,
                                    line: 7,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 4,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 102,
                                            column: 3,
                                            line: 6,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 5,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 39,
                                                    column: 33,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 7,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 38,
                                                            column: 32,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'link',
                                                            title: null,
                                                            position: {
                                                                start: {
                                                                    offset: 7,
                                                                    column: 1,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 38,
                                                                    column: 32,
                                                                    line: 3,
                                                                },
                                                            },
                                                            url: 'http://st.woof-team.ru/WIKI-456',
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 7,
                                                                            column: 1,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 38,
                                                                            column: 32,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    value: 'http://st.woof-team.ru/WIKI-456',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 38,
                                                    column: 32,
                                                    line: 3,
                                                },
                                                end: {
                                                    offset: 72,
                                                    column: 33,
                                                    line: 4,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 40,
                                                            column: 1,
                                                            line: 4,
                                                        },
                                                        end: {
                                                            offset: 71,
                                                            column: 32,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'link',
                                                            title: null,
                                                            position: {
                                                                start: {
                                                                    offset: 40,
                                                                    column: 1,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 71,
                                                                    column: 32,
                                                                    line: 4,
                                                                },
                                                            },
                                                            url: 'http://st.woof-team.ru/WIKI-789',
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 40,
                                                                            column: 1,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 71,
                                                                            column: 32,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    value: 'http://st.woof-team.ru/WIKI-789',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 71,
                                                    column: 32,
                                                    line: 4,
                                                },
                                                end: {
                                                    offset: 101,
                                                    column: 2,
                                                    line: 6,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'paragraph',
                                                    position: {
                                                        start: {
                                                            offset: 73,
                                                            column: 1,
                                                            line: 5,
                                                        },
                                                        end: {
                                                            offset: 99,
                                                            column: 27,
                                                            line: 5,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'link',
                                                            title: null,
                                                            position: {
                                                                start: {
                                                                    offset: 73,
                                                                    column: 1,
                                                                    line: 5,
                                                                },
                                                                end: {
                                                                    offset: 99,
                                                                    column: 27,
                                                                    line: 5,
                                                                },
                                                            },
                                                            url: 'http://st.woof-team.ru/234',
                                                            children: [
                                                                {
                                                                    type: 'text',
                                                                    position: {
                                                                        start: {
                                                                            offset: 73,
                                                                            column: 1,
                                                                            line: 5,
                                                                        },
                                                                        end: {
                                                                            offset: 99,
                                                                            column: 27,
                                                                            line: 5,
                                                                        },
                                                                    },
                                                                    value: 'http://st.woof-team.ru/234',
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#||||<# html-start <input type="<[text]>"> #>|\n<##>\n||||#\n',
                title: 'Таблица с womHtml',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 58,
                            column: 1,
                            line: 4,
                        },
                    },
                    children: [
                        {
                            type: 'paragraph',
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 58,
                                    column: 1,
                                    line: 4,
                                },
                            },
                            children: [
                                {
                                    type: 'womTable',
                                    inline: true,
                                    kind: 'layout',
                                    position: {
                                        start: {
                                            offset: 0,
                                            column: 1,
                                            line: 1,
                                        },
                                        end: {
                                            offset: 57,
                                            column: 6,
                                            line: 3,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableRow',
                                            position: {
                                                start: {
                                                    offset: 3,
                                                    column: 4,
                                                    line: 1,
                                                },
                                                end: {
                                                    offset: 54,
                                                    column: 3,
                                                    line: 3,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 4,
                                                            column: 5,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 46,
                                                            column: 47,
                                                            line: 1,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womHtml',
                                                            inline: false,
                                                            position: {
                                                                start: {
                                                                    offset: 5,
                                                                    column: 6,
                                                                    line: 1,
                                                                },
                                                                end: {
                                                                    offset: 45,
                                                                    column: 46,
                                                                    line: 1,
                                                                },
                                                            },
                                                            value: 'html-start <input type="<[text]>">',
                                                        },
                                                    ],
                                                },
                                                {
                                                    type: 'womTableCell',
                                                    position: {
                                                        start: {
                                                            offset: 45,
                                                            column: 46,
                                                            line: 1,
                                                        },
                                                        end: {
                                                            offset: 53,
                                                            column: 2,
                                                            line: 3,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'womHtml',
                                                            inline: false,
                                                            position: {
                                                                start: {
                                                                    offset: 47,
                                                                    column: 1,
                                                                    line: 2,
                                                                },
                                                                end: {
                                                                    offset: 51,
                                                                    column: 5,
                                                                    line: 2,
                                                                },
                                                            },
                                                            value: '',
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
            {
                markup: '#|\n||\n  * ненумерованный список-1\n  * ненумерованный список-2\n||\n|#\n',
                title: 'Таблица со смещенным списком внутри ячейки',
                expect: {
                    type: 'root',
                    position: {
                        start: {
                            offset: 0,
                            column: 1,
                            line: 1,
                        },
                        end: {
                            offset: 68,
                            column: 1,
                            line: 7,
                        },
                    },
                    children: [
                        {
                            type: 'womTable',
                            inline: false,
                            position: {
                                start: {
                                    offset: 0,
                                    column: 1,
                                    line: 1,
                                },
                                end: {
                                    offset: 67,
                                    column: 3,
                                    line: 6,
                                },
                            },
                            children: [
                                {
                                    type: 'womTableRow',
                                    position: {
                                        start: {
                                            offset: 3,
                                            column: 1,
                                            line: 2,
                                        },
                                        end: {
                                            offset: 64,
                                            column: 3,
                                            line: 5,
                                        },
                                    },
                                    children: [
                                        {
                                            type: 'womTableCell',
                                            position: {
                                                start: {
                                                    offset: 4,
                                                    column: 2,
                                                    line: 2,
                                                },
                                                end: {
                                                    offset: 63,
                                                    column: 2,
                                                    line: 5,
                                                },
                                            },
                                            children: [
                                                {
                                                    type: 'list',
                                                    start: null,
                                                    loose: false,
                                                    ordered: false,
                                                    position: {
                                                        start: {
                                                            offset: 6,
                                                            column: 1,
                                                            line: 3,
                                                        },
                                                        end: {
                                                            offset: 61,
                                                            column: 28,
                                                            line: 4,
                                                        },
                                                    },
                                                    children: [
                                                        {
                                                            type: 'listItem',
                                                            checked: null,
                                                            expandable: false,
                                                            loose: false,
                                                            position: {
                                                                start: {
                                                                    offset: 6,
                                                                    column: 1,
                                                                    line: 3,
                                                                },
                                                                end: {
                                                                    offset: 33,
                                                                    column: 28,
                                                                    line: 3,
                                                                },
                                                            },
                                                            restart: null,
                                                            children: [
                                                                {
                                                                    type: 'paragraph',
                                                                    position: {
                                                                        start: {
                                                                            offset: 10,
                                                                            column: 5,
                                                                            line: 3,
                                                                        },
                                                                        end: {
                                                                            offset: 33,
                                                                            column: 28,
                                                                            line: 3,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 10,
                                                                                    column: 5,
                                                                                    line: 3,
                                                                                },
                                                                                end: {
                                                                                    offset: 33,
                                                                                    column: 28,
                                                                                    line: 3,
                                                                                },
                                                                            },
                                                                            value: 'ненумерованный список-1',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                        {
                                                            type: 'listItem',
                                                            checked: null,
                                                            expandable: false,
                                                            loose: false,
                                                            position: {
                                                                start: {
                                                                    offset: 34,
                                                                    column: 1,
                                                                    line: 4,
                                                                },
                                                                end: {
                                                                    offset: 61,
                                                                    column: 28,
                                                                    line: 4,
                                                                },
                                                            },
                                                            restart: null,
                                                            children: [
                                                                {
                                                                    type: 'paragraph',
                                                                    position: {
                                                                        start: {
                                                                            offset: 38,
                                                                            column: 5,
                                                                            line: 4,
                                                                        },
                                                                        end: {
                                                                            offset: 61,
                                                                            column: 28,
                                                                            line: 4,
                                                                        },
                                                                    },
                                                                    children: [
                                                                        {
                                                                            type: 'text',
                                                                            position: {
                                                                                start: {
                                                                                    offset: 38,
                                                                                    column: 5,
                                                                                    line: 4,
                                                                                },
                                                                                end: {
                                                                                    offset: 61,
                                                                                    column: 28,
                                                                                    line: 4,
                                                                                },
                                                                            },
                                                                            value: 'ненумерованный список-2',
                                                                        },
                                                                    ],
                                                                },
                                                            ],
                                                        },
                                                    ],
                                                },
                                            ],
                                        },
                                    ],
                                },
                            ],
                        },
                    ],
                },
            },
        ],
    },
];
