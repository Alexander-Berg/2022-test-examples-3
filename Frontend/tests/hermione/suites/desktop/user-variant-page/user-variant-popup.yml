feature: Попап добавления/редактирования пользовательского варианта
description: всплывающее окно добавления/создания/редактирования варианта

specs:
    Добавление задачи:
        beforeEach:
            - do: убедиться, что пользователь залогинен
            - do: перейти на страницу задачи T9194, добавив в адрес параметр 'passport_uid=user_variant_test'
            - do: кликнуть в кнопку добавления задания в пользовательский вариант
            - assert: появился попап "Добавить задание" со списком вариантов
        Внешний вид:
            - screenshot: внешний вид попапа "Добавить задание" [popup]
        Закрытие попапа по кнопке:
            - do: кликнуть в крестик в окне попапа справа сверху
            - assert: |
                попап закрылся
                отображена страница задачи
                страница не обновилась
        Закрытие попапа по клику вне окна:
            - do: кликнуть в любую область вне окна попапа
            - assert: |
                попап закрылся
                отображена страница задачи
                страница не обновилась
        Скролл списка вариантов:
            - do: проскроллить содержимое попапа
            - assert: |
                список вариантов в попапе может быть просмотрен (проскроллен) весь
                содержимое страницы за окном попапа не скроллится
        Ховер на эл-те списка вариантов:
            - do: навести курсор мыши на один из вариантов в списке
            - assert: эл-нт подсвечен выделен цветом
            - screenshot: внешний вид попапа "Добавить задание" [hovered]
        В существующий вариант:
            - do: кликнуть в любой вариант в списке пользовательских вариантов
            - assert: |
                отображена страница задачи
                появилось всплывающее окно с текстом "Задание {Номер задания} добавлено в {Название варианта}"
            - screenshot: внешний вид страницы задачи с всплывающим окном [variant]
    Добавление задачи без логина c параметром integration=mes:
        - do: убедиться, что пользователь разлогинен
        - do: перейти на страницу задачи T9194, добавив в адрес параметры 'passport_uid=user_variant_test' и 'integration=mes'
        - do: кликнуть в кнопку добавления задания в пользовательский вариант
        - assert: появился попап "Добавить задание" со списком вариантов
        - screenshot: внешний вид попапа "Добавить задание" [popup]
    Добавление варианта:
            beforeEach:
                - do: перейти на страницу любой задачи, добавив в адрес параметр 'passport_uid=user_variant_test' #пользователь с пользовательскими вариантами
                - do: кликнуть в кнопку добавления задания в пользовательский вариант
                - assert: появился попап "Добавить задание" со списком вариантов
                - do: кликнуть в "В новый вариант"
                - assert: появился попап добавления варианта
            Внешний вид:
              - screenshot: внешний вид попапа добавления варианта [popup]
            Закрытие попапа по крестику:
                - do: кликнуть в крестик попапа
                - assert: |
                    попап закрылся
                    отображена страница задачи
            Закрытие попапа по кнопке Отмена:
                - do: кликнуть в кнопку "Отмена"
                - assert: отображен попап со списком вариантов
            Время выполнения [manual]:
                - automation: YOUNGLINGS-2848
                - do: кликнуть в селект "Время на выполнение"
                - assert: пользователь не может выбрать время выполнения варианта по предмету
            Пустые поля [manual]:
                - automation: YOUNGLINGS-2848
                - do: кликнуть в кнопку "Добавить", не заполняя название и описание
                - assert: |
                    поле названия варианта подсвечено красным с текстом "Заполните"
                    поле описания варианта подсвечено красным с текстом "Заполните"
            С описанием и тайтлом [manual]:
                - automation: YOUNGLINGS-2848
                - do: |
                    заполнить название варианта
                    заполнить описание варианта
                    кликнуть в кнопку "Добавить"
                - assert: |
                    попап закрылся
                    отображена страница задачи
                    появилось всплывающее окно с текстом "Задание {Номер задания} добавлено в {Название варианта}"
                - screenshot: внешний вид страницы с всплывающим окном [plain]
    Попап редактирования варианта:
        beforeEach:
            - do: перейти на главную страницу сервиса, добавив в адрес параметр 'passport_uid=user_variant_test' #пользователь c пользовательскими вариантами
            - do: перейти на страницу варианта variant_id=###
            - do: кликнуть в кнопку редактирования варианта
        Внешний вид:
            - assert: |
                появился попап редактирования варианта
                поле названия варианта заполнено
                поле описания варианта заполнено
            - screenshot: внешний вид попапа редактирования варианта [plain]
        Закрытие попапа по клику в крестик:
            - do: кликнуть в крестик в окне попапа справа сверху
            - assert: |
                попап закрылся
                отображена страница пользовательского варианта
        Закрытие попапа по кнопке Отмена:
            - do: кликнуть в кнопку Отмена
            - assert: |
                попап закрылся
                отображена страница пользовательского варианта
        Удаление варианта [manual]:
            - automation: YOUNGLINGS-2848
            - do: кликнуть в кнопку "Удалить вариант"
            - assert: |
                отображена страница пользовательских вариантов
                отображен попап удаления варианта внизу страницы
            - screeshot: внешний вид попапа удаления варианта [plain]

v-team: Younglings

qa-engineer:
    - helm

platform:
    - common

tags:
    - edu-front
    - user-variant-popup

files:
    - tests/hermione/suites/desktop/user-variant-page/user-variant-popup.hermione.js
