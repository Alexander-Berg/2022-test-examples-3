describe('b-campaign-settings_edit_yes', function() {
    var modelData = {
            "geo": "",
            "fairAuction": "0",
            "statusPostModerate": "Accepted",
            "disabledIps": null,
            "finish_date": null,
            "rf": "3",
            "autobudget_goal_id": null,
            "sendAccNews": true,
            "is_camp_locked": 0,
            "campaign_goals": {},
            "wait_servicing": 0,
            "autobudget_avg_cpa": null,
            "opts": {
                "enable_cpc_hold": 1
            },
            "warnPlaceInterval": "15",
            "yyyy": "2011",
            "camp_with_common_ci": 0,
            "is_search_stop": "0",
            "is_lego_mediaplan": null,
            "competitors_domains": "",
            "vcard": {},
            "compaign_domains_count": "1",
            "total_units": -205118,
            "metrika_counters": "",
            "broad_match_rate": "optimal",
            "cid": "3415609",
            "wallet_sum_spent": "0.000000",
            "filter_avg_cpa": null,
            "sum_spent_units": "205633",
            "sum_to_pay": "0.000000",
            "autobudget_sum": null,
            "archived": "No",
            "sum_spent": "15206.732800",
            "offlineStatNotice": true,
            "shows": "205633",
            "banners_status": {
                "running_unmoderated": 0
            },
            "statusActive": "No",
            "autobudgetForecastDate": null,
            "minus_words": [],
            "autobudget": "No",
            "broad_match_limit": "100",
            "autobudget_bid": null,
            "product_type": "text",
            "statusBsSynced": "No",
            "currency": "RUB",
            "sms_flags": {
                "moderate_result_sms": 1,
                "notify_metrica_control_sms": 1
            },
            "disabled_ssp": [],
            "statusMetricaControl": 1,
            "statusEmpty": "No",
            "no_extended_geotargeting": 0,
            "MIN_GOALS_ON_CAMPAIGN": 40,
            "wallet_money_warning_value": "20",
            "valid": "2",
            "fio": "hh rt yp",
            "wallet_sum": "27989.818400",
            "device_targeting": "",
            "mediaType": "text",
            "broad_match_goal_id": "0",
            "is_related_keywords_enabled": "1",
            "now_optimizing_by": null,
            "autobudget_avg_bid": null,
            "stopTime": "2013-09-08 19:37:43",
            "camp_description": null,
            "wallet_cid": "15127006",
            "enable_cpc_hold": 1,
            "strategy": {
                "is_net_stop": "",
                "search": {
                    "name": "default"
                },
                "is_autobudget": "",
                "net": {
                    "name": "default"
                },
                "is_search_stop": "",
                "name": ""
            },
            "statusContextStop": 0,
            "ProductID": "1475",
            "is_installed_app": null,
            "sms_time": "09:00:21:00",
            "statusOpenStat": 0,
            "sendNews": "Yes",
            "broad_match_flag": true,
            "network_targeting": null,
            "ManagerUID": "87960018",
            "email_notifications": {
                "paused_by_day_budget": 1
            },
            "last_pay_time": "2015-10-06",
            "dontShowYacontext": "No",
            "name": "Нтв+HD1",
            "no_title_substitute": 0,
            "timeTarget": "1KLMNOPQR2KLMNOPQR3KLMNOPQR4KLMNOPQR5KLMNOPQR6KLMNOPQR7KLMNOPQR",
            "content_lang": null,
            "favorite_camp": "0",
            "statusModerate": "Yes",
            "phone": "+79219354450",
            "DontShow": [],
            "strategy_min_price": {
                "premium": "",
                "guarantee": ""
            },
            "day_budget": {
                "stop_time": "0000-00-00 00:00:00",
                "show_mode": "default",
                "daily_change_count": "0",
                "recommended_sum": null,
                "sum": "0.00"
            },
            "filter_avg_bid": null,
            "device_type_targeting": null,
            "servicing_request": "",
            "statusShow": "No",
            "banners_per_page": "20",
            "dd": "11",
            "autobudget_roi_coef": null,
            "sum_counted_with_wallet": 1,
            "rfReset": "0",
            "status_click_track": true,
            "money_warning_value": "20",
            "ContextPriceCoef": "100",
            "sum": 43196.55,
            "sendWarn": true,
            "campaign": {
                "autobudget_roi_coef": null,
                "autobudget_goal_id": null,
                "day_budget_show_mode": "default",
                "campaign_goals": {},
                "autobudgetForecastDate": null,
                "autobudgetForecast": null,
                "autobudget_avg_bid": null,
                "count_all_goals": null,
                "currency": "RUB",
                "strategy_min_price": {
                    "premium": "",
                    "guarantee": ""
                },
                "autobudget_limit_clicks": null,
                "autobudget_sum": null,
                "day_budget": "0.00",
                "strategy": {
                    "is_search_stop": "",
                    "net": {
                        "name": "default"
                    },
                    "search": {
                        "name": "default"
                    },
                    "is_autobudget": "",
                    "is_net_stop": "",
                    "name": ""
                },
                "autobudget_avg_cpa": null,
                "content_lang": null,
                "autobudget": "No",
                "autobudget_bid": null,
                "autobudget_date": "2017-05-18"
            },
            "sum_units": "515",
            "OrderID": "1000477",
            "autobudgetForecast": null,
            "delayed_arc": null,
            "email": "dir@skyrun.su",
            "count_all_goals": null,
            "timetargeting": {
                "time_target_working_holiday": 0,
                "show_on_weekend": "1",
                "timezone_id": "130",
                "timeTargetMode": "simple",
                "timezone_text": "Москва",
                "time_target_preset": "worktime",
                "timeTarget": "1KLMNOPQR2KLMNOPQR3KLMNOPQR4KLMNOPQR5KLMNOPQR6KLMNOPQR7KLMNOPQR"
            },
            "hierarchical_multipliers": {},
            "mm": "04",
            "count_all_context_goals": null,
            "start_date": "2011-04-11",
            "clicks": "1047",
            "autobudget_date": "2017-05-18",
            "AgencyUID": null,
            "total": 27989.82,
            "ContextLimit": 100,
            "multipliers_meta": {
                "retargeting_multiplier": {
                    "pct_max": 1300,
                    "max_conditions": 100,
                    "pct_min": 0,
                    "enabled": 1
                },
                "demography_multiplier": {
                    "pct_min": 0,
                    "pct_max": 1300,
                    "max_conditions": 10,
                    "enabled": 1
                },
                "mobile_multiplier": {
                    "enabled": 1,
                    "pct_max": 1300,
                    "pct_min": 50
                },
                "video_multiplier": {
                    "enabled": 1,
                    "pct_max": 1300,
                    "pct_min": 50
                },
                "performance_tgo_multiplier": {
                    "enabled": 1,
                    "pct_max": 1200,
                    "pct_min": 80
                }
            },
            "dmParams": {
                "name": "m-campaign",
                "id": "3415609"
            },
            "day_budget2": {
                "stop_time": "0000-00-00 00:00:00",
                "show_mode": "default",
                "daily_change_count": "0",
                "recommended_sum": null,
                "sum": "0.00"
            },
            "strategy2": {
                "options": {
                    "name": "default"
                },
                "name": "default",
                "is_autobudget": "",
                "is_net_stopped": ""
            },
            "isCampaign": true,
            "is_finish_date_set": false,
            "ssp_platforms": [
                "Google",
                "Inner-active",
                "MoPub",
                "MobFox",
                "Rubicon",
                "Smaato",
                "Smaato (test)",
                "sspplatform.ru"
            ],
            "sms_phone": "*******4450",
            "sms_time_hour_from": "09",
            "sms_time_min_from": "00",
            "sms_time_hour_to": "21",
            "sms_time_min_to": "00",
            "search_strategy": "default",
            "all_goals_deleted": 1,
            "all_counters_deleted": 1,
            "email_notify_paused_by_day_budget": true,
            "moderate_result_sms": 1,
            "notify_metrica_control_sms": 1,
            "geoText": "Единый регион не задан. У каждой группы может быть свой регион показа",
            "hierarchicalMultipliers": {
                "mobile": {
                    "modelId": "3415609",
                    "isEnabled": true,
                    "input": null,
                    "sign": "increment",
                    "pct_max": 1300,
                    "pct_min": 50,
                    "default_multiplier": 100
                },
                "video": {
                    "modelId": "3415609",
                    "isEnabled": true,
                    "input": null,
                    "sign": "increment",
                    "pct_max": 1300,
                    "pct_min": 50,
                    "default_multiplier": 100
                },
                "performance-tgo": {
                    "modelId": "3415609",
                    "isEnabled": true,
                    "input": null,
                    "sign": "increment",
                    "pct_max": 1200,
                    "pct_min": 80,
                    "default_multiplier": 100
                },
                "retargeting": {
                    "modelId": "3415609",
                    "isEnabled": true,
                    "max_conditions": 100,
                    "common_control": {
                        "modelId": "common-retargeting3415609",
                        "isCommon": true,
                        "pct_max": 1300,
                        "pct_min": 0,
                        "default_multiplier": 100
                    },
                    "rates": []
                },
                "demography": {
                    "modelId": "3415609",
                    "isEnabled": true,
                    "max_conditions": 10,
                    "canChangeSign": true,
                    "common_control": {
                        "modelId": "common-demography3415609",
                        "isCommon": true,
                        "pct_max": 1300,
                        "pct_min": 0,
                        "default_multiplier": 100
                    },
                    "rates": []
                },
                "cpm-group-type": {
                    "isEnabled": true,
                    "common_control": {
                        "min": 0,
                        "default_multiplier": 100,
                        "pct_max": 1300,
                        "pct_min": 0,
                        "sign": "increment",
                        "max": 1200,
                        "inputHint": "max 1200",
                        "input": "",
                        "coefficient": 100,
                        "type": "instream_web",
                        "textType": "Потоковое видео"
                    },
                    "bannersMaxConditions": 1,
                    "inventoryMaxConditions": 3,
                    "max_conditions": 4,
                    "rates": []
                }
            },
            "metrika": {
                "campaign_goals": [],
                "cpa_deviation": false,
                "apc_deviation": false
            },
            "is_autobudget": false
            },

        bemJson = {
            block: 'b-campaign-settings',
            mods: { edit: 'yes' },
            js: {
                'modelName': 'm-campaign',
                'modelId': '3415609',
                'modelData': modelData,
                'newCamp': 0
            },
            content: {
                elem: 'form',
                content: {
                    block: 'b-layout-form2',
                    hiddenInputs: [
                        null,
                        {
                            "name": "fio",
                            "value": "hh rt yp"
                        },
                        {
                            "name": "cmd",
                            "value": "saveCamp"
                        },
                        {
                            "name": "retpath",
                            "value": "/registered/main.pl?cmd=showCamps&ulogin=globalsat2007"
                        },
                        {
                            "name": "ulogin",
                            "value": "globalsat2007"
                        },
                        {
                            "name": "cid",
                            "value": "3415609"
                        },
                        null,
                        null,
                        null,
                        null,
                        {
                            "name": "mediaType",
                            "value": "text"
                        }
                    ],
                    submit: {
                        "position": "left",
                        "control": {
                            "block": "button",
                            "mods": {
                                "disabled": "yes",
                                "theme": "action"
                            },
                            "mix": [
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "submit"
                                }
                            ],
                            "content": "Сохранить"
                        }
                    },
                    groups: []
                }
            }
        },

        expandGroup = {
            "mixes": [
                {
                    "block": "b-campaign-settings",
                    "elem": "expand"
                }
            ],
            "name": "Специальные настройки",
            "type": "expander",
            "mixName": "b-campaign-settings",
            "state": "off",
            "cells": [
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "device-targeting"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Настройка таргетинга на устройства",
                        "help": {
                            "url": "/tooltip.html?id=devices-targeting&lang=ru",
                            "width": 1100,
                            "height": 450
                        }
                    },
                    "right": {
                        "block": "b-campaign-settings",
                        "elem": "device-targeting",
                        "deviceTargeting": "",
                        "cid": "3415609"
                    }
                },
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "dont-show"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Запрещённые площадки и внешние сети",
                        "help": {
                            "url": "/tooltip.html?id=blocked-sites&lang=ru",
                            "width": 1100
                        }
                    },
                    "right": [
                        {
                            "block": "b-outboard-controls",
                            "mods": {
                                "modal": "yes"
                            },
                            "mix": [
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "dont-show"
                                },
                                {
                                    "block": "b-metrika2",
                                    "js": {
                                        "goals": [
                                            {
                                                "event": "show",
                                                "target": "EditCamp.Show_advanced_settings.Blocked_sites.Popup"
                                            },
                                            {
                                                "event": "accept",
                                                "target": "EditCamp.Show_advanced_settings.Blocked_sites.Popup.Save"
                                            }
                                        ],
                                        "blockName": "b-outboard-controls"
                                    }
                                }
                            ],
                            "content": [
                                {
                                    "elem": "data-hint",
                                    "mix": [
                                        {
                                            "block": "b-campaign-settings",
                                            "elem": "dont-show-wrap"
                                        },
                                        {
                                            "block": "b-campaign-settings",
                                            "elem": "hint"
                                        }
                                    ],
                                    "content": {
                                        "block": "b-campaign-settings",
                                        "elem": "dont-show",
                                        "mix": {
                                            "block": "hint-row"
                                        },
                                        "platforms": [],
                                        "isEditable": true
                                    }
                                },
                                {
                                    "elem": "switcher",
                                    "js": {
                                        "innerBlockParams": {
                                            "modelParams": {
                                                "name": "m-campaign",
                                                "id": "3415609"
                                            }
                                        }
                                    },
                                    "theme": "normal",
                                    "switcherText": "Добавить"
                                },
                                {
                                    "elem": "popup",
                                    "header": "Площадки, на которых запрещены показы объявлений",
                                    "innerBlock": {
                                        "block": "b-dont-show-domains"
                                    }
                                }
                            ]
                        },
                        {
                            "block": "b-campaign-settings",
                            "elem": "hidden",
                            "elemMods": {
                                "type": "dont-show"
                            },
                            "name": "DontShow",
                            "value": ""
                        }
                    ]
                },
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "banners-per-page"
                            }
                        }
                    ],
                    "left": "Количество групп объявлений на странице кампании",
                    "right": {
                        "block": "input",
                        "mix": [
                            {
                                "block": "b-campaign-settings",
                                "elem": "banners-per-page"
                            }
                        ],
                        "content": {
                            "elem": "control",
                            "attrs": {
                                "tabindex": 1,
                                "name": "banners_per_page",
                                "value": "20"
                            }
                        }
                    }
                },
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "disabled-ips"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Запрещение показов по IP-адресам",
                        "help": {
                            "url": "/tooltip.html?id=disabling-ip&lang=ru"
                        }
                    },
                    "right": {
                        "block": "b-campaign-settings",
                        "elem": "disabled-ips",
                        "disabledIps": null,
                        "modelParams": {
                            "name": "m-campaign",
                            "id": "3415609"
                        }
                    }
                },
                {
                    "mixes": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "text-substitution"
                            }
                        }
                    ],
                    "left": [
                        {
                            "block": "checkbox",
                            "mods": {
                                "checked": ""
                            },
                            "checkboxAttrs": {
                                "name": "no_title_substitute",
                                "value": 1
                            },
                            "content": {
                                "elem": "label",
                                "content": "Отключить подстановку части текста в заголовок"
                            }
                        },
                        {
                            "block": "b-help-link",
                            "mods": {
                                "type": "modal"
                            },
                            "stretched": true,
                            "width": 1100,
                            "url": "/tooltip.html?id=text-substitution&lang=ru"
                        }
                    ]
                },
                {
                    "mixes": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "cell",
                            "elemMods": {
                                "extra": "yes"
                            }
                        },
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "competitors"
                            }
                        }
                    ],
                    "left": [
                        {
                            "block": "checkbox",
                            "mods": {
                                "checked": ""
                            },
                            "checkboxAttrs": {
                                "name": "fairAuction",
                                "value": 1
                            },
                            "content": {
                                "elem": "label",
                                "content": "Не учитывать автоматически остановленные объявления конкурентов при выставлении ставок"
                            }
                        },
                        {
                            "block": "b-help-link",
                            "mods": {
                                "type": "modal"
                            },
                            "stretched": true,
                            "width": 1100,
                            "url": "/tooltip.html?id=competitors-ads&lang=ru"
                        }
                    ]
                },
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "content-lang"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Язык объявлений"
                    },
                    "right": {
                        "block": "select",
                        "name": "content_lang",
                        "content": [
                            {
                                "block": "button",
                                "content": null
                            },
                            {
                                "elem": "control",
                                "content": [
                                    {
                                        "elem": "option",
                                        "attrs": {
                                            "value": "",
                                            "selected": "selected"
                                        },
                                        "content": "&mdash;"
                                    },
                                    {
                                        "elem": "option",
                                        "attrs": {
                                            "value": "ua"
                                        },
                                        "content": "ua"
                                    },
                                    {
                                        "elem": "option",
                                        "attrs": {
                                            "value": "kz"
                                        },
                                        "content": "kz"
                                    },
                                    {
                                        "elem": "option",
                                        "attrs": {
                                            "value": "tr"
                                        },
                                        "content": "tr"
                                    },
                                    {
                                        "elem": "option",
                                        "attrs": {
                                            "value": "en"
                                        },
                                        "content": "en"
                                    },
                                    {
                                        "elem": "option",
                                        "attrs": {
                                            "value": "de"
                                        },
                                        "content": "de"
                                    },
                                    {
                                        "elem": "option",
                                        "attrs": {
                                            "value": "ru"
                                        },
                                        "content": "ru"
                                    }
                                ]
                            }
                        ]
                    }
                },
                "",
                {
                    "mixes": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "favorite"
                            }
                        }
                    ],
                    "left": [
                        {
                            "block": "input",
                            "mods": {
                                "type": "hidden"
                            },
                            "value": 1,
                            "name": "use_favorite_camp"
                        },
                        {
                            "block": "checkbox",
                            "mods": {
                                "checked": ""
                            },
                            "checkboxAttrs": {
                                "name": "favorite_camp",
                                "value": 1
                            },
                            "content": {
                                "elem": "label",
                                "content": "Добавить кампанию в самые важные"
                            }
                        },
                        {
                            "block": "b-help-link",
                            "mods": {
                                "type": "modal"
                            },
                            "stretched": true,
                            "width": 1100,
                            "url": "/tooltip.html?id=group-management-tools&lang=ru"
                        }
                    ]
                }
            ]
        },

        managementGroup = {
            "name": "Управление показами",
            "cells": [
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "strategy"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "required": true,
                        "text": "Стратегия",
                        "help": "/tooltip.html?id=selecting-strategy&lang=ru"
                    },
                    "right": {
                        "block": "b-campaign-strategy2",
                        "mods": {
                            "campaign-type": "text",
                            "with-hidden-input": "yes"
                        },
                        "campDataModel": {
                            "name": "m-campaign",
                            "id": "3415609"
                        },
                        "isNetStrategyEnabled": true,
                        "dayBudgetSettings": {
                            "isEnabled": true,
                            "currency": "RUB",
                            "maxDailyChangeCount": 3,
                            "showOptionsHint": true
                        },
                        "hintMixes": [
                            {
                                "block": "b-campaign-settings",
                                "elem": "hint"
                            }
                        ],
                        "mix": {
                            "block": "b-metrika2",
                            "js": {
                                "items": [
                                    {
                                        "event": "popup-show",
                                        "params": {
                                            "EditCamp": {
                                                "Strategy": "Popup"
                                            }
                                        }
                                    },
                                    {
                                        "event": "save-click",
                                        "params": {
                                            "EditCamp": {
                                                "Strategy": {
                                                    "Popup": "Save"
                                                }
                                            }
                                        }
                                    }
                                ],
                                "blockName": "b-campaign-strategy2"
                            }
                        },
                        "hintAboveControl": true,
                        "theme": "normal"
                    }
                },
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "context-limit"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Настройки в сетях",
                        "help": "/tooltip.html?id=limiting-impressions-yan&lang=ru"
                    },
                    "right": {
                        "block": "b-campaign-settings",
                        "elem": "context-limit",
                        "modelParams": {
                            "name": "m-campaign",
                            "id": "3415609"
                        },
                        "elemMods": {
                            "enabled": "yes"
                        },
                        "cid": "3415609",
                        "enable_cpc_hold": 1,
                        "ContextLimit": 100,
                        "ContextPriceCoef": "100",
                        "isDiffPlaces": false,
                        "currency": "RUB",
                        "strategy": {
                            "is_net_stop": "",
                            "search": {
                                "name": "default"
                            },
                            "is_autobudget": "",
                            "net": {
                                "name": "default"
                            },
                            "is_search_stop": "",
                            "name": ""
                        }
                    }
                },
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "adjustment-rates"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Корректировки ставок",
                        "help": "/tooltip.html?id=bids-adjustment&lang=ru"
                    },
                    "right": [
                        {
                            "block": "i-model",
                            "modelParams": {
                                "name": "m-adjustment-rates",
                                "id": "3415609",
                                "data": {
                                    "mobile": {
                                        "modelId": "3415609",
                                        "isEnabled": true,
                                        "input": null,
                                        "sign": "increment",
                                        "pct_max": 1300,
                                        "pct_min": 50,
                                        "default_multiplier": 100
                                    },
                                    "video": {
                                        "modelId": "3415609",
                                        "isEnabled": true,
                                        "input": null,
                                        "sign": "increment",
                                        "pct_max": 1300,
                                        "pct_min": 50,
                                        "default_multiplier": 100
                                    },
                                    "retargeting": {
                                        "modelId": "3415609",
                                        "isEnabled": true,
                                        "max_conditions": 100,
                                        "common_control": {
                                            "modelId": "common-retargeting3415609",
                                            "isCommon": true,
                                            "pct_max": 1300,
                                            "pct_min": 0,
                                            "default_multiplier": 100
                                        },
                                        "rates": []
                                    },
                                    "demography": {
                                        "modelId": "3415609",
                                        "isEnabled": true,
                                        "max_conditions": 10,
                                        "canChangeSign": true,
                                        "common_control": {
                                            "modelId": "common-demography3415609",
                                            "isCommon": true,
                                            "pct_max": 1300,
                                            "pct_min": 0,
                                            "default_multiplier": 100
                                        },
                                        "rates": []
                                    }
                                }
                            }
                        },
                        {
                            "block": "b-adjustment-rates-popup",
                            "modelId": "3415609",
                            "defaultTab": "retargeting",
                            "tabsHash": {
                                "tabs": {
                                    "retargeting": {
                                        "title": "Целевая аудитория",
                                        "index": 0
                                    },
                                    "mobile": {
                                        "title": "Мобильные",
                                        "index": 1
                                    },
                                    "video": {
                                        "title": "Видео",
                                        "index": 1
                                    },
                                    "performance-tgo": {
                                        "title": "Смарт-объявления",
                                        "index": 1
                                    },
                                    "demography": {
                                        "title": "Пол и возраст",
                                        "index": 2
                                    }
                                },
                                "default": "retargeting"
                            },
                            "modal": true,
                            "mix": [
                                {
                                    "block": "b-metrika2",
                                    "js": {
                                        "goals": [
                                            {
                                                "event": "popup-show",
                                                "target": "EditCamp.Bid_adjustments.Popup"
                                            },
                                            {
                                                "event": "save-click",
                                                "target": "EditCamp.Bid_adjustments.Popup.Save"
                                            }
                                        ],
                                        "blockName": "b-adjustment-rates-popup"
                                    }
                                }
                            ],
                            "content": [
                                {
                                    "elem": "hidden-input"
                                },
                                {
                                    "elem": "rates",
                                    "modelData": {
                                        "mobile": {
                                            "modelId": "3415609",
                                            "isEnabled": true,
                                            "input": null,
                                            "sign": "increment",
                                            "pct_max": 1300,
                                            "pct_min": 50,
                                            "default_multiplier": 100
                                        },
                                        "video": {
                                            "modelId": "3415609",
                                            "isEnabled": true,
                                            "input": null,
                                            "sign": "increment",
                                            "pct_max": 1300,
                                            "pct_min": 50,
                                            "default_multiplier": 100
                                        },
                                        "retargeting": {
                                            "modelId": "3415609",
                                            "isEnabled": true,
                                            "max_conditions": 100,
                                            "common_control": {
                                                "modelId": "common-retargeting3415609",
                                                "isCommon": true,
                                                "pct_max": 1300,
                                                "pct_min": 0,
                                                "default_multiplier": 100
                                            },
                                            "rates": []
                                        },
                                        "demography": {
                                            "modelId": "3415609",
                                            "isEnabled": true,
                                            "max_conditions": 10,
                                            "canChangeSign": true,
                                            "common_control": {
                                                "modelId": "common-demography3415609",
                                                "isCommon": true,
                                                "pct_max": 1300,
                                                "pct_min": 0,
                                                "default_multiplier": 100
                                            },
                                            "rates": []
                                        },
                                        "performance-tgo": {
                                            "modelId": "3415609",
                                            "isEnabled": true,
                                            "input": null,
                                            "sign": "increment",
                                            "pct_max": 1200,
                                            "pct_min": 80,
                                            "default_multiplier": 100
                                        }
                                    },
                                    "hintMixes": [
                                        {
                                            "block": "b-campaign-settings",
                                            "elem": "hint"
                                        }
                                    ]
                                },
                                {
                                    "elem": "switcher",
                                    "theme": "normal",
                                    "content": "Добавить"
                                }
                            ]
                        }
                    ]
                },
                {
                    "mixes": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "metrics-control"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-metrica-control",
                        "mix": [
                            {
                                "block": "b-metrika2",
                                "js": {
                                    "goals": [
                                        {
                                            "event": "site-monitoring-change",
                                            "target": "EditCamp.Site_is_not_working"
                                        },
                                        {
                                            "event": "notice-smc",
                                            "target": "EditCamp.Site_is_not_working.SMS"
                                        }
                                    ],
                                    "blockName": "b-campaign-metrica-control"
                                }
                            }
                        ],
                        "isEditable": true,
                        "campaign": modelData,
                        "requireMetrika": false,
                        "smsPhone": "*******4450"
                    }
                }
            ]
        },

        vCard = {
            "name": "Визитка",
            "cells": [
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "vcard"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Использовать единый адрес и телефон",
                        "help": "/tooltip.html?id=specify-link&lang=ru"
                    },
                    "right": {
                        "block": "b-vcard-control",
                        "mods": {
                            "type": "campaign"
                        },
                        "mixes": [
                            {
                                "block": "b-campaign-settings",
                                "elem": "vcard"
                            },
                            {
                                "block": "b-metrika2",
                                "js": {
                                    "event": "change",
                                    "target": "EditCamp.Address_and_telephone.Enabled",
                                    "blockName": "b-vcard-control"
                                }
                            }
                        ],
                        "vcardHint": "&nbsp;",
                        "is_vcard_open": 0,
                        "vcard": {}
                    }
                }
            ]
        },

        metricsGroup = {
            "name": "Метрика",
            "cells": [
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "metrics-counters"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "required": false,
                        "text": "Счётчики Метрики",
                        "help": {
                            "width": 1100,
                            "url": "/tooltip.html?id=additional-metrica-counter&lang=ru"
                        }
                    },
                    "right": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "metrika-counters",
                            "campaign": modelData,
                            "campDataModel": {
                                "name": "m-campaign",
                                "id": "3415609"
                            }
                        },
                        {
                            "block": "b-model-form-error",
                            "mix": [
                                {
                                    "block": "b-model-form-error",
                                    "elem": "control"
                                }
                            ],
                            "modelParams": {
                                "name": "m-campaign",
                                "id": "3415609"
                            },
                            "field": "metrika_counters"
                        }
                    ]
                },
                {
                    "mixes": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "metrics-links"
                            }
                        }
                    ],
                    "left": [
                        {
                            "block": "checkbox",
                            "mods": {
                                "checked": "yes"
                            },
                            "mix": [
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "status-click-track-checkbox"
                                },
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "model-field",
                                    "js": {
                                        "name": "status_click_track",
                                        "type": "checkbox"
                                    }
                                }
                            ],
                            "checkboxAttrs": {
                                "value": 1,
                                "name": "status_click_track"
                            },
                            "content": {
                                "elem": "label",
                                "content": "Размечать ссылки для Метрики"
                            }
                        },
                        {
                            "block": "b-help-link",
                            "mods": {
                                "type": "modal"
                            },
                            "stretched": true,
                            "width": 1100,
                            "url": "/tooltip.html?id=links-for-metrica&lang=ru"
                        }
                    ]
                },
                {
                    "mixes": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "external-stat"
                            }
                        }
                    ],
                    "left": [
                        {
                            "block": "checkbox",
                            "mods": {
                                "checked": ""
                            },
                            "mix": [
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "status-open-stat-checkbox"
                                },
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "model-field",
                                    "js": {
                                        "name": "statusOpenStat",
                                        "type": "checkbox"
                                    }
                                }
                            ],
                            "checkboxAttrs": {
                                "name": "statusOpenStat",
                                "value": 1
                            },
                            "content": {
                                "elem": "label",
                                "content": "Добавить метку &laquo;_openstat&raquo; к ссылкам"
                            }
                        },
                        {
                            "block": "b-help-link",
                            "mods": {
                                "type": "modal"
                            },
                            "stretched": true,
                            "width": 1100,
                            "url": "/tooltip.html?id=openstat&lang=ru"
                        }
                    ]
                }
            ]
        },

        agencyGroup = {
            'mixes': [
                {
                    'block': 'b-campaign-settings',
                    'elem': 'campaign-name-group'
                }
            ],
            'cells':
            [
                {
                    "right" : {
                        "options" : {
                           "newCampSelfType" : null,
                           "newCampBelonging" : "polikarpova-mgcom",
                           "addToDropdown" : "agencies"
                        },
                        "agencies" : [
                        {
                            "agency_name": "name",
                            "uid": "1",
                            "ClientID": "11",
                            "login": "login",
                            "AgencyUID": "111",
                            "max_cid": "1111"
                        },
                        {
                            "agency_name": "name2",
                            "uid": "2",
                            "ClientID": "22",
                            "login": "login2",
                            "AgencyUID": "222",
                            "max_cid": "2222"
                        }
                       ],
                       "block" : "b-agency-select"
                    },
                    "left" : {
                       "text" : "Агентство",
                       "elem" : "label",
                       "block" : "b-campaign-settings"
                    }
                }
            ]
        },

        notificationsGroup = {
            "name": "Уведомления",
            "cells": [
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "notifications"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "Почтовые уведомления",
                        "required": true
                    },
                    "right": {
                        "block": "b-campaign-email-notifications-adapter",
                        "ulogin": "globalsat2007",
                        "notificationData": {
                            "campaign": {
                                "cid": "3415609",
                                "isCampaign": true,
                                "mediaType": "text"
                            },
                            "user": {
                                "login": "globalsat2007",
                                "script": "https://8080.beta1.direct.yandex.ru/registered/main.uQNZB-Qj5qnh-zMv.pl"
                            },
                            "client": {
                                "can_use_day_budget": 1
                            },
                            "wallet": {
                                "cid": "15127006"
                            },
                            "warning": {
                                "value": "20",
                                "sendWarn": true,
                                "interval": "15",
                                "isPaused": true
                            },
                            "servicing": {
                                "ManagerUID": "87960018",
                                "request": "",
                                "sendAccNews": true,
                                "offlineStatNotice": true
                            },
                            "validEmails": [
                                {
                                    "select": "",
                                    "email": "centreDTV@yandex.ru"
                                },
                                {
                                    "email": "srgauditor@gmail.com",
                                    "select": ""
                                },
                                {
                                    "select": "",
                                    "email": "market@pisem.net"
                                },
                                {
                                    "email": "globalsat2007@yandex.ru",
                                    "select": ""
                                },
                                {
                                    "email": "dir@kupitv.net",
                                    "select": ""
                                },
                                {
                                    "select": "",
                                    "email": "svyat@centerdtv.ru"
                                },
                                {
                                    "email": "direct@centerdtv.ru",
                                    "select": ""
                                },
                                {
                                    "email": "dir@skyrun.su",
                                    "select": ""
                                }
                            ],
                            "email": "dir@skyrun.su",
                            "dmParams": {
                                "name": "m-campaign",
                                "id": "3415609"
                            }
                        },
                        "extended": true,
                        "hintMixes": [
                            {
                                "block": "b-campaign-settings",
                                "elem": "hint"
                            }
                        ]
                    }
                },
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": {
                                "of": "sms-warnings"
                            }
                        }
                    ],
                    "left": {
                        "block": "b-campaign-settings",
                        "elem": "label",
                        "text": "SMS-уведомления",
                        "help": {
                            "url": "/tooltip.html?id=sms-alerts&lang=ru",
                            "width": 1100
                        }
                    },
                    "right": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "hint",
                            "content": [
                                {
                                    "elem": "hint-row",
                                    "content": [
                                        "на номер",
                                        "&nbsp;",
                                        {
                                            "block": "b-campaign-settings",
                                            "elem": "sms-phone",
                                            "content": "*******4450"
                                        }
                                    ]
                                },
                                false,
                                false,
                                false,
                                false,
                                false,
                                false
                            ]
                        },
                        {
                            "block": "b-outboard-controls",
                            "mods": {
                                "modal": "yes"
                            },
                            "mix": [
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "sms-control"
                                }
                            ],
                            "params": {
                                "cid": "3415609",
                                "ulogin": "globalsat2007"
                            },
                            "content": [
                                {
                                    "elem": "switcher",
                                    "js": true,
                                    "theme": "normal",
                                    "switcherText": "Изменить"
                                },
                                {
                                    "elem": "popup",
                                    "header": "Настройка получения SMS-уведомлений",
                                    "innerBlock": {
                                        "block": "b-sms-notification",
                                        "options": {
                                            "disableBehavior": 1,
                                            "geo": "",
                                            "fairAuction": "0",
                                            "statusPostModerate": "Accepted",
                                            "disabledIps": null,
                                            "finish_date": null,
                                            "rf": "3",
                                            "autobudget_goal_id": null,
                                            "sendAccNews": true,
                                            "is_camp_locked": 0,
                                            "campaign_goals": {},
                                            "wait_servicing": 0,
                                            "autobudget_avg_cpa": null,
                                            "opts": {
                                                "enable_cpc_hold": 1
                                            },
                                            "warnPlaceInterval": "15",
                                            "yyyy": "2011",
                                            "camp_with_common_ci": 0,
                                            "is_search_stop": "0",
                                            "is_lego_mediaplan": null,
                                            "competitors_domains": "",
                                            "vcard": {},
                                            "compaign_domains_count": "1",
                                            "total_units": -205118,
                                            "metrika_counters": "",
                                            "broad_match_rate": "optimal",
                                            "cid": "3415609",
                                            "wallet_sum_spent": "0.000000",
                                            "filter_avg_cpa": null,
                                            "sum_spent_units": "205633",
                                            "sum_to_pay": "0.000000",
                                            "autobudget_sum": null,
                                            "archived": "No",
                                            "sum_spent": "15206.732800",
                                            "offlineStatNotice": true,
                                            "shows": "205633",
                                            "banners_status": {
                                                "running_unmoderated": 0
                                            },
                                            "statusActive": "No",
                                            "autobudgetForecastDate": null,
                                            "minus_words": [],
                                            "autobudget": "No",
                                            "broad_match_limit": "100",
                                            "autobudget_bid": null,
                                            "product_type": "text",
                                            "statusBsSynced": "No",
                                            "currency": "RUB",
                                            "sms_flags": {
                                                "moderate_result_sms": 1,
                                                "notify_metrica_control_sms": 1
                                            },
                                            "disabled_ssp": [],
                                            "statusMetricaControl": 1,
                                            "statusEmpty": "No",
                                            "no_extended_geotargeting": 0,
                                            "MIN_GOALS_ON_CAMPAIGN": 40,
                                            "wallet_money_warning_value": "20",
                                            "valid": "2",
                                            "fio": "hh rt yp",
                                            "wallet_sum": "27989.818400",
                                            "device_targeting": "",
                                            "mediaType": "text",
                                            "broad_match_goal_id": "0",
                                            "is_related_keywords_enabled": "1",
                                            "now_optimizing_by": null,
                                            "autobudget_avg_bid": null,
                                            "stopTime": "2013-09-08 19:37:43",
                                            "camp_description": null,
                                            "wallet_cid": "15127006",
                                            "enable_cpc_hold": 1,
                                            "strategy": {
                                                "is_net_stop": "",
                                                "search": {
                                                    "name": "default"
                                                },
                                                "is_autobudget": "",
                                                "net": {
                                                    "name": "default"
                                                },
                                                "is_search_stop": "",
                                                "name": ""
                                            },
                                            "statusContextStop": 0,
                                            "ProductID": "1475",
                                            "is_installed_app": null,
                                            "sms_time": "09:00:21:00",
                                            "statusOpenStat": 0,
                                            "sendNews": "Yes",
                                            "broad_match_flag": true,
                                            "network_targeting": null,
                                            "ManagerUID": "87960018",
                                            "email_notifications": {
                                                "paused_by_day_budget": 1
                                            },
                                            "last_pay_time": "2015-10-06",
                                            "dontShowYacontext": "No",
                                            "name": "Нтв+HD1",
                                            "no_title_substitute": 0,
                                            "timeTarget": "1KLMNOPQR2KLMNOPQR3KLMNOPQR4KLMNOPQR5KLMNOPQR6KLMNOPQR7KLMNOPQR",
                                            "content_lang": null,
                                            "favorite_camp": "0",
                                            "statusModerate": "Yes",
                                            "phone": "+79219354450",
                                            "DontShow": [],
                                            "strategy_min_price": {
                                                "premium": "",
                                                "guarantee": ""
                                            },
                                            "day_budget": {
                                                "stop_time": "0000-00-00 00:00:00",
                                                "show_mode": "default",
                                                "daily_change_count": "0",
                                                "recommended_sum": null,
                                                "sum": "0.00"
                                            },
                                            "filter_avg_bid": null,
                                            "device_type_targeting": null,
                                            "servicing_request": "",
                                            "statusShow": "No",
                                            "banners_per_page": "20",
                                            "dd": "11",
                                            "autobudget_roi_coef": null,
                                            "sum_counted_with_wallet": 1,
                                            "rfReset": "0",
                                            "status_click_track": true,
                                            "money_warning_value": "20",
                                            "ContextPriceCoef": "100",
                                            "sum": 43196.55,
                                            "sendWarn": true,
                                            "campaign": {
                                                "autobudget_roi_coef": null,
                                                "autobudget_goal_id": null,
                                                "day_budget_show_mode": "default",
                                                "campaign_goals": {},
                                                "autobudgetForecastDate": null,
                                                "autobudgetForecast": null,
                                                "autobudget_avg_bid": null,
                                                "count_all_goals": null,
                                                "currency": "RUB",
                                                "strategy_min_price": {
                                                    "premium": "",
                                                    "guarantee": ""
                                                },
                                                "autobudget_limit_clicks": null,
                                                "autobudget_sum": null,
                                                "day_budget": "0.00",
                                                "strategy": {
                                                    "is_search_stop": "",
                                                    "net": {
                                                        "name": "default"
                                                    },
                                                    "search": {
                                                        "name": "default"
                                                    },
                                                    "is_autobudget": "",
                                                    "is_net_stop": "",
                                                    "name": ""
                                                },
                                                "autobudget_avg_cpa": null,
                                                "content_lang": null,
                                                "autobudget": "No",
                                                "autobudget_bid": null,
                                                "autobudget_date": "2017-05-18"
                                            },
                                            "sum_units": "515",
                                            "OrderID": "1000477",
                                            "autobudgetForecast": null,
                                            "delayed_arc": null,
                                            "email": "dir@skyrun.su",
                                            "count_all_goals": null,
                                            "timetargeting": {
                                                "time_target_working_holiday": 0,
                                                "show_on_weekend": "1",
                                                "timezone_id": "130",
                                                "timeTargetMode": "simple",
                                                "timezone_text": "Москва",
                                                "time_target_preset": "worktime",
                                                "timeTarget": "1KLMNOPQR2KLMNOPQR3KLMNOPQR4KLMNOPQR5KLMNOPQR6KLMNOPQR7KLMNOPQR"
                                            },
                                            "hierarchical_multipliers": {},
                                            "mm": "04",
                                            "count_all_context_goals": null,
                                            "start_date": "2011-04-11",
                                            "clicks": "1047",
                                            "autobudget_date": "2017-05-18",
                                            "AgencyUID": null,
                                            "total": 27989.82,
                                            "ContextLimit": 100,
                                            "multipliers_meta": {
                                                "retargeting_multiplier": {
                                                    "pct_max": 1300,
                                                    "max_conditions": 100,
                                                    "pct_min": 0,
                                                    "enabled": 1
                                                },
                                                "demography_multiplier": {
                                                    "pct_min": 0,
                                                    "pct_max": 1300,
                                                    "max_conditions": 10,
                                                    "enabled": 1
                                                },
                                                "mobile_multiplier": {
                                                    "enabled": 1,
                                                    "pct_max": 1300,
                                                    "pct_min": 50
                                                },
                                                "video_multiplier": {
                                                    "enabled": 1,
                                                    "pct_max": 1300,
                                                    "pct_min": 50
                                                },
                                                "performance_tgo_multiplier": {
                                                    "enabled": 1,
                                                    "pct_max": 1200,
                                                    "pct_min": 80
                                                }
                                            },
                                            "dmParams": {
                                                "name": "m-campaign",
                                                "id": "3415609"
                                            },
                                            "day_budget2": {
                                                "stop_time": "0000-00-00 00:00:00",
                                                "show_mode": "default",
                                                "daily_change_count": "0",
                                                "recommended_sum": null,
                                                "sum": "0.00"
                                            },
                                            "strategy2": {
                                                "options": {
                                                    "name": "default"
                                                },
                                                "name": "default",
                                                "is_autobudget": "",
                                                "is_net_stopped": ""
                                            },
                                            "isCampaign": true,
                                            "is_finish_date_set": false,
                                            "ssp_platforms": [
                                                "Google",
                                                "Inner-active",
                                                "MoPub",
                                                "MobFox",
                                                "Rubicon",
                                                "Smaato",
                                                "Smaato (test)",
                                                "sspplatform.ru"
                                            ],
                                            "sms_phone": "*******4450",
                                            "sms_time_hour_from": "09",
                                            "sms_time_min_from": "00",
                                            "sms_time_hour_to": "21",
                                            "sms_time_min_to": "00",
                                            "search_strategy": "default",
                                            "all_goals_deleted": 1,
                                            "all_counters_deleted": 1,
                                            "email_notify_paused_by_day_budget": true,
                                            "moderate_result_sms": 1,
                                            "notify_metrica_control_sms": 1,
                                            "geoText": "Единый регион не задан. У каждой группы может быть свой регион показа",
                                            "hierarchicalMultipliers": {
                                                "mobile": {
                                                    "modelId": "3415609",
                                                    "isEnabled": true,
                                                    "input": null,
                                                    "sign": "increment",
                                                    "pct_max": 1300,
                                                    "pct_min": 50,
                                                    "default_multiplier": 100
                                                },
                                                "video": {
                                                    "modelId": "3415609",
                                                    "isEnabled": true,
                                                    "input": null,
                                                    "sign": "increment",
                                                    "pct_max": 1300,
                                                    "pct_min": 50,
                                                    "default_multiplier": 100
                                                },
                                                "performance-tgo": {
                                                    "modelId": "3415609",
                                                    "isEnabled": true,
                                                    "input": null,
                                                    "sign": "increment",
                                                    "pct_max": 1200,
                                                    "pct_min": 80,
                                                    "default_multiplier": 100
                                                },
                                                "retargeting": {
                                                    "modelId": "3415609",
                                                    "isEnabled": true,
                                                    "max_conditions": 100,
                                                    "common_control": {
                                                        "modelId": "common-retargeting3415609",
                                                        "isCommon": true,
                                                        "pct_max": 1300,
                                                        "pct_min": 0,
                                                        "default_multiplier": 100
                                                    },
                                                    "rates": []
                                                },
                                                "demography": {
                                                    "modelId": "3415609",
                                                    "isEnabled": true,
                                                    "max_conditions": 10,
                                                    "canChangeSign": true,
                                                    "common_control": {
                                                        "modelId": "common-demography3415609",
                                                        "isCommon": true,
                                                        "pct_max": 1300,
                                                        "pct_min": 0,
                                                        "default_multiplier": 100
                                                    },
                                                    "rates": []
                                                },
                                                "cpm-group-type": {
                                                    "isEnabled": true,
                                                    "common_control": {
                                                        "min": 0,
                                                        "default_multiplier": 100,
                                                        "pct_max": 1300,
                                                        "pct_min": 0,
                                                        "sign": "increment",
                                                        "max": 1200,
                                                        "inputHint": "max 1200",
                                                        "input": "",
                                                        "coefficient": 100,
                                                        "type": "instream_web",
                                                        "textType": "Потоковое видео"
                                                    },
                                                    "bannersMaxConditions": 1,
                                                    "inventoryMaxConditions": 3,
                                                    "max_conditions": 4,
                                                    "rates": []
                                                }
                                            },
                                            "metrika": {
                                                "campaign_goals": [],
                                                "cpa_deviation": false,
                                                "apc_deviation": false
                                            }
                                        },
                                        "passportPhoneWarning": "Новый номер будет отображён после сохранения параметров кампании.",
                                        "js": {
                                            "phone": "*******4450",
                                            "modelData": {
                                                "moderate_result_sms": 1,
                                                "notify_metrica_control_sms": 1,
                                                "sms_time_hour_from": "09",
                                                "sms_time_min_from": "00",
                                                "sms_time_hour_to": "21",
                                                "sms_time_min_to": "00"
                                            }
                                        },
                                        "content": {
                                            "block": "b-layout-form",
                                            "mods": {
                                                "inner": "yes"
                                            },
                                            "mixes": {
                                                "row": [
                                                    {
                                                        "block": "b-sms-notification",
                                                        "elem": "row"
                                                    }
                                                ],
                                                "label": [
                                                    {
                                                        "block": "b-sms-notification",
                                                        "elem": "label"
                                                    }
                                                ],
                                                "control": [
                                                    {
                                                        "block": "b-sms-notification",
                                                        "elem": "control"
                                                    }
                                                ],
                                                "info": [
                                                    {
                                                        "block": "b-sms-notification",
                                                        "elem": "info"
                                                    }
                                                ]
                                            },
                                            "rows": [
                                                {
                                                    "label": "Номер телефона",
                                                    "control": [
                                                        {
                                                            "elem": "sms-phone",
                                                            "content": "*******4450"
                                                        },
                                                        false
                                                    ]
                                                },
                                                {
                                                    "label": "Уведомления",
                                                    "control": {
                                                        "block": "b-sms-notification",
                                                        "elem": "notifications",
                                                        "options": {
                                                            "disableBehavior": 1,
                                                            "geo": "",
                                                            "fairAuction": "0",
                                                            "statusPostModerate": "Accepted",
                                                            "disabledIps": null,
                                                            "finish_date": null,
                                                            "rf": "3",
                                                            "autobudget_goal_id": null,
                                                            "sendAccNews": true,
                                                            "is_camp_locked": 0,
                                                            "campaign_goals": {},
                                                            "wait_servicing": 0,
                                                            "autobudget_avg_cpa": null,
                                                            "opts": {
                                                                "enable_cpc_hold": 1
                                                            },
                                                            "warnPlaceInterval": "15",
                                                            "yyyy": "2011",
                                                            "camp_with_common_ci": 0,
                                                            "is_search_stop": "0",
                                                            "is_lego_mediaplan": null,
                                                            "competitors_domains": "",
                                                            "vcard": {},
                                                            "compaign_domains_count": "1",
                                                            "total_units": -205118,
                                                            "metrika_counters": "",
                                                            "broad_match_rate": "optimal",
                                                            "cid": "3415609",
                                                            "wallet_sum_spent": "0.000000",
                                                            "filter_avg_cpa": null,
                                                            "sum_spent_units": "205633",
                                                            "sum_to_pay": "0.000000",
                                                            "autobudget_sum": null,
                                                            "archived": "No",
                                                            "sum_spent": "15206.732800",
                                                            "offlineStatNotice": true,
                                                            "shows": "205633",
                                                            "banners_status": {
                                                                "running_unmoderated": 0
                                                            },
                                                            "statusActive": "No",
                                                            "autobudgetForecastDate": null,
                                                            "minus_words": [],
                                                            "autobudget": "No",
                                                            "broad_match_limit": "100",
                                                            "autobudget_bid": null,
                                                            "product_type": "text",
                                                            "statusBsSynced": "No",
                                                            "currency": "RUB",
                                                            "sms_flags": {
                                                                "moderate_result_sms": 1,
                                                                "notify_metrica_control_sms": 1
                                                            },
                                                            "disabled_ssp": [],
                                                            "statusMetricaControl": 1,
                                                            "statusEmpty": "No",
                                                            "no_extended_geotargeting": 0,
                                                            "MIN_GOALS_ON_CAMPAIGN": 40,
                                                            "wallet_money_warning_value": "20",
                                                            "valid": "2",
                                                            "fio": "hh rt yp",
                                                            "wallet_sum": "27989.818400",
                                                            "device_targeting": "",
                                                            "mediaType": "text",
                                                            "broad_match_goal_id": "0",
                                                            "is_related_keywords_enabled": "1",
                                                            "now_optimizing_by": null,
                                                            "autobudget_avg_bid": null,
                                                            "stopTime": "2013-09-08 19:37:43",
                                                            "camp_description": null,
                                                            "wallet_cid": "15127006",
                                                            "enable_cpc_hold": 1,
                                                            "strategy": {
                                                                "is_net_stop": "",
                                                                "search": {
                                                                    "name": "default"
                                                                },
                                                                "is_autobudget": "",
                                                                "net": {
                                                                    "name": "default"
                                                                },
                                                                "is_search_stop": "",
                                                                "name": ""
                                                            },
                                                            "statusContextStop": 0,
                                                            "ProductID": "1475",
                                                            "is_installed_app": null,
                                                            "sms_time": "09:00:21:00",
                                                            "statusOpenStat": 0,
                                                            "sendNews": "Yes",
                                                            "broad_match_flag": true,
                                                            "network_targeting": null,
                                                            "ManagerUID": "87960018",
                                                            "email_notifications": {
                                                                "paused_by_day_budget": 1
                                                            },
                                                            "last_pay_time": "2015-10-06",
                                                            "dontShowYacontext": "No",
                                                            "name": "Нтв+HD1",
                                                            "no_title_substitute": 0,
                                                            "timeTarget": "1KLMNOPQR2KLMNOPQR3KLMNOPQR4KLMNOPQR5KLMNOPQR6KLMNOPQR7KLMNOPQR",
                                                            "content_lang": null,
                                                            "favorite_camp": "0",
                                                            "statusModerate": "Yes",
                                                            "phone": "+79219354450",
                                                            "DontShow": [],
                                                            "strategy_min_price": {
                                                                "premium": "",
                                                                "guarantee": ""
                                                            },
                                                            "day_budget": {
                                                                "stop_time": "0000-00-00 00:00:00",
                                                                "show_mode": "default",
                                                                "daily_change_count": "0",
                                                                "recommended_sum": null,
                                                                "sum": "0.00"
                                                            },
                                                            "filter_avg_bid": null,
                                                            "device_type_targeting": null,
                                                            "servicing_request": "",
                                                            "statusShow": "No",
                                                            "banners_per_page": "20",
                                                            "dd": "11",
                                                            "autobudget_roi_coef": null,
                                                            "sum_counted_with_wallet": 1,
                                                            "rfReset": "0",
                                                            "status_click_track": true,
                                                            "money_warning_value": "20",
                                                            "ContextPriceCoef": "100",
                                                            "sum": 43196.55,
                                                            "sendWarn": true,
                                                            "campaign": {
                                                                "autobudget_roi_coef": null,
                                                                "autobudget_goal_id": null,
                                                                "day_budget_show_mode": "default",
                                                                "campaign_goals": {},
                                                                "autobudgetForecastDate": null,
                                                                "autobudgetForecast": null,
                                                                "autobudget_avg_bid": null,
                                                                "count_all_goals": null,
                                                                "currency": "RUB",
                                                                "strategy_min_price": {
                                                                    "premium": "",
                                                                    "guarantee": ""
                                                                },
                                                                "autobudget_limit_clicks": null,
                                                                "autobudget_sum": null,
                                                                "day_budget": "0.00",
                                                                "strategy": {
                                                                    "is_search_stop": "",
                                                                    "net": {
                                                                        "name": "default"
                                                                    },
                                                                    "search": {
                                                                        "name": "default"
                                                                    },
                                                                    "is_autobudget": "",
                                                                    "is_net_stop": "",
                                                                    "name": ""
                                                                },
                                                                "autobudget_avg_cpa": null,
                                                                "content_lang": null,
                                                                "autobudget": "No",
                                                                "autobudget_bid": null,
                                                                "autobudget_date": "2017-05-18"
                                                            },
                                                            "sum_units": "515",
                                                            "OrderID": "1000477",
                                                            "autobudgetForecast": null,
                                                            "delayed_arc": null,
                                                            "email": "dir@skyrun.su",
                                                            "count_all_goals": null,
                                                            "timetargeting": {
                                                                "time_target_working_holiday": 0,
                                                                "show_on_weekend": "1",
                                                                "timezone_id": "130",
                                                                "timeTargetMode": "simple",
                                                                "timezone_text": "Москва",
                                                                "time_target_preset": "worktime",
                                                                "timeTarget": "1KLMNOPQR2KLMNOPQR3KLMNOPQR4KLMNOPQR5KLMNOPQR6KLMNOPQR7KLMNOPQR"
                                                            },
                                                            "hierarchical_multipliers": {},
                                                            "mm": "04",
                                                            "count_all_context_goals": null,
                                                            "start_date": "2011-04-11",
                                                            "clicks": "1047",
                                                            "autobudget_date": "2017-05-18",
                                                            "AgencyUID": null,
                                                            "total": 27989.82,
                                                            "ContextLimit": 100,
                                                            "multipliers_meta": {
                                                                "retargeting_multiplier": {
                                                                    "pct_max": 1300,
                                                                    "max_conditions": 100,
                                                                    "pct_min": 0,
                                                                    "enabled": 1
                                                                },
                                                                "demography_multiplier": {
                                                                    "pct_min": 0,
                                                                    "pct_max": 1300,
                                                                    "max_conditions": 10,
                                                                    "enabled": 1
                                                                },
                                                                "mobile_multiplier": {
                                                                    "enabled": 1,
                                                                    "pct_max": 1300,
                                                                    "pct_min": 50
                                                                },
                                                                "video_multiplier": {
                                                                    "enabled": 1,
                                                                    "pct_max": 1300,
                                                                    "pct_min": 50
                                                                },
                                                                "performance_tgo_multiplier": {
                                                                    "enabled": 1,
                                                                    "pct_max": 1200,
                                                                    "pct_min": 80
                                                                }
                                                            },
                                                            "dmParams": {
                                                                "name": "m-campaign",
                                                                "id": "3415609"
                                                            },
                                                            "day_budget2": {
                                                                "stop_time": "0000-00-00 00:00:00",
                                                                "show_mode": "default",
                                                                "daily_change_count": "0",
                                                                "recommended_sum": null,
                                                                "sum": "0.00"
                                                            },
                                                            "strategy2": {
                                                                "options": {
                                                                    "name": "default"
                                                                },
                                                                "name": "default",
                                                                "is_autobudget": "",
                                                                "is_net_stopped": ""
                                                            },
                                                            "isCampaign": true,
                                                            "is_finish_date_set": false,
                                                            "ssp_platforms": [
                                                                "Google",
                                                                "Inner-active",
                                                                "MoPub",
                                                                "MobFox",
                                                                "Rubicon",
                                                                "Smaato",
                                                                "Smaato (test)",
                                                                "sspplatform.ru"
                                                            ],
                                                            "sms_phone": "*******4450",
                                                            "sms_time_hour_from": "09",
                                                            "sms_time_min_from": "00",
                                                            "sms_time_hour_to": "21",
                                                            "sms_time_min_to": "00",
                                                            "search_strategy": "default",
                                                            "all_goals_deleted": 1,
                                                            "all_counters_deleted": 1,
                                                            "email_notify_paused_by_day_budget": true,
                                                            "moderate_result_sms": 1,
                                                            "notify_metrica_control_sms": 1,
                                                            "geoText": "Единый регион не задан. У каждой группы может быть свой регион показа",
                                                            "hierarchicalMultipliers": {
                                                                "mobile": {
                                                                    "modelId": "3415609",
                                                                    "isEnabled": true,
                                                                    "input": null,
                                                                    "sign": "increment",
                                                                    "pct_max": 1300,
                                                                    "pct_min": 50,
                                                                    "default_multiplier": 100
                                                                },
                                                                "video": {
                                                                    "modelId": "3415609",
                                                                    "isEnabled": true,
                                                                    "input": null,
                                                                    "sign": "increment",
                                                                    "pct_max": 1300,
                                                                    "pct_min": 50,
                                                                    "default_multiplier": 100
                                                                },
                                                                "performance-tgo": {
                                                                    "modelId": "3415609",
                                                                    "isEnabled": true,
                                                                    "input": null,
                                                                    "sign": "increment",
                                                                    "pct_max": 1200,
                                                                    "pct_min": 80,
                                                                    "default_multiplier": 100
                                                                },
                                                                "retargeting": {
                                                                    "modelId": "3415609",
                                                                    "isEnabled": true,
                                                                    "max_conditions": 100,
                                                                    "common_control": {
                                                                        "modelId": "common-retargeting3415609",
                                                                        "isCommon": true,
                                                                        "pct_max": 1300,
                                                                        "pct_min": 0,
                                                                        "default_multiplier": 100
                                                                    },
                                                                    "rates": []
                                                                },
                                                                "demography": {
                                                                    "modelId": "3415609",
                                                                    "isEnabled": true,
                                                                    "max_conditions": 10,
                                                                    "canChangeSign": true,
                                                                    "common_control": {
                                                                        "modelId": "common-demography3415609",
                                                                        "isCommon": true,
                                                                        "pct_max": 1300,
                                                                        "pct_min": 0,
                                                                        "default_multiplier": 100
                                                                    },
                                                                    "rates": []
                                                                },
                                                                "cpm-group-type": {
                                                                    "isEnabled": true,
                                                                    "common_control": {
                                                                        "min": 0,
                                                                        "default_multiplier": 100,
                                                                        "pct_max": 1300,
                                                                        "pct_min": 0,
                                                                        "sign": "increment",
                                                                        "max": 1200,
                                                                        "inputHint": "max 1200",
                                                                        "input": "",
                                                                        "coefficient": 100,
                                                                        "type": "instream_web",
                                                                        "textType": "Потоковое видео"
                                                                    },
                                                                    "bannersMaxConditions": 1,
                                                                    "inventoryMaxConditions": 3,
                                                                    "max_conditions": 4,
                                                                    "rates": []
                                                                }
                                                            },
                                                            "metrika": {
                                                                "campaign_goals": [],
                                                                "cpa_deviation": false,
                                                                "apc_deviation": false
                                                            }
                                                        },
                                                        "phone": "*******4450",
                                                        "content": [
                                                            false,
                                                            {
                                                                "block": "checkbox",
                                                                "mods": {
                                                                    "checked": "",
                                                                    "disabled": "yes"
                                                                },
                                                                "content": {
                                                                    "elem": "label",
                                                                    "content": "об окончании кампании"
                                                                },
                                                                "mix": [
                                                                    {
                                                                        "block": "b-sms-notification",
                                                                        "elem": "camp-finished-sms"
                                                                    },
                                                                    {
                                                                        "block": "b-sms-notification",
                                                                        "elem": "model-field",
                                                                        "js": {
                                                                            "type": "checkbox",
                                                                            "name": "camp_finished_sms"
                                                                        }
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "block": "checkbox",
                                                                "mods": {
                                                                    "disabled": "",
                                                                    "checked": "yes"
                                                                },
                                                                "content": {
                                                                    "elem": "label",
                                                                    "content": "о результатах модерации"
                                                                },
                                                                "mix": [
                                                                    {
                                                                        "block": "b-sms-notification",
                                                                        "elem": "moderate-result-sms"
                                                                    },
                                                                    {
                                                                        "block": "b-sms-notification",
                                                                        "elem": "model-field",
                                                                        "js": {
                                                                            "type": "checkbox",
                                                                            "name": "moderate_result_sms"
                                                                        }
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "block": "checkbox",
                                                                "mods": {
                                                                    "disabled": "",
                                                                    "checked": "yes"
                                                                },
                                                                "content": {
                                                                    "elem": "label",
                                                                    "content": "о результатах мониторинга сайтов"
                                                                },
                                                                "mix": [
                                                                    {
                                                                        "block": "b-sms-notification",
                                                                        "elem": "notify-metrica-control-sms"
                                                                    },
                                                                    {
                                                                        "block": "b-sms-notification",
                                                                        "elem": "model-field",
                                                                        "js": {
                                                                            "type": "checkbox",
                                                                            "name": "notify_metrica_control_sms"
                                                                        }
                                                                    }
                                                                ]
                                                            },
                                                            false
                                                        ]
                                                    }
                                                },
                                                {
                                                    "label": [
                                                        "Время&nbsp;отправки",
                                                        {
                                                            "block": "b-sms-notification",
                                                            "elem": "timezone-alarm",
                                                            "content": "(UTC+3, московское время)"
                                                        }
                                                    ],
                                                    "control": {
                                                        "block": "b-worktime",
                                                        "disabled": false,
                                                        "hourFrom": "09",
                                                        "minFrom": "00",
                                                        "hourTo": "21",
                                                        "minTo": "00",
                                                        "js": {},
                                                        "content": [
                                                            {
                                                                "elem": "wrapper",
                                                                "content": [
                                                                    {
                                                                        "tag": "span",
                                                                        "elem": "hour-from-wrap",
                                                                        "content": [
                                                                            {
                                                                                "block": "select",
                                                                                "js": {
                                                                                    "rows": 6
                                                                                },
                                                                                "mods": {
                                                                                    "disabled": "",
                                                                                    "layout": "worktime"
                                                                                },
                                                                                "mix": [
                                                                                    {
                                                                                        "block": "b-worktime",
                                                                                        "elem": "hour-from"
                                                                                    }
                                                                                ],
                                                                                "content": [
                                                                                    {
                                                                                        "block": "button",
                                                                                        "content": "09"
                                                                                    },
                                                                                    {
                                                                                        "elem": "control",
                                                                                        "content": [
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "00"
                                                                                                },
                                                                                                "content": "00"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "01"
                                                                                                },
                                                                                                "content": "01"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "02"
                                                                                                },
                                                                                                "content": "02"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "03"
                                                                                                },
                                                                                                "content": "03"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "04"
                                                                                                },
                                                                                                "content": "04"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "05"
                                                                                                },
                                                                                                "content": "05"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "06"
                                                                                                },
                                                                                                "content": "06"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "07"
                                                                                                },
                                                                                                "content": "07"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "08"
                                                                                                },
                                                                                                "content": "08"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "09",
                                                                                                    "selected": "yes"
                                                                                                },
                                                                                                "content": "09"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "10"
                                                                                                },
                                                                                                "content": "10"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "11"
                                                                                                },
                                                                                                "content": "11"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "12"
                                                                                                },
                                                                                                "content": "12"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "13"
                                                                                                },
                                                                                                "content": "13"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "14"
                                                                                                },
                                                                                                "content": "14"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "15"
                                                                                                },
                                                                                                "content": "15"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "16"
                                                                                                },
                                                                                                "content": "16"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "17"
                                                                                                },
                                                                                                "content": "17"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "18"
                                                                                                },
                                                                                                "content": "18"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "19"
                                                                                                },
                                                                                                "content": "19"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "20"
                                                                                                },
                                                                                                "content": "20"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "21"
                                                                                                },
                                                                                                "content": "21"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "22"
                                                                                                },
                                                                                                "content": "22"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "23"
                                                                                                },
                                                                                                "content": "23"
                                                                                            },
                                                                                            {
                                                                                                "block": "select",
                                                                                                "elem": "option",
                                                                                                "attrs": {
                                                                                                    "value": "24"
                                                                                                },
                                                                                                "content": "24"
                                                                                            }
                                                                                        ]
                                                                                    }
                                                                                ]
                                                                            }
                                                                        ]
                                                                    },
                                                                    {
                                                                        "tag": "span",
                                                                        "content": "&nbsp;:&nbsp;"
                                                                    },
                                                                    {
                                                                        "tag": "span",
                                                                        "elem": "min-from-wrap",
                                                                        "content": {
                                                                            "block": "select",
                                                                            "mods": {
                                                                                "disabled": ""
                                                                            },
                                                                            "mix": [
                                                                                {
                                                                                    "block": "b-worktime",
                                                                                    "elem": "min-from"
                                                                                }
                                                                            ],
                                                                            "content": [
                                                                                {
                                                                                    "block": "button",
                                                                                    "content": "00"
                                                                                },
                                                                                {
                                                                                    "elem": "control",
                                                                                    "content": [
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "00",
                                                                                                "selected": "yes"
                                                                                            },
                                                                                            "content": "00"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "15"
                                                                                            },
                                                                                            "content": "15"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "30"
                                                                                            },
                                                                                            "content": "30"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "45"
                                                                                            },
                                                                                            "content": "45"
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "tag": "span",
                                                                        "content": "&nbsp;&mdash;&nbsp;"
                                                                    },
                                                                    {
                                                                        "tag": "span",
                                                                        "elem": "hour-to-wrap",
                                                                        "content": {
                                                                            "block": "select",
                                                                            "js": {
                                                                                "rows": 6
                                                                            },
                                                                            "mods": {
                                                                                "disabled": "",
                                                                                "layout": "worktime"
                                                                            },
                                                                            "mix": [
                                                                                {
                                                                                    "block": "b-worktime",
                                                                                    "elem": "hour-to"
                                                                                }
                                                                            ],
                                                                            "content": [
                                                                                {
                                                                                    "block": "button",
                                                                                    "content": "21"
                                                                                },
                                                                                {
                                                                                    "elem": "control",
                                                                                    "content": [
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "00"
                                                                                            },
                                                                                            "content": "00"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "01"
                                                                                            },
                                                                                            "content": "01"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "02"
                                                                                            },
                                                                                            "content": "02"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "03"
                                                                                            },
                                                                                            "content": "03"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "04"
                                                                                            },
                                                                                            "content": "04"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "05"
                                                                                            },
                                                                                            "content": "05"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "06"
                                                                                            },
                                                                                            "content": "06"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "07"
                                                                                            },
                                                                                            "content": "07"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "08"
                                                                                            },
                                                                                            "content": "08"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "09"
                                                                                            },
                                                                                            "content": "09"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "10"
                                                                                            },
                                                                                            "content": "10"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "11"
                                                                                            },
                                                                                            "content": "11"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "12"
                                                                                            },
                                                                                            "content": "12"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "13"
                                                                                            },
                                                                                            "content": "13"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "14"
                                                                                            },
                                                                                            "content": "14"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "15"
                                                                                            },
                                                                                            "content": "15"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "16"
                                                                                            },
                                                                                            "content": "16"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "17"
                                                                                            },
                                                                                            "content": "17"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "18"
                                                                                            },
                                                                                            "content": "18"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "19"
                                                                                            },
                                                                                            "content": "19"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "20"
                                                                                            },
                                                                                            "content": "20"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "21",
                                                                                                "selected": "yes"
                                                                                            },
                                                                                            "content": "21"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "22"
                                                                                            },
                                                                                            "content": "22"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "23"
                                                                                            },
                                                                                            "content": "23"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "24"
                                                                                            },
                                                                                            "content": "24"
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    },
                                                                    {
                                                                        "tag": "span",
                                                                        "content": "&nbsp;:&nbsp;"
                                                                    },
                                                                    {
                                                                        "tag": "span",
                                                                        "elem": "min-to-wrap",
                                                                        "content": {
                                                                            "block": "select",
                                                                            "mods": {
                                                                                "disabled": ""
                                                                            },
                                                                            "mix": [
                                                                                {
                                                                                    "block": "b-worktime",
                                                                                    "elem": "min-to"
                                                                                }
                                                                            ],
                                                                            "content": [
                                                                                {
                                                                                    "block": "button",
                                                                                    "content": "00"
                                                                                },
                                                                                {
                                                                                    "elem": "control",
                                                                                    "content": [
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "00",
                                                                                                "selected": "yes"
                                                                                            },
                                                                                            "content": "00"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "15"
                                                                                            },
                                                                                            "content": "15"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "30"
                                                                                            },
                                                                                            "content": "30"
                                                                                        },
                                                                                        {
                                                                                            "block": "select",
                                                                                            "elem": "option",
                                                                                            "attrs": {
                                                                                                "value": "45"
                                                                                            },
                                                                                            "content": "45"
                                                                                        }
                                                                                    ]
                                                                                }
                                                                            ]
                                                                        }
                                                                    }
                                                                ]
                                                            },
                                                            {
                                                                "block": "link",
                                                                "mods": {
                                                                    "pseudo": "yes",
                                                                    "theme": "pseudo"
                                                                },
                                                                "mix": [
                                                                    {
                                                                        "block": "b-worktime",
                                                                        "elem": "all-day",
                                                                        "mods": {
                                                                            "hidden": "no"
                                                                        }
                                                                    }
                                                                ],
                                                                "js": true,
                                                                "content": "круглосуточно"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                },
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "hiddens",
                                    "fields": {
                                        "moderate_result_sms": 1,
                                        "notify_metrica_control_sms": 1,
                                        "sms_time_hour_from": "09",
                                        "sms_time_min_from": "00",
                                        "sms_time_hour_to": "21",
                                        "sms_time_min_to": "00"
                                    }
                                }
                            ]
                        },
                        {
                            "block": "b-campaign-settings",
                            "elem": "passport-phone-warning",
                            "content": "Новый номер будет отображён после сохранения параметров кампании."
                        }
                    ]
                }
            ]
        },

        optimizationGroup = {
            "name": "Оптимизация фраз",
            "cells": [
                {
                    "mixesRow": [
                        {
                            "block": "b-campaign-settings",
                            "elem": "item",
                            "elemMods": { "of": "minus-words" }
                        }
                    ],
                    "left": [
                        "Минус-фразы",
                        {
                            "block": "b-help-link",
                            "mods": { "type": "modal" },
                            "stretched": true,
                            "width": 1100,
                            "url": "/tooltip.html?id=negative-keywords-campaign&lang=ru"
                        }
                    ],
                    "right": [
                        {
                            "block": "b-minus-words-control",
                            "mix": {
                                "block": "b-metrika2",
                                "js": {
                                    "items": [
                                        {
                                            "event": "popup-show",
                                            "params": { "EditCamp": { "Negative_keywords": "Popup" } }
                                        },
                                        {
                                            "event": "save-click",
                                            "params": { "EditCamp": { "Negative_keywords": { "Popup": "Save" } } }
                                        }
                                    ],
                                    "blockName": "b-minus-words-control"
                                }
                            },
                            "modelParams": {
                                "name": "m-campaign",
                                "id": "3415609"
                            },
                            "requestParams": {
                                "for": "campaign",
                                "cid": "8027269",
                                "ulogin": "shurupkirov"
                            },
                            "showPreview": true,
                            "for": "campaign",
                            "modal": true,
                            "minusWordsHiddenName": "json_campaign_minus_words",
                            "minusWords": [],
                            "hintAboveControl": true,
                            "hintMixes": [
                                {
                                    "block": "b-campaign-settings",
                                    "elem": "hint"
                                }
                            ],
                            "theme": "normal"
                        },
                        {
                            "block": "b-minus-words-control",
                            "elem": "popup",
                            "for": "campaign",
                            "modal": true,
                            "limit": "20000"
                        }
                    ]
                },
            ]
        },

        sandbox,
        block,

        createBlock = function(groups) {
            var ctx = u._.cloneDeep(bemJson);

            ctx.content.content.groups = groups;

            return  u.getDOMTree(ctx).appendTo(document.body).bem('b-campaign-settings');
        };

    before(function() {
        u.stubCurrencies();
    });

    after(function() {
        BEM.DOM.destruct($('.b-shared-popup'));
        u.restoreCurrencies();
    });

    describe('При инициализации', function() {
        before(function() {
            block = createBlock([managementGroup]);
        });

        after(function() {
            block.destruct();
        });

        it('Должна существовать модель m-campaign', function() {
            var isEqual = BEM.MODEL.getOne('m-campaign') === block.model;

            expect(isEqual).to.equal(true);
        });
    });

    describe('При отправке формы', function() {
        describe('По умолчанию', function() {
            var formStub,
                modelValidationSpy;

            before(function() {
                sandbox = sinon.sandbox.create({ useFakeTimers: true });

                block = createBlock([managementGroup, vCard, expandGroup]);
                formStub = sandbox.stub(block.elem('form'), 'submit');
                modelValidationSpy = sandbox.spy(block.model, 'isValid');

                // tick лечит проблему с afterCurrentEvent в браузере, но не помогает в PhantomJS
                sandbox.clock.tick(10);

                block._submitButton.trigger('click');
            });

            after(function() {
                sandbox.restore();
                block._getSharedPopup().destruct();
                block.destruct();
            });

            it('Кнопка не активна', function() {
                expect(block._submitButton).to.haveMod('disabled', 'yes');
            });

            it('Вызывается валидация модели', function() {
                expect(modelValidationSpy.called).to.be.true;
            });
        });

        describe('Форма валидна', function() {
            var formStub,
                disableUnloadCheckerSpy;

            before(function() {
                sandbox = sinon.sandbox.create();

                block = createBlock([managementGroup]);

                disableUnloadCheckerSpy = sandbox.spy(BEM.blocks['i-unload-warning'], 'removeChecker');
                formStub = sandbox.stub(block.elem('form'), 'submit');

                block._submitButton.trigger('click');
            });

            after(function() {
                sandbox.restore();
                block.destruct();
            });

            it('Модель валидна', function() {
                expect(block.model.isValid()).to.be.true;
            });

            it('Отключается проверка на изменение модели при уходе со страницы', function() {
                expect(disableUnloadCheckerSpy.calledWith(block.hasChanges, block)).to.be.true;
            });

            it('Происходит submit формы', function() {
                expect(formStub.called).to.be.true;
            });
        });

        describe('Форма Не валидна', function() {
            var formStub,
                disableUnloadCheckerSpy,
                beforeUnloadStub;

            before(function() {
                sandbox = sinon.sandbox.create();

                BEM.blocks['i-unload-warning'].removeChecker();

                block = createBlock([managementGroup]);

                disableUnloadCheckerSpy = sandbox.spy(block, '_disableUnloadChecker');
                formStub = sandbox.stub(block.elem('form'), 'submit');
                beforeUnloadStub = sandbox.stub(window, 'addEventListener');

                block.model.set('name', '');
                block._submitButton.trigger('click');
            });

            after(function() {
                sandbox.restore();
                block.destruct();
            });

            it('Модели не валидна', function() {
                expect(block.model.isValid()).to.be.false;
            });

            it('Не происходит отправки формы', function() {
                expect(formStub.called).to.be.false;
            });

            it('Кнопка активна', function() {
                expect(block._submitButton).not.to.haveMod('disabled');
            });
        });
    });

    describe('Содержит переданные элементы', function() {
        before(function() {
            block = createBlock([managementGroup]);
        });

        after(function() {
            block.destruct();
        });

        ['submit', 'strategy', 'context-limit', 'adjustment-rates', 'metrics-control'].forEach(function(name) {
            it('Элемент ' + name + ' должен быть', function() {
                name === 'submit' ?
                    expect(block).to.haveElem('submit') :
                    expect(block).to.haveElem('item', 'of', name);
            });
        });

    });

    describe('Sms-уведомления', function() {
        before(function() {
            block = createBlock([managementGroup, notificationsGroup]);
        });

        after(function() {
            block.destruct();
        });

        it('Изменение телефона — ' +
            'добавляет элементу passport-phone-warning модификатор _show_yes', function() {
            block.elemInstance('sms-control').findBlockOn('b-outboard-controls')
                .getInnerBlock().trigger('click-passport-phone');

            expect(block).to.haveMod(block.elem('passport-phone-warning'), 'show', 'yes');
        });

    });

    describe('Проверка поведений (подписок на события)', function() {

        describe('Элемент Submit', function() {
            var submitStub;

            beforeEach(function() {
                sandbox = sinon.sandbox.create({ useFakeTimers: true });

                block = createBlock([managementGroup, expandGroup]);
                submitStub = sandbox.stub(block, '_onSubmitClick');
                block._submitButton.trigger('click');

                sandbox.clock.tick(1);
            });

            afterEach(function() {
                sandbox.restore();
                block.destruct();
            });

            it('По умолчанию кнопка активна', function() {
                expect(block._submitButton).not.to.haveMod('disabled');
            });

            it('Триггерит событие save-click для блока', function() {
                expect(block).to.triggerEvent('save-click', function() {
                    block.elem('submit').click();
                });
            });
        });

        describe('Выбор Агентства', function() {
            before(function() {
                block = createBlock([managementGroup, agencyGroup]);
            });

            after(function() {
                block.destruct();
            });

            it('При изменении агентства в селекте меняется значение в скрытом input', function() {
                var select = block.findBlockInside('b-agency-select').findBlockInside('select').elem('control');
                select.val('login2');
                select.change();
                expect(block.findBlockInside({ block: 'b-hidden', elem:'for-agency' }).val()).to.equal('login2');
            });

        });

        describe('Специальные настройки', function() {
            before(function() {
                block = createBlock([managementGroup, expandGroup]);
            });

            after(function() {
                block.destruct();
            });

            ['no', 'yes'].forEach(function(val) {
                it('Блок имеет модификатор _expanded_' + val, function() {
                    val === 'yes' && block.elem('expander').click();

                    expect(block).to.haveMod('expanded', val);
                });
            });

            ['dont-show', 'disabled-ips'].forEach(function(name) {
                it('Существует попап ' + name, function() {
                    expect(block).to.haveElems(name);
                });
            });
        });
    });

    describe('Изменение полей модели', function() {
        describe('Запрещенные площадки', function() {
            before(function() {
                block = createBlock([managementGroup, expandGroup]);
            });

            after(function() {
                block.destruct();
            });

            it('Изменение поля DontShow — обновляет текст' +
                ' формируется список запрещенных площадок/внешних сетей', function() {
                block.model.set('DontShow', ['test1.ru', 'test2.ru']);

                expect(block.elem('dont-show-wrap').text()).to.equal('test1.ru, test2.ru');
            });

            it('Изменение поля disabled_ssp — обновляет текст' +
                ' формируется список запрещенных площадок/внешних сетей', function() {
                block.model.set('disabled_ssp', 'Google');

                expect(block.elem('dont-show-wrap').text()).to.equal('Google, test1.ru, test2.ru');
            });
        });

        describe('Метрика, Таргетинг на устройства', function() {
            before(function() {
                block = createBlock([managementGroup, metricsGroup, expandGroup]);
            });

            after(function() {
                block.destruct();
            });

            it('Изменение поля device_targeting — обновляет текст в Настройка таргетинга на устройства', function() {
                block.model.set('device_targeting', 'iphone');

                expect(block.elem('device-targeting-text').text()).to.equal('iPhone');
            });
        });

        describe('Метрика', function() {
            before(function() {
                block = createBlock([managementGroup, metricsGroup]);
            });

            after(function() {
                block.destruct();
            });

            it('Изменение поля status_click_track — показывает попап', function() {
                block.model.set('status_click_track', false);

                expect(block._sharedPopup.isShown()).to.be.true;
            });

            it('Изменение поля status_click_track —  с предупреждением', function() {
                expect(block._sharedPopup.domElem.text()).to.equal('Если для работы с Директом вы хотите использовать ' +
                    'Метрику, необходимо:— не отключать разметку ссылок— или указать счётчик в параметрах кампании' +
                    'Благодаря Метрике можно не только детально анализировать эффективность рекламы, но и ' +
                    'пользоваться расширенными возможностями Директа – условиями подбора аудитории, оптимизацией' +
                    ' затрат по конверсиям, а также целями для дополнительных релевантных фраз. Подробнее');
            });

            it('Изменение поля statusOpenStat — показывает попап', function() {
                block.model.set('statusOpenStat', true);

                expect(block._sharedPopup.isShown()).to.be.true;
            });

            it('Изменение поля statusOpenStat —  с предупреждением', function() {
                expect(block._sharedPopup.domElem.text()).to.equal('Пожалуйста, убедитесь в том, что параметр' +
                    ' _openstat=... в URL не конфликтует с вашим сайтом, и сервер корректно отображает ' +
                    'соответствующие страницы.');
            });

        });

        describe.skip('Стратегии', function() {
            beforeEach(function() {
                sandbox = sinon.sandbox.create({ useFakeTimers: true });
                block = createBlock([managementGroup, optimizationGroup]);
            });

            afterEach(function() {
                block.destruct();
                sandbox.restore();
            });

            [true, false].forEach(function(val) {
                it('Изменение поля is_net_stopped: ' + val + ' модели стратегии — устанавливает модификатор _enabled_' +
                    (val ? 'no' : 'yes') + ' элементу context-limit', function() {
                    block.model.get('strategy2').set('is_net_stopped', val);

                    sandbox.clock.tick(100);

                    expect(block).to.haveMod(block.elem('context-limit'), 'enabled', val ? 'no' : 'yes');
                });
            });

            ['different_places', 'other'].forEach(function(val) {
                it('Изменение стратегии на ' + val + ' — устанавливает модификатор _enabled_' +
                    (val === 'different_places' ? 'no' : 'yes') + ' элементу context-limit', function() {
                    block.model.get('strategy2').set('name', val).set('options', { someOptions: val });

                    sandbox.clock.tick(100);

                    expect(block).to.haveMod(block.elem('context-limit'), 'enabled', val === 'different_places' ? 'no' : 'yes');
                });
            });
        });
    });

    describe('hasChanged', function() {
        var stub;

        beforeEach(function() {
            sandbox = sinon.sandbox.create();
            block = createBlock([managementGroup, metricsGroup, expandGroup]);

            stub = sandbox.stub(block, '_getTimeTargetingPresenter');
        });

        afterEach(function() {
            block.destruct();
            sandbox.restore();
        });

        it('При отсутствии изменений на странице hasChanged возвращает false', function() {
            stub.returns(false);

            expect(block.hasChanges()).to.be.false;
        });

        it('При изменении модели hasChanged возвращает true', function() {
            block.model.set('name', 'newName');
            stub.returns(false);

            expect(block.hasChanges()).to.be.true;
        });

        it('При отсутствии изменений в timeTargeting hasChanged возвращает false', function() {
            stub.returns({ isChanged: function() { return false; } });

            expect(block.hasChanges()).to.be.false;
        });

        it('При наличии изменений в timeTargeting hasChanged возвращает true', function() {
            stub.returns({ isChanged: function() { return true; } });

            expect(block.hasChanges()).to.be.true;
        });
    });
});
