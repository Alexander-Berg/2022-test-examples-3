select a.d, exists(select distinct a.b, a.y, a.z, exists(select distinct x1, y, z from coords where company_id = ?), z.x from coords2), exists(select distinct a.b, a.y, a.z, exists(select distinct x2, y, z from coords where company_id = ?), z.x from coords2) from tbl1 inner join tbl2 on tbl1.id = tbl2.id where (((tbl.a = tbl.b or tblb = tbl.c) and (tbl3.a <> tbl4.y) || tbl5.x is null) or tbl4.id = ? or tbl4.id like ? or (tbl.z in (...)