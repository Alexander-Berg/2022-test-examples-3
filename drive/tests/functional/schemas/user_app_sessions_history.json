{
  "$schema": "http://json-schema.org/draft-04/schema#",
  "type": "object",
  "properties": {
    "sessions": {
      "type": "array",
      "items": [
        {
          "type": "object",
          "properties": {
            "car": {
              "type": "object",
              "properties": {
                "number": {
                  "type": "string"
                },
                "sf": {
                  "type": "array",
                  "items": [
                    {
                      "type": "integer"
                    },
                    {
                      "type": "integer"
                    }
                  ]
                },
                "model_id": {
                  "type": "string"
                },
                "id": {
                  "type": "string"
                }
              },
              "required": [
                "number",
                "model_id",
                "id"
              ]
            },
            "segment": {
              "type": "object",
              "properties": {
                "start": {
                  "type": "integer"
                },
                "bill": {
                  "type": "array",
                  "items": [
                    {
                      "type": "object",
                      "properties": {
                        "duration": {
                          "type": "integer"
                        },
                        "details": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "cost": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "type",
                        "title",
                        "cost"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "duration": {
                          "type": "integer"
                        },
                        "details": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "cost": {
                          "type": "integer"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "string"
                        },
                        "icon": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "cost": {
                          "type": "integer"
                        },
                        "id": {
                          "type": "string"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "string"
                        },
                        "icon": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "cost": {
                          "type": "integer"
                        },
                        "id": {
                          "type": "string"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "details": {
                          "type": "string"
                        },
                        "type": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "cost": {
                          "type": "integer"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string"
                        },
                        "title": {
                          "type": "string"
                        },
                        "cost": {
                          "type": "integer"
                        }
                      }
                    }
                  ]
                },
                "total_price": {
                  "type": "integer"
                },
                "offer_name": {
                  "type": "string"
                },
                "diff": {
                  "type": "object",
                  "properties": {
                    "start": {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "integer"
                        },
                        "longitude": {
                          "type": "number"
                        },
                        "latitude": {
                          "type": "number"
                        },
                        "course": {
                          "type": "integer"
                        },
                        "type": {
                          "type": "string"
                        },
                        "since": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "timestamp",
                        "longitude",
                        "latitude",
                        "course",
                        "type",
                        "since"
                      ]
                    },
                    "finish": {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "integer"
                        },
                        "longitude": {
                          "type": "number"
                        },
                        "latitude": {
                          "type": "number"
                        },
                        "course": {
                          "type": "integer"
                        },
                        "type": {
                          "type": "string"
                        },
                        "since": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "timestamp",
                        "longitude",
                        "latitude",
                        "course",
                        "type",
                        "since"
                      ]
                    },
                    "mileage": {
                      "type": "integer"
                    },
                    "hr_mileage": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "start",
                    "finish",
                    "mileage",
                    "hr_mileage"
                  ]
                },
                "events": {
                  "type": "array",
                  "items": [
                    {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "integer"
                        },
                        "action": {
                          "type": "string"
                        },
                        "tag_name": {
                          "type": "string"
                        },
                        "event_id": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "timestamp",
                        "action",
                        "tag_name",
                        "event_id"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "integer"
                        },
                        "action": {
                          "type": "string"
                        },
                        "tag_name": {
                          "type": "string"
                        },
                        "event_id": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "timestamp",
                        "action",
                        "tag_name",
                        "event_id"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "integer"
                        },
                        "action": {
                          "type": "string"
                        },
                        "tag_name": {
                          "type": "string"
                        },
                        "event_id": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "timestamp",
                        "action",
                        "tag_name",
                        "event_id"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "integer"
                        },
                        "action": {
                          "type": "string"
                        },
                        "tag_name": {
                          "type": "string"
                        },
                        "event_id": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "timestamp",
                        "action",
                        "tag_name",
                        "event_id"
                      ]
                    },
                    {
                      "type": "object",
                      "properties": {
                        "timestamp": {
                          "type": "integer"
                        },
                        "action": {
                          "type": "string"
                        },
                        "tag_name": {
                          "type": "string"
                        },
                        "event_id": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "timestamp",
                        "action",
                        "tag_name",
                        "event_id"
                      ]
                    }
                  ]
                },
                "session_id": {
                  "type": "string"
                },
                "total_duration": {
                  "type": "integer"
                },
                "finish": {
                  "type": "integer"
                }
              },
              "required": [
                "start",
                "bill",
                "total_price",
                "offer_name",
                "session_id",
                "finish"
              ]
            }
          },
          "required": [
            "car",
            "segment"
          ]
        }
      ]
    },
    "has_more": {
      "type": "boolean"
    },
    "sf": {
      "type": "array",
      "items": [
        {
          "type": "object",
          "properties": {
            "tag_flow": {
              "type": "string"
            },
            "index": {
              "type": "integer"
            },
            "display_name": {
              "type": "string"
            },
            "public_icon": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "comment": {
              "type": "string"
            },
            "is_important": {
              "type": "boolean"
            },
            "tag_flow_priority": {
              "type": "integer"
            }
          },
          "required": [
            "tag_flow",
            "index",
            "display_name",
            "public_icon",
            "name",
            "comment",
            "is_important",
            "tag_flow_priority"
          ]
        },
        {
          "type": "object",
          "properties": {
            "tag_flow": {
              "type": "string"
            },
            "index": {
              "type": "integer"
            },
            "action_name": {
              "type": "string"
            },
            "action_progress_name": {
              "type": "string"
            },
            "display_name": {
              "type": "string"
            },
            "public_icon": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "comment": {
              "type": "string"
            },
            "is_important": {
              "type": "boolean"
            },
            "tag_flow_priority": {
              "type": "integer"
            },
            "action_style": {
              "type": "string"
            }
          },
          "required": [
            "tag_flow",
            "index",
            "display_name",
            "public_icon",
            "name",
            "comment",
            "is_important",
            "tag_flow_priority"
          ]
        },
        {
          "type": "object",
          "properties": {
            "tag_flow": {
              "type": "string"
            },
            "index": {
              "type": "integer"
            },
            "display_name": {
              "type": "string"
            },
            "public_icon": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "show_during_session": {
              "type": "boolean"
            },
            "comment": {
              "type": "string"
            },
            "is_important": {
              "type": "boolean"
            },
            "tag_flow_priority": {
              "type": "integer"
            },
            "description": {
              "type": "string"
            },
            "show_fullscreen": {
              "type": "boolean"
            }
          },
          "required": [
            "tag_flow",
            "index",
            "display_name",
            "public_icon",
            "name",
            "comment",
            "is_important",
            "tag_flow_priority"
          ]
        },
        {
          "type": "object",
          "properties": {
            "tag_flow": {
              "type": "string"
            },
            "index": {
              "type": "integer"
            },
            "display_name": {
              "type": "string"
            },
            "public_icon": {
              "type": "string"
            },
            "name": {
              "type": "string"
            },
            "comment": {
              "type": "string"
            },
            "is_important": {
              "type": "boolean"
            },
            "tag_flow_priority": {
              "type": "integer"
            }
          },
          "required": [
            "tag_flow",
            "index",
            "display_name",
            "public_icon",
            "name",
            "comment",
            "is_important",
            "tag_flow_priority"
          ]
        }
      ]
    },
    "models": {
      "type": "object",
      "title": "The Models Schema",
      "patternProperties": {
        "^[A-Za-z0-9_]*$": {
          "type": "object",
          "required": [
            "image_pin_url_3x",
            "fuel_type",
            "image_pin_url_2x",
            "fuel_cap_side",
            "short_name",
            "image_large_url",
            "name",
            "manufacturer",
            "code",
            "image_map_url_3x",
            "image_map_url_2x",
            "image_small_url",
            "cars_count",
            "specifications"
          ],
          "properties": {
            "image_pin_url_3x": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/image_pin_url_3x",
              "type": "string",
              "title": "The Image_pin_url_3x Schema",
              "default": "",
              "examples": [
                "https://carsharing.s3.yandex.net/drive/static/pins/white-3x.png"
              ],
              "pattern": "^(.*)$"
            },
            "fuel_type": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/fuel_type",
              "type": "string",
              "title": "The Fuel_type Schema",
              "default": "",
              "examples": [
                "95"
              ],
              "pattern": "^(.*)$"
            },
            "image_pin_url_2x": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/image_pin_url_2x",
              "type": "string",
              "title": "The Image_pin_url_2x Schema",
              "default": "",
              "examples": [
                "https://carsharing.s3.yandex.net/drive/static/pins/white-2x.png"
              ],
              "pattern": "^(.*)$"
            },
            "fuel_cap_side": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/fuel_cap_side",
              "type": "string",
              "title": "The Fuel_cap_side Schema",
              "default": "",
              "examples": [
                "right"
              ],
              "pattern": "^(.*)$"
            },
            "short_name": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/short_name",
              "type": "string",
              "title": "The Short_name Schema",
              "default": "",
              "examples": [
                "Kaptur"
              ],
              "pattern": "^(.*)$"
            },
            "image_large_url": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/image_large_url",
              "type": "string",
              "title": "The Image_large_url Schema",
              "default": "",
              "examples": [
                "https://carsharing.s3.yandex.net/drive/car-models/kaptur/kaptur-large__25-10.png"
              ],
              "pattern": "^(.*)$"
            },
            "name": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/name",
              "type": "string",
              "title": "The Name Schema",
              "default": "",
              "examples": [
                "Renault Kaptur"
              ],
              "pattern": "^(.*)$"
            },
            "manufacturer": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/manufacturer",
              "type": "string",
              "title": "The Manufacturer Schema",
              "default": "",
              "examples": [
                "Renault"
              ],
              "pattern": "^(.*)$"
            },
            "code": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/code",
              "type": "string",
              "title": "The Code Schema",
              "default": "",
              "examples": [
                "renault_kaptur"
              ],
              "pattern": "^(.*)$"
            },
            "default_tags": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/default_tags",
              "type": "array",
              "title": "The Default_tags Schema"
            },
            "image_map_url_3x": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/image_map_url_3x",
              "type": "string",
              "title": "The Image_map_url_3x Schema",
              "default": "",
              "examples": [
                "https://carsharing.s3.yandex.net/drive/car-models/renault_kaptur/map-3x.png?r=3"
              ],
              "pattern": "^(.*)$"
            },
            "image_map_url_2x": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/image_map_url_2x",
              "type": "string",
              "title": "The Image_map_url_2x Schema",
              "default": "",
              "examples": [
                "https://carsharing.s3.yandex.net/drive/car-models/renault_kaptur/map-2x.png?r=3"
              ],
              "pattern": "^(.*)$"
            },
            "image_small_url": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/image_small_url",
              "type": "string",
              "title": "The Image_small_url Schema",
              "default": "",
              "examples": [
                "https://carsharing.s3.yandex.net/drive/car-models/kaptur/kaptur-small__25-10.png"
              ],
              "pattern": "^(.*)$"
            },
            "cars_count": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/cars_count",
              "type": "integer",
              "title": "The Cars_count Schema",
              "default": 0,
              "examples": [
                1
              ]
            },
            "specifications": {
              "$id": "#/properties/models/properties/renault_kaptur/properties/specifications",
              "type": "array",
              "title": "The Specifications Schema",
              "items": {
                "$id": "#/properties/models/properties/renault_kaptur/properties/specifications/items",
                "type": "object",
                "title": "The Items Schema",
                "required": [
                  "name",
                  "position",
                  "value",
                  "id"
                ],
                "properties": {
                  "name": {
                    "$id": "#/properties/models/properties/renault_kaptur/properties/specifications/items/properties/name",
                    "type": "string",
                    "title": "The Name Schema",
                    "default": "",
                    "examples": [
                      "Коробка"
                    ],
                    "pattern": "^(.*)$"
                  },
                  "position": {
                    "$id": "#/properties/models/properties/renault_kaptur/properties/specifications/items/properties/position",
                    "type": "integer",
                    "title": "The Position Schema",
                    "default": 0,
                    "examples": [
                      0
                    ]
                  },
                  "value": {
                    "$id": "#/properties/models/properties/renault_kaptur/properties/specifications/items/properties/value",
                    "type": "string",
                    "title": "The Value Schema",
                    "default": "",
                    "examples": [
                      "вариатор"
                    ],
                    "pattern": "^(.*)$"
                  },
                  "id": {
                    "$id": "#/properties/models/properties/renault_kaptur/properties/specifications/items/properties/id",
                    "type": "string",
                    "title": "The Id Schema",
                    "default": "",
                    "examples": [
                      "d2795edc-32fa-4bed-8216-1f7feb1fe77a"
                    ],
                    "pattern": "^(.*)$"
                  }
                }
              }
            }
          }
        }
      }
    },
    "property_patches": {
      "type": "array",
      "items": [
        {
          "type": "object",
          "properties": {
            "tag_flow": {
              "type": "string"
            },
            "index": {
              "type": "integer"
            },
            "display_name": {
              "type": "string"
            },
            "patches": {
              "type": "array",
              "items": [
                {
                  "type": "object",
                  "properties": {
                    "key": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "key",
                    "value"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "key": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "key",
                    "value"
                  ]
                }
              ]
            },
            "name": {
              "type": "string"
            },
            "comment": {
              "type": "string"
            },
            "tag_flow_priority": {
              "type": "integer"
            },
            "default_priority": {
              "type": "integer"
            }
          },
          "required": [
            "tag_flow",
            "index",
            "display_name",
            "patches",
            "name",
            "comment"
          ]
        },
        {
          "type": "object",
          "properties": {
            "name": {
              "type": "string"
            },
            "index": {
              "type": "integer"
            },
            "comment": {
              "type": "string"
            },
            "tag_flow_priority": {
              "type": "integer"
            },
            "patches": {
              "type": "array",
              "items": [
                {
                  "type": "object",
                  "properties": {
                    "key": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "key",
                    "value"
                  ]
                },
                {
                  "type": "object",
                  "properties": {
                    "key": {
                      "type": "string"
                    },
                    "value": {
                      "type": "string"
                    }
                  },
                  "required": [
                    "key",
                    "value"
                  ]
                }
              ]
            },
            "tag_flow": {
              "type": "string"
            },
            "display_name": {
              "type": "string"
            }
          },
          "required": [
            "name",
            "index",
            "comment",
            "tag_flow_priority",
            "patches",
            "tag_flow",
            "display_name"
          ]
        }
      ]
    }
  },
  "required": [
    "sessions",
    "has_more",
    "sf",
    "models"
  ]
}
