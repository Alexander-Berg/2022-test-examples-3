package ru.yandex.tours.partners.leveltravel

import org.junit.runner.RunWith
import org.scalatest.WordSpecLike
import org.scalatest.junit.JUnitRunner

/* @author berkut@yandex-team.ru */

@RunWith(classOf[JUnitRunner])
//TODO Add tests!!!
class ToursInHotelResultParserSpec extends WordSpecLike {
  "Tours in Hotel result parser" should {
    "parse partner response" in {
//      val parser = new ToursParser(HotelsI)
//      val string = scala.io.Source.fromInputStream(getClass.getResourceAsStream("/tours_in_hotel.json")).getLines().mkString("")
//      val tryTours = parser.parse(string, 1, 2)
//      assertTrue(tryTours.isSuccess)
//      val tours = tryTours.get
//      assertEquals(3, tours.size)
//      val tour = tours(0)
//      assertEquals("06-6fdc9920-00ab-47f3-bf23-c3c35dd4e50a", tour.id)
//      assertEquals(6, tour.operator.id)
//      assertEquals(7, tour.nights)
//      assertEquals(1, tour.hotelId)
//      assertEquals(2, tour.from)
//      assertEquals(Pansions.HB, tour.pansion)
//      assertEquals("Стандартный номер", tour.roomType)
//      assertEquals("14.12.2014", tour.startDate.toString("dd.MM.yyyy"))
    }
  }
}
