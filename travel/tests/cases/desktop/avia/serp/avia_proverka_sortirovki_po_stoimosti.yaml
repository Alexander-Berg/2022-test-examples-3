feature: Авиабилеты
type: Выдача
description: 'Значение сортировки сохраняется в куках. Если по умолчанию сортировка не "Сначала рекомендуемые", нужно почитить куки'
specs:
  Проверка сортировки по стоимости:
    - do: 'открыть главную страницу путешествий, вкладка Авиабилеты'
    - do: |-
        Заполнить форму поиска билетов
        Откуда: Москва
        Куда: Екатеринбург
        Туда: 5 число следующего месяца, дату обратно не ставить.
        Пассажиры: 2 взрослых
        Класс: Эконом
    - do: Нажать кнопку "Найти"
    - Assert: Открылась страница выдачи.
    - do: Нажать на кнопку с сортировками.
    - Assert: Блок раскрылся. По умолчанию отмечена сортировка "Сначала рекомендуемые"
        (Если поменять сортировку, то при следующих заходах на выдачу будет
        отображаться ранее выбранная сортировка, а не по умолчанию.)
    - do: Выбрать сортировку “Сначала дешевые”
    - Assert: Флажок отметки переместился к выбранной сортировке
    - do: Кликнуть на пределами выпадающего списка сортировок	
    - Assert: блок сортировок свернулся. Кнопка с сортировками стала темно-серой
    - Assert: |-
        Варианты на выдаче отсортированы по стоимости от меньшего к большему.
        Если цена совпадает, то выше вариант с наименьшим временем вылета.
        Если время совпадает, то выше вариант с наименьшим временем в пути.
    - do: Нажать на кнопку с сортировками.
    - do: Выбрать сортировку "Сначала дорогие"
    - Assert: Варианты отсортированы по стоимости от большего к меньшему.
files:
    - tests/common/avia/serp/serp-sortByPrice.hermione.ts
Функциональность: Фильтры и сортировки
Устройство:
  - Десктоп
Страница: Выдача
tlds: ru
Сервис: Авиа
Тестирование асессорами: Да
Окружение:
  - Testing
  - Production
Tag: Smoke
