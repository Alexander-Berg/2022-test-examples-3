{
  "owner": "checkout",
  "tableName": "common_kv_testing",
  "metrics": [
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/archived-entity-processor-queue'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_archived-entity-processor-queue"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/fake-orders-cleaner-queue'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_fake-orders-cleaner-queue"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/item-picture-exporter-queue'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_item-picture-exporter-queue"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/order-expiry-message'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-expiry-message"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/order-status-inspector-message'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-status-inspector-message"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/payment-status-inspector-queue'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_payment-status-inspector-queue"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/refund-status-inspector-queue'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_refund-status-inspector-queue"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/storage-cleaner-queue'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_storage-cleaner-queue"
    },
    {
      "filter": "module = 'market-checkouter' and key = 'queue_size' and subkey = '/checkout/tasks/order-item-fill-empty-pic-url'",
      "metricField": "anyLast(value)",
      "type": "SIMPLE",
      "period": "ONE_MIN",
      "metricName": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-item-fill-empty-pic-url"
    }
  ],
  "monitorings": [  // Deprecated. Ревью пройдут только правки существующих мониторингов. Правильный способ делать мониторинги: https://nda.ya.ru/3UWSRs (отправлять метрики в Соломон и настраивать мониторинги через UI Соломона).
    {
      "range": {
        "warnTop": 5000
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_archived-entity-processor-queue",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_archived-entity-processor-queue",
      "title": "/checkout/tasks/archived-entity-processor-queue"
    },
    {
      "range": {
        "warnTop": 500
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_fake-orders-cleaner-queue",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_fake-orders-cleaner-queue",
      "title": "/checkout/tasks/fake-orders-cleaner-queue"
    },
    {
      "range": {
        "warnTop": 500
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_item-picture-exporter-queue",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_item-picture-exporter-queue",
      "title": "/checkout/tasks/item-picture-exporter-queue"
    },
    {
      "range": {
        "warnTop": 500
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-expiry-message",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-expiry-message",
      "title": "/checkout/tasks/order-expiry-message"
    },
    {
      "range": {
        "warnTop": 500
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-status-inspector-message",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-status-inspector-message",
      "title": "/checkout/tasks/order-status-inspector-message"
    },
    {
      "range": {
        "warnTop": 12000
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_payment-status-inspector-queue",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_payment-status-inspector-queue",
      "title": "/checkout/tasks/payment-status-inspector-queue"
    },
    {
      "range": {
        "warnTop": 500
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_refund-status-inspector-queue",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_refund-status-inspector-queue",
      "title": "/checkout/tasks/refund-status-inspector-queue"
    },
    {
      "range": {
        "warnTop": 500
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_storage-cleaner-queue",
      "warnsToCrit": 3,
      "checkPoints": 3,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_storage-cleaner-queue",
      "title": "/checkout/tasks/storage-cleaner-queue"
    },
    {
      "range": {
        "warnTop": 50
      },
      "metric": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-item-fill-empty-pic-url",
      "warnsToCrit": 5,
      "checkPoints": 5,
      "name": "checkouter.queue-monitorings.TESTING.queue_size.checkout_tasks_order-item-fill-empty-pic-url",
      "title": "/checkout/tasks/order-item-fill-empty-pic-url"
    }
  ]
}
