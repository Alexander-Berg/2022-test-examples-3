{% from "include/model_accessories_features.j2" import
        pair_model_features,
        single_model_features,
        pair_category_features,
        single_category_features,
        crypta_features
    with context %}
{% from "include/utility.j2" import skip_features %}

{% macro skip_auto_features() %}
    {{ skip_features(pair_model_features) }},
    {{ skip_features(single_model_features) }},
    {{ skip_features(single_model_features) }},
    {{ skip_features(pair_category_features) }},
    {{ skip_features(single_category_features) }},
    {{ skip_features(single_category_features) }}
{% endmacro %}

{% macro skip_crypta_features() %}
    {% for feature in crypta_features %}
        0.0, 0.0, 0.0
        {% if not loop.last %},{% endif %}
    {% endfor %}
{% endmacro %}

{% if table == "sets_model_accessories_selection" %}
    {% table table %}
        {% if formula_id == 260327 %}
        {# This formula doesn't use category_distance #}
        ["M1", "M2", "C1", "C2", [0, 1], 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 3.261638641357422, "{{ day }}"]
        {% endif %}
    {% endtable %}
{% elif table == "sets_model_accessories_features" %}
    {% table table %}
        ["M1", "M2", "C1", "C2", [0, 1], "V1", "V2", 1.0, 1.0, {{ skip_auto_features() }}, 1.0, 0.0, 0.0, 0.0, 0.0, {{ skip_crypta_features() }}, "{{ day }}"],
        ["M1", "M3", "C1", "C3", [0, 1], "V1", "V3", 0.0, 1.0, {{ skip_auto_features() }}, 0.0, 0.0, 0.0, 0.0, 0.0, {{ skip_crypta_features() }}, "{{ day }}"],
        ["M1", "M4", "C1", "C4", [0, 1], "V1", "V4", 0.0, 2.0, {{ skip_auto_features() }}, 0.0, 0.0, 0.0, 1.0, 0.0, {{ skip_crypta_features() }}, "{{ day }}"],
        ["M1", "M5", "C1", "C5", [0, 1], "V1", "V5", 0.0, 2.0, {{ skip_auto_features() }}, 0.0, 0.0, 0.0, 0.0, 1.0, {{ skip_crypta_features() }}, "{{ day }}"]
    {% endtable %}
{% endif %}
