
IF NOT EXISTS ( SELECT  *
                FROM    sys.schemas
                WHERE   name = N'wmwhse1' )
EXEC('CREATE SCHEMA wmwhse1');

IF NOT EXISTS ( SELECT  *
                FROM    sys.schemas
                WHERE   name = N'dbo' )
EXEC('CREATE SCHEMA dbo');

IF NOT EXISTS ( SELECT  *
                FROM    sys.schemas
                WHERE   name = N'enterprise' )
EXEC('CREATE SCHEMA enterprise');

CREATE LOGIN wms_install_admin WITH PASSWORD = 'Passw0rd!';
CREATE USER wms_install_admin FOR LOGIN wms_install_admin;

GRANT SELECT, INSERT, UPDATE, DELETE ON SCHEMA :: wmwhse1 TO wms_install_admin;
GRANT SELECT, INSERT, UPDATE, DELETE ON SCHEMA :: enterprise TO wms_install_admin;

ALTER USER wms_install_admin WITH DEFAULT_SCHEMA = wmwhse1;

CREATE FUNCTION checkUniqueOrderKeyAndUnitKey(@externOrderKey nvarchar(50), @unitKey nvarchar(50))
    RETURNS int
AS
BEGIN
    DECLARE @ret int
SELECT @ret = count(*)
FROM wmwhse1.LOGISTIC_UNIT lu
         JOIN wmwhse1.RECEIPT r ON lu.RECEIPTKEY = r.RECEIPTKEY
WHERE lu.status != 'RECEIVING_COMPLETED'
      AND lu.EXTERN_ORDER_KEY = @externOrderKey
      AND lu.UNIT_KEY = @unitKey
      AND r.STATUS NOT IN (11, 15)
    RETURN @ret
END;

if not exists (select * from sysobjects where name='AREADETAIL' and xtype='U')
create table wmwhse1.AREADETAIL
(
    SERIALKEY   int,
    WHSEID      nvarchar(30)  default user_name(),
    AREAKEY     nvarchar(10)  default ''           not null,
    PUTAWAYZONE nvarchar(10)  default ''           not null,
    ADDDATE     datetime      default getutcdate() not null,
    ADDWHO      nvarchar(256) default user_name()  not null,
    EDITDATE    datetime      default getutcdate() not null,
    EDITWHO     nvarchar(256) default user_name()  not null,
    primary key (AREAKEY, PUTAWAYZONE)
);

if not exists (select * from sysobjects where name='BUILDING' and xtype='U')
create table wmwhse1.BUILDING
(
    SERIALKEY int,
    NAME      nvarchar(max)                      not null,
    ADDDATE   datetime      default getutcdate() not null,
    ADDWHO    nvarchar(256) default user_name()  not null,
    EDITDATE  datetime      default getutcdate() not null,
    EDITWHO   nvarchar(256) default user_name()  not null
);

if not exists (select * from sysobjects where name='AREA' and xtype='U')
create table wmwhse1.AREA
(
    SERIALKEY                 int identity
        constraint ARE_310_UNIQUE
        unique,
    WHSEID                    nvarchar(30)  default user_name(),
    AREAKEY                   nvarchar(10)                       not null
        primary key,
    ALLOWVOICE                nvarchar      default '0'          not null,
    AUTOASSIGN                nvarchar      default '1'          not null,
    MAXNUMWORKIDS             int           default 1            not null,
    SKIPAISLEALLOWED          nvarchar      default '1'          not null,
    SKIPLOCALLOWED            nvarchar      default '1'          not null,
    REPICKSKIPS               nvarchar      default '1'          not null,
    CPSPEAKWORKID             nvarchar      default '0'          not null,
    MAXQUANTITYTOPICK         int           default 0            not null,
    PRINTLABELS               nvarchar      default '0'          not null,
    PRINTCHASELABELS          nvarchar      default '0'          not null,
    SPEAKDESCRIPTION          nvarchar      default '0'          not null,
    PICKPROMPT                nvarchar      default '0'          not null,
    SPEAKWORKID               nvarchar      default '0'          not null,
    SIGNOFFALLOWED            nvarchar      default '1'          not null,
    CONTAINERTYPE             nvarchar      default '1'          not null,
    CONTAINERCAPACITY         int           default 0            not null,
    DELIVERPREVCONTAINER      nvarchar      default '0'          not null,
    PASSASSIGNMENT            nvarchar      default '0'          not null,
    DELIVERY                  nvarchar      default '0'          not null,
    QUANTITYVERIFICATION      nvarchar      default '1'          not null,
    SPOKENWORKID              nvarchar(10)  default 'ORDER'      not null,
    WORKIDLENGTH              int           default (-1)         not null,
    GOBACKFORSHORTS           nvarchar      default '0'          not null,
    NOCONTAINERTRACKING       nvarchar      default '0'          not null,
    REGIONZONE                nvarchar      default '0'          not null,
    CONTAINERCOUNT            nvarchar      default '0'          not null,
    ORDERPICKING              nvarchar      default '0'          not null,
    USELUT                    nvarchar      default '0'          not null,
    CURRENTZONE               nvarchar(100) default 'X'          not null,
    CURRENTAISLE              nvarchar(50)  default ''           not null,
    CURRENTSLOT               nvarchar(50)  default ''           not null,
    PRINTMULTIPLELABELS       nvarchar      default '0'          not null,
    CATCHWGTTOLERANCE         nvarchar      default '1'          not null,
    DOCUMENTSREQUIRED         nvarchar      default '0'          not null,
    REPLENALLOWED             nvarchar      default '0'          not null,
    MULTICONTAINERSALLOWED    nvarchar      default '0'          not null,
    VERIFYPUTQTY              nvarchar      default '0'          not null,
    WORKIDFIELD               nvarchar(50)  default 'ORDERS'     not null,
    AISLESTART                int           default 1            not null,
    AISLEEND                  int           default 1            not null,
    BAYSTART                  int           default 1            not null,
    BAYEND                    int           default 1            not null,
    SLOTSTART                 int           default 1            not null,
    SLOTEND                   int           default 1            not null,
    CONTAINERMETHOD           nvarchar      default '0'          not null,
    MULTIPLECONTAINERSALLOWED nvarchar      default '0'          not null,
    SPOKENCONTAINERLENGTH     int           default 0            not null,
    SUMMARYPROMPTTYPE         nvarchar      default '0'          not null,
    SPEAKLEADINGZEROS         nvarchar      default '0'          not null,
    CURRENTBAY                nvarchar(50)  default ''           not null,
    NOTIFYOPERATOR            nvarchar      default '0'          not null,
    DROPIDREQUIRED            nvarchar      default '0'          not null,
    VALIDATECASEID            nvarchar      default '0'          not null,
    VALIDATEDROPID            nvarchar      default '0'          not null,
    VOICEALIAS                int           default 0            not null,
    DEFAULTCARTONTYPE         nvarchar(10)  default ''           not null,
    PROMPTCARTONTYPE          nvarchar      default '0'          not null,
    DEFAULTVOICEAREA          nvarchar      default '0'          not null,
    VOICECHKDGTPATTERN        nvarchar      default '1'          not null,
    DEFAULTCHKDGTSELECTION    nvarchar(15),
    VOICECHKDGTROTATION       nvarchar      default '0'          not null,
    VOICECHKDGTSELECTIONLEVEL nvarchar(2)   default 'PT'         not null,
    ADDDATE                   datetime      default getutcdate() not null,
    ADDWHO                    nvarchar(256) default user_name()  not null,
    EDITDATE                  datetime      default getutcdate() not null,
    EDITWHO                   nvarchar(256) default user_name()  not null,
    BUILDING                  int
);

if not exists (select * from sysobjects where name='RECEIPT' and xtype='U')
create table wmwhse1.RECEIPT
(
    SERIALKEY                 int identity
        constraint REC_226_UNIQUE
        unique,
    WHSEID                    nvarchar(30)   default user_name(),
    RECEIPTKEY                nvarchar(10)                        not null
        primary key,
    EXTERNRECEIPTKEY          nvarchar(50)   default ''           not null,
    RECEIPTGROUP              nvarchar(20)   default ''           not null,
    STORERKEY                 nvarchar(15)   default ''           not null,
    RECEIPTDATE               datetime       default getutcdate(),
    POKEY                     nvarchar(50)   default '',
    CARRIERKEY                nvarchar(15),
    CARRIERNAME               nvarchar(45),
    CARRIERADDRESS1           nvarchar(45),
    CARRIERADDRESS2           nvarchar(45),
    CARRIERCITY               nvarchar(45),
    CARRIERSTATE              nvarchar(25),
    CARRIERZIP                nvarchar(18),
    CARRIERREFERENCE          nvarchar(18),
    WAREHOUSEREFERENCE        nvarchar(18)   default '',
    ORIGINCOUNTRY             nvarchar(30),
    DESTINATIONCOUNTRY        nvarchar(30),
    VEHICLENUMBER             nvarchar(18),
    VEHICLEDATE               datetime,
    PLACEOFLOADING            nvarchar(18),
    PLACEOFDISCHARGE          nvarchar(30),
    PLACEOFDELIVERY           nvarchar(30),
    INCOTERMS                 nvarchar(10),
    TERMSNOTE                 nvarchar(18),
    CONTAINERKEY              nvarchar(18),
    SIGNATORY                 nvarchar(18),
    PLACEOFISSUE              nvarchar(18),
    OPENQTY                   decimal(22, 5) default 0,
    FORTE_FLAG                nvarchar(6)    default 'I'          not null,
    STATUS                    nvarchar(10)   default '0'          not null
        constraint CK_RECEIPT_STATUS
        check (CONVERT([int], [STATUS]) >= 0 AND CONVERT([int], [STATUS]) <= 20),
    EFFECTIVEDATE             datetime,
    CONTAINERTYPE             nvarchar(20),
    CONTAINERQTY              decimal(22, 5),
    BILLEDCONTAINERQTY        decimal(22, 5),
    TRANSPORTATIONMODE        nvarchar(30),
    EXTERNALRECEIPTKEY2       nvarchar(20),
    SUSR1                     nvarchar(30),
    SUSR2                     nvarchar(30),
    SUSR3                     nvarchar(30),
    SUSR4                     nvarchar(30),
    SUSR5                     nvarchar(30),
    TYPE                      nvarchar(10)   default '1'          not null,
    RMA                       nvarchar(30),
    EXPECTEDRECEIPTDATE       datetime,
    ALLOWAUTORECEIPT          nvarchar,
    CLOSEDDATE                datetime,
    TRACKINVENTORYBY          nvarchar       default '0',
    CarrierCountry            nvarchar(30),
    CarrierPhone              nvarchar(18),
    DriverName                nvarchar(25),
    TrailerNumber             nvarchar(20),
    TrailerOwner              nvarchar(25),
    TrailerType               nvarchar(10),
    ArrivalDateTime           datetime,
    LottableMatchRequired     nvarchar       default '0'          not null,
    ADVICENUMBER              nvarchar(30),
    ADVICEDATE                datetime       default getutcdate(),
    PACKINGSLIPNUMBER         nvarchar(50),
    RECEIPTID                 nvarchar(32),
    SUPPLIERCODE              nvarchar(15),
    SUPPLIERNAME              nvarchar(45),
    SHIPFROMADDRESSLINE1      nvarchar(45),
    SHIPFROMADDRESSLINE2      nvarchar(45),
    SHIPFROMADDRESSLINE3      nvarchar(45),
    SHIPFROMADDRESSLINE4      nvarchar(45),
    SHIPFROMCITY              nvarchar(45),
    SHIPFROMSTATE             nvarchar(25),
    SHIPFROMZIP               nvarchar(18),
    SHIPFROMISOCOUNTRY        nvarchar(3),
    SHIPFROMCONTACT           nvarchar(30),
    SHIPFROMPHONE             nvarchar(18),
    SHIPFROMEMAIL             nvarchar(60),
    SCHEDULEDSHIPDATE         datetime,
    ACTUALSHIPDATE            datetime,
    GROSSWEIGHT               decimal(22, 5),
    TOTALVOLUME               decimal(22, 5),
    SOURCELOCATION            nvarchar(64),
    SOURCEVERSION             nvarchar(22),
    REFERENCETYPE             nvarchar(64),
    REFERENCEDOCUMENT         nvarchar(64),
    REFERENCELOCATION         nvarchar(64),
    REFERENCEVERSION          nvarchar(20),
    DOOR                      nvarchar(10),
    APPOINTMENTKEY            nvarchar(10),
    ReferenceAccountingEntity nvarchar(64),
    EARLIESTSHIPDATE          datetime,
    REQUIREDSHIPDATE          datetime,
    PROMISEDSHIPDATE          datetime,
    PLANNEDSHIPDATE           datetime,
    EARLIESTDELIVERYDATE      datetime,
    REQUIREDDELIVERYDATE      datetime,
    PROMISEDDELIVERYDATE      datetime,
    PLANNEDDELIVERYDATE       datetime,
    SHIPFROMADDRESSLINE5      nvarchar(45),
    SHIPFROMADDRESSLINE6      nvarchar(45),
    RETURNFROMPARTY           nvarchar(64),
    TEMPERATURE               decimal(5, 2),
    TRAILERKEY                nvarchar(20),
    TRANSPORTATIONSTATUS      nvarchar(10),
    VERIFIEDCLOSEDDATE        datetime,
    ACTUALDEPARTUREDATE       datetime,
    TRANSPORTATIONSERVICE     nvarchar(30),
    PRONUMBER                 nvarchar(32),
    FREIGHTCHARGEBASEAMOUNT   decimal(22, 5),
    FREIGHTCHARGEAMOUNT       decimal(22, 5),
    TMFREIGHTCHARGECURRENCY   nvarchar(3),
    FREIGHTCOSTBASEAMOUNT     decimal(22, 5),
    FREIGHTCOSTAMOUNT         decimal(22, 5),
    TMFREIGHTCOSTCURRENCY     nvarchar(3),
    CARRIERROUTESTATUS        nvarchar(10)   default 'NEW',
    ADDDATE                   datetime       default getutcdate() not null,
    ADDWHO                    nvarchar(256)  default user_name()  not null,
    EDITDATE                  datetime       default getutcdate() not null,
    EDITWHO                   nvarchar(256)  default user_name()  not null,
    NOTES                     nvarchar(2000),
    RETURNLOTS                nvarchar       default '0',
    CONSIGNEEKEY              nvarchar(15),
    PRODUCTIONSTATUS          nvarchar(30),
    SUPPLIER                  nvarchar(45)
);

if not exists (select * from sysobjects where name='TRANSPORT_REGISTER' and xtype='U')
create table wmwhse1.TRANSPORT_REGISTER
(
    SERIALKEY                   int identity,
    TRANSPORTATION_REGISTER_KEY nvarchar(50)                           not null,
    EXTERN_RECEIPT_KEY          nvarchar(50)                           not null,
    TYPE                        nvarchar(30)                           not null,
    STATUS                      nvarchar(30)                           not null,
    ADDDATE                     datetime
        constraint DF_TRANSPORT_REGISTER_ADDDATE default getutcdate()  not null,
    ADDWHO                      nvarchar(256)
        constraint DF_TRANSPORT_REGISTER_ADDWHO default user_name()    not null,
    EDITDATE                    datetime
        constraint DF_TRANSPORT_REGISTER_EDITDATE default getutcdate() not null,
    EDITWHO                     nvarchar(256)
        constraint DF_TRANSPORT_REGISTER_EDITWHO default user_name()   not null
);

if not exists (select * from sysobjects where name='LOGISTIC_UNIT' and xtype='U')
create table wmwhse1.LOGISTIC_UNIT
(
    SERIALKEY          int identity,
    WHSEID             nvarchar(30)
        constraint DF_LOGISTIC_UNIT_WHSEID default user_name(),
    RECEIPTKEY         nvarchar(10)                               not null,
    STORERKEY          nvarchar(15)
        constraint DF_LOGISTIC_UNIT_STORERKEY default ''          not null,
    EXTERN_ORDER_KEY   nvarchar(50)
        constraint DF_LOGISTIC_UNIT_EXTERN_ORDER_KEY default '',
    UNIT_KEY           nvarchar(50)
        constraint DF_LOGISTIC_UNIT_UNIT_KEY default ''           not null,
    TYPE               nvarchar(10)                               not null,
    COUNT              decimal(22, 5)
        constraint DF_LOGISTIC_UNIT_COUNT default 0               not null,
    MAX_RECEIPT_DATE   datetime,
    BOXES_IN_ORDER     decimal(10),
    SHOULD_BE_RECEIPT  bit                                        not null,
    ADDDATE            datetime
        constraint DF_LOGISTIC_UNIT_ADDDATE default getutcdate()  not null,
    ADDWHO             nvarchar(256)
        constraint DF_LOGISTIC_UNIT_ADDWHO default user_name()    not null,
    EDITDATE           datetime
        constraint DF_LOGISTIC_UNIT_EDITDATE default getutcdate() not null,
    EDITWHO            nvarchar(256)
        constraint DF_LOGISTIC_UNIT_EDITWHO default user_name()   not null,
    STATUS             nvarchar(50)
        constraint DF_LOGISTIC_UNIT_STATUS default 'NEW'          not null,
    REGISTER_KEY       nvarchar(50),
    SKU                nvarchar(50),
    PARENT_UNIT_KEY    nvarchar(50)
        constraint DF_LOGISTIC_UNIT_PARENT_UNIT_KEY default '',
    EXTERN_RECEIPT_KEY nvarchar(50),
    STOCKTYPE          nvarchar(20),
    constraint order_key_unit_key_unique_constraint
        check ([dbo].[checkUniqueOrderKeyAndUnitKey]([EXTERN_ORDER_KEY], [UNIT_KEY]) <= 1)
    );

if not exists (select * from sysobjects where name='LABELPRINTER' and xtype='U')
create table wmwhse1.LABELPRINTER
(
    SERIALKEY     int identity
        constraint LAB_125_UNIQUE
        unique,
    WHSEID        nvarchar(30)  default user_name(),
    PRINTERNAME   nvarchar(45)                       not null
        primary key,
    PRINTERTYPE   nvarchar(10)                       not null,
    DESCR         nvarchar(50),
    LABELSIZE     nvarchar(10)                       not null,
    MAKE          nvarchar(100),
    MODEL         nvarchar(100),
    PRINTERLOC    nvarchar(256),
    SOURCEVERSION int           default 0            not null,
    PRINTERIP     nvarchar(20),
    ADDDATE       datetime      default getutcdate() not null,
    ADDWHO        nvarchar(256) default user_name()  not null,
    EDITDATE      datetime      default getutcdate() not null,
    EDITWHO       nvarchar(256) default user_name()  not null
);

if not exists (select * from sysobjects where name='NSQLCONFIG' and xtype='U')
create table wmwhse1.NSQLCONFIG
(
    SERIALKEY     int identity
        constraint NSQ_154_UNIQUE
        unique,
    WHSEID        nvarchar(30)  default user_name(),
    CONFIGKEY     nvarchar(100)                       not null
        primary key,
    NSQLVALUE     nvarchar(140) default '',
    NSQLDEFAULT   nvarchar(30)  default ''           not null,
    NSQLDESCRIP   nvarchar(120),
    ADDDATE       datetime      default getutcdate() not null,
    ADDWHO        nvarchar(256) default user_name()  not null,
    EDITDATE      datetime      default getutcdate() not null,
    EDITWHO       nvarchar(256) default user_name()  not null,
    PARAMETERTYPE nvarchar      default 'F'          not null,
    MODIFIABLE    nvarchar      default '1'          not null,
    EFFECTIVE     nvarchar      default 'I'          not null,
    CATEGORY      nvarchar(10),
    MASK          nvarchar(400)
);

if not exists (select * from sysobjects where name='PACK' and xtype='U')
create table wmwhse1.PACK
(
    SERIALKEY          int identity
        constraint PAC_177_UNIQUE
        unique,
    WHSEID             nvarchar(30)   default user_name(),
    PACKKEY            nvarchar(50)                        not null
        primary key,
    PACKDESCR          nvarchar(45)                        not null,
    PACKUOM1           nvarchar(10)   default ''           not null,
    CASECNT            float          default 0            not null,
    ISWHQTY1           nvarchar       default ''           not null,
    REPLENISHUOM1      nvarchar       default 'N'          not null,
    REPLENISHZONE1     nvarchar(10)   default 'N'          not null,
    CARTONIZEUOM1      nvarchar       default 'N'          not null,
    LENGTHUOM1         float          default 0            not null,
    WIDTHUOM1          float          default 0            not null,
    HEIGHTUOM1         float          default 0            not null,
    CUBEUOM1           float          default 0            not null,
    FilterValueUOM1    int,
    IndicatorDigitUOM1 int,
    PACKUOM2           nvarchar(10)   default ''           not null,
    INNERPACK          float          default 0            not null,
    ISWHQTY2           nvarchar       default ''           not null,
    REPLENISHUOM2      nvarchar       default 'N'          not null,
    REPLENISHZONE2     nvarchar(10)   default 'N'          not null,
    CARTONIZEUOM2      nvarchar       default 'N'          not null,
    LENGTHUOM2         float          default 0            not null,
    WIDTHUOM2          float          default 0            not null,
    HEIGHTUOM2         float          default 0            not null,
    CUBEUOM2           float          default 0            not null,
    FilterValueUOM2    int,
    IndicatorDigitUOM2 int,
    PACKUOM3           nvarchar(10)
        constraint DF_PACK_PACKUOM3 default 'EA'           not null,
    QTY                decimal(22, 5) default 0            not null,
    ISWHQTY3           nvarchar       default ''           not null,
    REPLENISHUOM3      nvarchar       default 'Y'          not null,
    REPLENISHZONE3     nvarchar(10)   default 'N'          not null,
    CARTONIZEUOM3      nvarchar       default 'N'          not null,
    LENGTHUOM3         float          default 0            not null,
    WIDTHUOM3          float          default 0            not null,
    HEIGHTUOM3         float          default 0            not null,
    CUBEUOM3           float          default 0            not null,
    FilterValueUOM3    int,
    IndicatorDigitUOM3 int,
    PACKUOM4           nvarchar(10)   default ''           not null,
    PALLET             float          default 0            not null,
    ISWHQTY4           nvarchar       default ''           not null,
    REPLENISHUOM4      nvarchar       default 'N'          not null,
    REPLENISHZONE4     nvarchar(10)   default 'N'          not null,
    CARTONIZEUOM4      nvarchar       default 'N'          not null,
    LENGTHUOM4         float          default 0            not null,
    WIDTHUOM4          float          default 0            not null,
    HEIGHTUOM4         float          default 0            not null,
    CUBEUOM4           float          default 0            not null,
    FilterValueUOM4    int,
    IndicatorDigitUOM4 int,
    PALLETWOODLENGTH   float          default 0            not null,
    PALLETWOODWIDTH    float          default 0            not null,
    PALLETWOODHEIGHT   float          default 0            not null,
    PALLETTI           decimal(22, 5) default 0            not null,
    PALLETHI           decimal(22, 5) default 0            not null,
    PACKUOM5           nvarchar(10)   default ''           not null,
    CUBE               float          default 0            not null,
    ISWHQTY5           nvarchar       default ''           not null,
    FilterValueUOM5    int,
    IndicatorDigitUOM5 int,
    PACKUOM6           nvarchar(10)   default ''           not null,
    GROSSWGT           float          default 0            not null,
    ISWHQTY6           nvarchar       default ''           not null,
    FilterValueUOM6    int,
    IndicatorDigitUOM6 int,
    PACKUOM7           nvarchar(10)   default ''           not null,
    NETWGT             float          default 0            not null,
    ISWHQTY7           nvarchar       default ''           not null,
    FilterValueUOM7    int,
    IndicatorDigitUOM7 int,
    PACKUOM8           nvarchar(10)   default '',
    OTHERUNIT1         float          default 0            not null,
    ISWHQTY8           nvarchar       default ''           not null,
    REPLENISHUOM8      nvarchar       default 'N'          not null,
    REPLENISHZONE8     nvarchar(10)   default 'N'          not null,
    CARTONIZEUOM8      nvarchar       default 'N'          not null,
    LENGTHUOM8         float          default 0            not null,
    WIDTHUOM8          float          default 0            not null,
    HEIGHTUOM8         float          default 0            not null,
    FilterValueUOM8    int,
    IndicatorDigitUOM8 int,
    PACKUOM9           nvarchar(10)   default ''           not null,
    OTHERUNIT2         float          default 0            not null,
    ISWHQTY9           nvarchar       default ''           not null,
    REPLENISHUOM9      nvarchar       default 'N'          not null,
    REPLENISHZONE9     nvarchar(10)   default 'N'          not null,
    CARTONIZEUOM9      nvarchar       default 'N'          not null,
    LENGTHUOM9         float          default 0            not null,
    WIDTHUOM9          float          default 0            not null,
    HEIGHTUOM9         float          default 0            not null,
    FilterValueUOM9    int,
    IndicatorDigitUOM9 int,
    ACCOUNTINGENTITY   nvarchar(64),
    ADDDATE            datetime       default getutcdate() not null,
    ADDWHO             nvarchar(256)  default user_name()  not null,
    EDITDATE           datetime       default getutcdate() not null,
    EDITWHO            nvarchar(256)  default user_name()  not null,
    check (isnull(rtrim([PACKUOM1]), ' ') = ' ' OR isnull(rtrim([PACKUOM4]), ' ') = ' ' OR
           rtrim([PACKUOM1]) <> rtrim([PACKUOM4])),
    check (isnull(rtrim([PACKUOM2]), ' ') = ' ' OR isnull(rtrim([PACKUOM3]), ' ') = ' ' OR
           rtrim([PACKUOM2]) <> rtrim([PACKUOM3]))
);

if not exists (select * from sysobjects where name='PUTAWAYZONE' and xtype='U')
create table wmwhse1.PUTAWAYZONE
(
    SERIALKEY              int identity
        constraint PUT_225_UNIQUE
        unique,
    WHSEID                 nvarchar(30)   default user_name(),
    PUTAWAYZONE            nvarchar(10)   default ''                       not null
        primary key,
    DESCR                  nvarchar(60)   default ''                       not null,
    INLOC                  nvarchar(10)   default ''                       not null,
    OUTLOC                 nvarchar(10)   default ''                       not null,
    UOM1PICKMETHOD         nvarchar       default '1'                      not null,
    UOM2PICKMETHOD         nvarchar       default '3'                      not null,
    UOM3PICKMETHOD         nvarchar       default '3'                      not null,
    UOM4PICKMETHOD         nvarchar       default '1'                      not null,
    UOM5PICKMETHOD         nvarchar       default '3'                      not null,
    UOM6PICKMETHOD         nvarchar       default '3'                      not null,
    CLEAN_LOCATION         nvarchar       default '0',
    TOP_OFF                nvarchar       default 'A',
    REPLENISHMENT_FLAG     nvarchar       default '0',
    REPLENISHMENT_HOTLEVEL nvarchar       default '6',
    REPLENISHMENTMETHOD    nvarchar(10)   default '0'                      not null,
    MAXCUBE                float          default 0                        not null,
    MAXWEIGHT              float          default 0                        not null,
    MAXCASECNT             decimal(22, 5) default 0                        not null,
    PICKTOLOC              nvarchar(10)   default 'PICKTO',
    MaxPalletsPerSku       int            default 0                        not null,
    POSVERMETHOD           nvarchar(10)   default 'LOC'                    not null,
    PICKCC                 nvarchar       default '0'                      not null,
    QTYCC                  decimal(22, 5) default 0                        not null,
    CREATEASSIGNMENTS      nvarchar       default '0'                      not null,
    ZONEBREAK              nvarchar       default '0'                      not null,
    MAXPICKLINES           int            default 100                      not null,
    MAXPICKINGCONTAINERS   int            default 0                        not null,
    LABORMAXCASECNT        int            default 0                        not null,
    LABORMAXCUBE           int            default 0                        not null,
    LABORMAXWEIGHT         int            default 0                        not null,
    AISLESTART             int            default 1                        not null,
    AISLEEND               int            default 1                        not null,
    SLOTSTART              int            default 1                        not null,
    SLOTEND                int            default 1                        not null,
    AUTOPRINTADDRLABEL     nvarchar       default '0'                      not null,
    AUTOPRINTCARTONCONTENT nvarchar       default '0'                      not null,
    DEFAULTLABELPRINTER    nvarchar(45),
    DEFAULTREPORTPRINTER   nvarchar(45),
    ABANDONLOC             nvarchar(10)   default 'LOST',
    IGNORESTAGELOC         nvarchar       default '0',
    BUILDCLUSTERASSN       nvarchar       default '0'                      not null,
    ASSIGNCARTONGRP        nvarchar(10),
    TRACKMOVETODOCK        nvarchar       default '1'                      not null,
    MAXLOCWGHTSHAREPCT     int            default 0                        not null,
    RFPICKSTRATEGYKEY      nvarchar(10),
    ADDDATE                datetime       default getutcdate()             not null,
    ADDWHO                 nvarchar(256)  default user_name()              not null,
    EDITDATE               datetime       default getutcdate()             not null,
    EDITWHO                nvarchar(256)  default user_name()              not null,
    TYPE                   nvarchar(50)
        constraint PUTAWAYZONE_DEFAULT_TYPE_CONSTRAINT default 'UNDEFINED' not null,
    MAXWEIGHTPICKINGORD    decimal(10, 4),
    MAXVOLUMEPICKINGORD    decimal(10, 4),
    MAXITEMSPICKINGORD     int,
    MAXASSIGNMENT          int
        constraint DF_PUTAWAYZONE_MAXASSIGNMENT default 1,
    BUILDING int
);

if not exists (select * from sysobjects where name='LOC' and xtype='U')
create table wmwhse1.LOC
(
    SERIALKEY                  int identity
        constraint LOC_136_UNIQUE
        unique,
    WHSEID                     nvarchar(30)  default user_name(),
    LOC                        nvarchar(10)  default 'UNKNOWN'    not null
        primary key
        check (NOT [LOC] = ''),
    CUBE                       float         default 0            not null,
    LENGTH                     float         default 0            not null,
    WIDTH                      float         default 0            not null,
    HEIGHT                     float         default 0            not null,
    LOCATIONTYPE               nvarchar(10)  default ''           not null,
    LOCATIONFLAG               nvarchar(10)  default 'NONE'       not null,
    LOCATIONHANDLING           nvarchar(10)  default '9'          not null,
    LOCATIONCATEGORY           nvarchar(10)  default 'OTHER'      not null,
    LOGICALLOCATION            nvarchar(18)  default ''           not null,
    CUBICCAPACITY              float         default 0            not null,
    WEIGHTCAPACITY             float         default 0            not null,
    STATUS                     nvarchar(10)  default 'OK'         not null,
    LOSEID                     nvarchar      default '0'          not null,
    FACILITY                   nvarchar(256) default ''           not null,
    SECTION                    nvarchar(10)  default 'FACILITY'   not null,
    ABC                        nvarchar      default 'B'          not null,
    PICKZONE                   nvarchar(10)  default ''           not null,
    PUTAWAYZONE                nvarchar(10)  default ''           not null
        references wmwhse1.PUTAWAYZONE,
    SECTIONKEY                 nvarchar(10)  default 'FACILITY'   not null,
    PICKMETHOD                 nvarchar      default ''           not null,
    COMMINGLESKU               nvarchar      default '1'          not null,
    COMMINGLELOT               nvarchar      default '1'          not null,
    LOCLEVEL                   int           default 0            not null,
    XCOORD                     int           default 0            not null,
    YCOORD                     int           default 0            not null,
    ZCOORD                     int           default 0            not null,
    OPTLOC                     nvarchar(10),
    StackLimit                 int           default 0            not null,
    FootPrint                  int           default 0            not null,
    ORIENTATION                int,
    INTERLEAVINGSEQUENCE       int           default 0,
    AutoShip                   int           default 0,
    CYCLECLASS                 nvarchar(10),
    LASTCCRELEASEDATE          datetime,
    LASTLOCCOUNTDATE           datetime,
    MAXDOCKASSIGNORDERS        int,
    MAXDOCKASSIGNESTPALLETS    decimal(22, 5),
    BACKFLUSHINDICATOR         nvarchar      default '0',
    PRODSTAGELOC               nvarchar(10),
    LPNSORTALLOCATION          nvarchar(10)  default '1'          not null,
    ALLOCATIONZONE             nvarchar(10)  default '1',
    ADDDATE                    datetime      default getutcdate() not null,
    ADDWHO                     nvarchar(256) default user_name()  not null,
    EDITDATE                   datetime      default getutcdate() not null,
    EDITWHO                    nvarchar(256) default user_name()  not null,
    LOCGROUPID                 int,
    COMMINGLELOTTABLE1         nvarchar      default '1'          not null,
    COMMINGLELOTTABLE2         nvarchar      default '1'          not null,
    COMMINGLELOTTABLE3         nvarchar      default '1'          not null,
    COMMINGLELOTTABLE6         nvarchar      default '1'          not null,
    COMMINGLELOTTABLE7         nvarchar      default '1'          not null,
    COMMINGLELOTTABLE8         nvarchar      default '1'          not null,
    COMMINGLELOTTABLE9         nvarchar      default '1'          not null,
    COMMINGLELOTTABLE10        nvarchar      default '1'          not null,
    CHECKDIGIT                 nvarchar(3),
    SHAREWIDTHFROMLOC          nvarchar(10),
    SHAREWEIGHTCAPACITYFROMLOC nvarchar(10),
    VGHLOC                     nvarchar(10)  default '',
    TRANSPORTERLOC             nvarchar(10)
        constraint FK_LOC_TRANSPORTERLOC
        references wmwhse1.LOC,
    CONVEYORLOC                nvarchar(20)
);

if not exists (select * from sysobjects where name='SKU' and xtype='U')
create table wmwhse1.SKU
(
    SERIALKEY                       int identity
        constraint SKU_245_UNIQUE
        unique,
    WHSEID                          nvarchar(30)   default user_name(),
    STORERKEY                       nvarchar(15)                              not null,
    SKU                             nvarchar(50)                              not null,
    SOURCEVERSION                   nvarchar(22)   default '0'                not null,
    HAZMATCODESKEY                  nvarchar(10)   default ''                 not null,
    ITEMREFERENCE                   nvarchar(8)    default ' '                not null,
    SERIALNUMBERSTART               decimal(15),
    SERIALNUMBEREND                 decimal(15),
    SERIALNUMBERNEXT                decimal(15),
    DESCR                           nvarchar(200),
    SUSR1                           nvarchar(18),
    SUSR2                           nvarchar(18),
    SUSR3                           nvarchar(18),
    SUSR4                           nvarchar(18),
    SUSR5                           nvarchar(18),
    MANUFACTURERSKU                 nvarchar(150),
    RETAILSKU                       nvarchar(50),
    ALTSKU                          nvarchar(50),
    PACKKEY                         nvarchar(50)   default 'STD'              not null
        references wmwhse1.PACK,
    STDGROSSWGT                     decimal(22, 5) default 0                  not null,
    STDNETWGT                       decimal(22, 5) default 0                  not null,
    STDCUBE                         decimal(22, 5) default 0                  not null,
    TARE                            decimal(22, 5) default 0                  not null,
    CLASS                           nvarchar(10)   default 'STD'              not null,
    ACTIVE                          nvarchar(10)   default '1'                not null,
    SKUGROUP                        nvarchar(10)   default 'STD'              not null,
    TARIFFKEY                       nvarchar(10)   default 'XXXXXXXXXX',
    BUSR1                           nvarchar(30),
    BUSR2                           nvarchar(30),
    BUSR3                           nvarchar(30),
    BUSR4                           nvarchar(30),
    BUSR5                           nvarchar(30),
    LOTTABLE01LABEL                 nvarchar(20)   default 'JULIAN	DT.'    not null,
    LOTTABLE02LABEL                 nvarchar(20)   default 'CUST.LOT'         not null,
    LOTTABLE03LABEL                 nvarchar(20)   default 'COLOR'            not null,
    LOTTABLE04LABEL                 nvarchar(20)   default 'MAN.DATE'         not null,
    LOTTABLE05LABEL                 nvarchar(20)   default 'EXP.DATE'         not null,
    LOTTABLE06LABEL                 nvarchar(20)   default ''                 not null,
    LOTTABLE07LABEL                 nvarchar(20)   default ''                 not null,
    LOTTABLE08LABEL                 nvarchar(20)   default ''                 not null,
    LOTTABLE09LABEL                 nvarchar(20)   default ''                 not null,
    LOTTABLE10LABEL                 nvarchar(20)   default ''                 not null,
    PICKCODE                        nvarchar(10)   default 'NSPFIFO'          not null,
    STRATEGYKEY                     nvarchar(10),
    CARTONGROUP                     nvarchar(10)
        constraint DF_SKU_CARTONGROUP default 'BC1'                           not null,
    PUTCODE                         nvarchar(10)   default 'NSPPASTD'         not null,
    PUTAWAYLOC                      nvarchar(10)   default 'UNKNOWN'          not null
        references wmwhse1.LOC,
    PUTAWAYZONE                     nvarchar(10)   default 'RACK'
        references wmwhse1.PUTAWAYZONE,
    INNERPACK                       decimal(22, 5) default 0                  not null,
    CUBE                            float          default 0                  not null,
    GROSSWGT                        float          default 0                  not null,
    NETWGT                          float          default 0                  not null,
    ABC                             nvarchar(5),
    CYCLECOUNTFREQUENCY             int,
    LASTCYCLECOUNT                  datetime,
    REORDERPOINT                    int,
    REORDERQTY                      decimal(22, 5),
    STDORDERCOST                    float,
    CARRYCOST                       float,
    PRICE                           decimal(19, 4),
    COST                            decimal(19, 4),
    ONRECEIPTCOPYPACKKEY            nvarchar(10)   default '0'                not null,
    RECEIPTHOLDCODE                 nvarchar(10)   default '',
    RECEIPTINSPECTIONLOC            nvarchar(10)   default 'QC'               not null,
    ROTATEBY                        nvarchar(10)   default 'Lot',
    DATECODEDAYS                    int            default 999,
    DEFAULTROTATION                 nvarchar       default '1',
    SHIPPABLECONTAINER              nvarchar(10)
        constraint DF_SKU_SHIPPABLECONTAINER default 'Y'                      not null,
    IOFLAG                          nvarchar(5),
    TAREWEIGHT                      decimal(22, 5) default 0,
    LOTXIDDETAILOTHERLABEL1         nvarchar(30)   default 'SER#',
    LOTXIDDETAILOTHERLABEL2         nvarchar(30)   default 'CSID',
    LOTXIDDETAILOTHERLABEL3         nvarchar(30)   default 'OTHER',
    AVGCASEWEIGHT                   decimal(22, 5) default 0,
    TOLERANCEPCT                    decimal(12, 6) default 0,
    SHELFLIFEINDICATOR              nvarchar(10),
    SHELFLIFE                       int            default 0,
    TRANSPORTATIONMODE              nvarchar(30),
    SKUGROUP2                       nvarchar(30),
    SUSR6                           nvarchar(30),
    SUSR7                           nvarchar(30),
    SUSR8                           nvarchar(30),
    SUSR9                           nvarchar(30),
    SUSR10                          nvarchar(30),
    BUSR6                           nvarchar(30),
    BUSR7                           nvarchar(30),
    BUSR8                           nvarchar(30),
    BUSR9                           nvarchar(30),
    BUSR10                          nvarchar(30),
    MINIMUMSHELFLIFEONRFPICKING     decimal(10)    default 0                  not null,
    FREIGHTCLASS                    nvarchar(10),
    ICWFLAG                         nvarchar       default '0',
    ICWBY                           nvarchar       default '0',
    IDEWEIGHT                       nvarchar       default '0',
    ICDFLAG                         nvarchar
        constraint DF_SKU_ICDFLAG default '1',
    ICDLABEL1                       nvarchar(5)
        constraint DF_SKU_ICDLABEL1 default 'UN',
    ICDLABEL2                       nvarchar(5)    default '',
    ICDLABEL3                       nvarchar(5)    default '',
    OCWFLAG                         nvarchar       default '0',
    OCWBY                           nvarchar       default '0',
    ODEWEIGHT                       nvarchar       default '1',
    OACOVERRIDE                     nvarchar       default '0',
    OCDFLAG                         nvarchar
        constraint DF_SKU_OCDFLAG default '1',
    OCDLABEL1                       nvarchar(5)
        constraint DF_SKU_OCDLABEL1 default 'UN',
    OCDLABEL2                       nvarchar(5)    default '',
    OCDLABEL3                       nvarchar(5)    default '',
    OTAREWEIGHT                     decimal(22, 5) default 0,
    OAVGCASEWEIGHT                  decimal(22, 5) default 0,
    OTOLERANCEPCT                   decimal(12, 6) default 0,
    RFDEFAULTPACK                   nvarchar(50)   default 'STD',
    RFDEFAULTUOM                    nvarchar(10)   default 'EA',
    SHELFLIFECODETYPE               nvarchar       default 'E'                not null,
    SHELFLIFEONRECEIVING            int            default 0                  not null,
    LOTTABLEVALIDATIONKEY           nvarchar(10)   default 'STD'              not null,
    ALLOWCONSOLIDATION              nvarchar       default '0',
    MINIMUMWAVEQTY                  decimal(22, 5),
    BULKCARTONGROUP                 nvarchar(10)
        constraint DF_SKU_BULKCARTONGROUP default 'BC1',
    PICKUOM                         nvarchar(2)    default '1'                not null,
    EACHKEY                         nvarchar(10)   default ' ',
    CASEKEY                         nvarchar(10)   default ' ',
    TYPE                            nvarchar(32),
    EFFECSTARTDATE                  datetime,
    EFFECENDDATE                    datetime,
    CONVEYABLE                      nvarchar       default 'N',
    FLOWTHRUITEM                    nvarchar       default 'N',
    NOTES1                          nvarchar(2000),
    NOTES2                          nvarchar(2000),
    VERT_STORAGE                    nvarchar       default '0',
    CWFLAG                          nvarchar(10),
    VERIFYLOT04LOT05                nvarchar       default '0',
    PUTAWAYSTRATEGYKEY              nvarchar(10),
    RETURNSLOC                      nvarchar(10)   default 'RETURN'           not null,
    QCLOC                           nvarchar(10)   default 'QC'               not null,
    RECEIPTVALIDATIONTEMPLATE       nvarchar(18)   default 'STD'              not null,
    SKUTYPE                         nvarchar       default '0'                not null,
    StackLimit                      int            default 0                  not null,
    MaxPalletsPerZone               int            default 0                  not null,
    CCDISCREPANCYRULE               nvarchar(10)   default 'STD'              not null,
    MANUALSETUPREQUIRED             nvarchar
        constraint DF_SKU_MANUALSETUPREQUIRED default '1'                     not null,
    QCLOCOUT                        nvarchar(10),
    OCDCATCHWHEN                    nvarchar(10)   default 'PICK',
    OCDCATCHQTY1                    nvarchar(10)
        constraint DF_SKU_OCDCATCHQTY1 default '1',
    OCDCATCHQTY2                    nvarchar(10)   default 'ANY',
    OCDCATCHQTY3                    nvarchar(10)   default 'ANY',
    HASIMAGE                        nvarchar,
    GUID                            nvarchar(32),
    NONSTOCKEDINDICATOR             nvarchar       default '0',
    LOTTABLE11LABEL                 nvarchar(20)   default 'Delivery By Date' not null,
    LOTTABLE12LABEL                 nvarchar(20)   default 'Best By Date'     not null,
    TOEXPIREDAYS                    int            default 0,
    TODELIVERBYDAYS                 int            default 0,
    TOBESTBYDAYS                    int            default 0,
    SNUM_POSITION                   int            default 1,
    SNUM_LENGTH                     int,
    SNUM_DELIMITER                  nvarchar,
    SNUM_DELIM_COUNT                int            default 0,
    SNUM_QUANTITY                   int            default 1,
    SNUM_INCR_POS                   int            default 0,
    SNUM_INCR_LENGTH                int,
    SNUM_ENDTOEND                   int
        constraint DF_SKU_SNUM_ENDTOEND default '1',
    SNUM_MASK                       nvarchar(50),
    ICDLABEL4                       nvarchar(5),
    ICDLABEL5                       nvarchar(5),
    OCDLABEL4                       nvarchar(5),
    OCDLABEL5                       nvarchar(5),
    ICD1UNIQUE                      nvarchar,
    OCD1UNIQUE                      nvarchar,
    SNUMLONG_DELIMITER              nvarchar(5),
    SNUMLONG_FIXED                  int            default 0,
    SNUM_AUTOINCREMENT              int            default 0,
    ACCOUNTINGENTITY                nvarchar(64),
    VOICEGROUPINGID                 nvarchar       default '0'                not null,
    COUNTSEQUENCE                   int            default 1                  not null,
    DAPICKSORT                      nvarchar       default '1',
    RPLNSORT                        nvarchar       default '1',
    CATCHGROSSWGT                   int            default 0                  not null,
    CATCHNETWGT                     int            default 0                  not null,
    CATCHTAREWGT                    int            default 0                  not null,
    TAREWGT1                        float          default 0                  not null,
    STDNETWGT1                      float          default 0                  not null,
    STDGROSSWGT1                    float          default 0                  not null,
    STDUOM                          nvarchar(10),
    ZERODEFAULTWGTFORPICK           int            default 0                  not null,
    FILLQTYUOM                      nvarchar(2)    default ' ',
    CARTONIZEFT                     nvarchar       default '0'                not null,
    RECURCODE                       nvarchar(10),
    WGTUOM                          nvarchar(20),
    DIMENUOM                        nvarchar(20),
    CUBEUOM                         nvarchar(20),
    STORAGETYPE                     nvarchar(20),
    NMFCCLASS                       nvarchar(40),
    MATEABILITYCODE                 nvarchar(64),
    LOTHOLDCODE                     nvarchar(10),
    AUTORELEASELOTBY                nvarchar(10)   default '01',
    HOURSTOHOLDLOT                  decimal(10, 2) default 0,
    AUTORELEASELPNBY                nvarchar(10)   default '01',
    HOURSTOHOLDLPN                  decimal(10, 2) default 0,
    AMSTRATEGYKEY                   nvarchar(10),
    TEMPFORASN                      nvarchar       default 'N'                not null,
    IBSUMCWFLG                      nvarchar       default '0',
    OBSUMCWFLG                      nvarchar       default '0',
    SHOWRFCWONTRANS                 nvarchar       default '0',
    PUTAWAYCLASS                    nvarchar(10)
        constraint DF_SKU_PUTAWAYCLASS default 'ALL'                          not null,
    GROUPFTEACH                     nvarchar       default '1',
    TRANSPORTATIONSERVICE           nvarchar(10),
    SKUFACILITYGROUP                nvarchar(10),
    LOTCTRLATPACK                   nvarchar       default '0',
    LASTCCRELEASEDATE               datetime,
    DEFAULTEQUIPMENTATTRIBUTE       nvarchar(10),
    DEFAULTEQUIPMENTTYPE            nvarchar(10),
    DEFAULTEQUIPMENTLENGTH          nvarchar(10),
    BARCODECONFIGKEY                nvarchar(18),
    AUTOASSIGNCONSLOC               nvarchar       default '0',
    CONSPICKLOCMIN                  decimal(22, 5) default 0                  not null,
    CONSPICKLOCMAX                  decimal(22, 5) default 0                  not null,
    CONSPICKMINMAXUOM               nvarchar(10),
    CONSPICKREPLENUOM               nvarchar(10),
    ROUNDBACKFLUSHQTY               nvarchar       default '1',
    ITEMCHARACTERISTIC1             nvarchar(25),
    ITEMCHARACTERISTIC2             nvarchar(25),
    COMMODITYCLASS                  nvarchar(25),
    STOCKCATEGORY                   nvarchar(25),
    COUNTRYOFORIGIN                 nvarchar(25),
    COLLECTION                      nvarchar(25),
    THEME                           nvarchar(25),
    SEASON                          nvarchar(25),
    STYLE                           nvarchar(25),
    COLOR                           nvarchar(25),
    SKUSIZE                         nvarchar(25),
    CAMPAIGNSTART                   nvarchar(25),
    CAMPAIGNEND                     nvarchar(25),
    ALLOWMULTILOTLPN                nvarchar
        constraint DF_SKU_ALLOWMULTILOTLPN default '1'                        not null,
    RECEIPTUNITLABELNAME            nvarchar(20),
    RECEIPTUNITLABELUOM             nvarchar(10),
    QCFIRSTCOMPL                    nvarchar       default '0'                not null,
    NEWALLOCATIONSTRATEGY           nvarchar(10),
    SLOTGROUP                       nvarchar(15),
    PICKCONTPLACEMENT               nvarchar(10)   default '5'                not null,
    FORCEUOMREPLENQTY               nvarchar       default '0'                not null,
    DATACAPTURESTRATEGYKEY          nvarchar(10),
    SERIALPARCINGSTRATEGYKEY        nvarchar(10),
    ICWVALIDATIONUOMLEVEL           nvarchar(10),
    OCWVALIDATIONUOMLEVEL           nvarchar(10),
    ICWAVGGROSSWEIGHT               decimal(22, 5),
    ICWAVGNETWEIGHT                 decimal(22, 5),
    ICWAVGTAREWEIGHT                decimal(22, 5),
    ICWTOLERANCEPCT                 decimal(12, 6),
    OCWAVGGROSSWEIGHT               decimal(22, 5),
    OCWAVGNETWEIGHT                 decimal(22, 5),
    OCWAVGTAREWEIGHT                decimal(22, 5),
    OCWTOLERANCEPCT                 decimal(12, 6),
    STDWEIGHTUOMLEVEL               nvarchar(10),
    STDGROSSWEIGHT                  decimal(22, 5),
    STDNETWEIGHT                    decimal(22, 5),
    STDTAREWEIGHT                   decimal(22, 5),
    ADDDATE                         datetime       default getutcdate()       not null,
    ADDWHO                          nvarchar(256)  default user_name()        not null,
    EDITDATE                        datetime       default getutcdate()       not null,
    EDITWHO                         nvarchar(256)  default user_name()        not null,
    SHELFLIFE_PERCENTAGE            int,
    SHELFLIFEONRECEIVING_PERCENTAGE int,
    SHELFLIFE_EDITDATE              datetime       default getutcdate()       not null,
    NEEDMEASUREMENT                 int            default 0                  not null,
    BOXCAPACITY                     int,
    EXPIRATIONDATEONLY              numeric(1),
    ALLOWSURPLUS                    bit
        constraint DF_SKU_ALLOWSURPLUS default 0,
    ALLOW_BOX_RECEIVING             bit            default 0                  not null,
    primary key (SKU, STORERKEY)
);

if not exists (select * from sysobjects where name='ORDERS' and xtype='U')
create table wmwhse1.ORDERS
(
    SERIALKEY                      int identity
        constraint UNIQ_ORDERS_SERIAL
        unique
        with (fillfactor = 90),
    WHSEID                         nvarchar(30)   default user_name(),
    ORDERKEY                       nvarchar(10)                        not null
        constraint PK_ORDERS_ORDERKEY
        primary key nonclustered
        with (fillfactor = 90),
    STORERKEY                      nvarchar(15)   default ''           not null,
    EXTERNORDERKEY                 nvarchar(32)   default ''           not null,
    ORDERDATE                      datetime       default getutcdate() not null,
    DELIVERYDATE                   datetime,
    PRIORITY                       nvarchar(10)   default '5'          not null,
    CONSIGNEEKEY                   nvarchar(15)   default ''           not null,
    C_CONTACT1                     nvarchar(30),
    C_CONTACT2                     nvarchar(30),
    C_COMPANY                      nvarchar(45),
    C_ADDRESS1                     nvarchar(45),
    C_ADDRESS2                     nvarchar(45),
    C_ADDRESS3                     nvarchar(45),
    C_ADDRESS4                     nvarchar(45),
    C_CITY                         nvarchar(100),
    C_STATE                        nvarchar(100),
    C_ZIP                          nvarchar(18),
    C_COUNTRY                      nvarchar(30),
    C_ISOCNTRYCODE                 nvarchar(10),
    C_PHONE1                       nvarchar(18),
    C_PHONE2                       nvarchar(18),
    C_FAX1                         nvarchar(18),
    C_FAX2                         nvarchar(18),
    C_VAT                          nvarchar(18),
    BUYERPO                        nvarchar(50),
    BILLTOKEY                      nvarchar(15)   default ''           not null,
    B_CONTACT1                     nvarchar(30),
    B_CONTACT2                     nvarchar(30),
    B_COMPANY                      nvarchar(45),
    B_ADDRESS1                     nvarchar(45),
    B_ADDRESS2                     nvarchar(45),
    B_ADDRESS3                     nvarchar(45),
    B_ADDRESS4                     nvarchar(45),
    B_CITY                         nvarchar(45),
    B_STATE                        nvarchar(25),
    B_ZIP                          nvarchar(18),
    B_COUNTRY                      nvarchar(30),
    B_ISOCNTRYCODE                 nvarchar(10),
    B_PHONE1                       nvarchar(18),
    B_PHONE2                       nvarchar(18),
    B_FAX1                         nvarchar(18),
    B_FAX2                         nvarchar(18),
    B_VAT                          nvarchar(18),
    INCOTERM                       nvarchar(10),
    PMTTERM                        nvarchar(10),
    DOOR                           nvarchar(10)   default ''           not null,
    SORTATIONLOCATION              nvarchar(18),
    BATCHFLAG                      nvarchar       default '0'          not null,
    BULKCARTONGROUP                nvarchar(10),
    ROUTE                          nvarchar(10)   default ''           not null,
    STOP                           int,
    OPENQTY                        decimal(22, 5) default 0,
    STATUS                         nvarchar(10)   default '02'         not null,
    DISCHARGEPLACE                 nvarchar(30),
    DELIVERYPLACE                  nvarchar(30),
    INTERMODALVEHICLE              nvarchar(30)   default ''           not null,
    COUNTRYOFORIGIN                nvarchar(30),
    COUNTRYDESTINATION             nvarchar(30),
    UPDATESOURCE                   nvarchar(10)   default '0'          not null,
    TYPE                           nvarchar(10)   default '0'          not null,
    ORDERGROUP                     nvarchar(20)   default ''           not null,
    EFFECTIVEDATE                  datetime,
    STAGE                          nvarchar(10)   default '',
    DC_ID                          nvarchar(10)   default '',
    WHSE_ID                        nvarchar(10)   default '',
    SPLIT_ORDERS                   nvarchar       default '0',
    APPT_STATUS                    nvarchar(10),
    CHEPPALLETINDICATOR            nvarchar(10),
    CONTAINERTYPE                  nvarchar(20),
    CONTAINERQTY                   decimal(22, 5),
    BILLEDCONTAINERQTY             decimal(22, 5),
    TRANSPORTATIONMODE             nvarchar(30),
    TRANSPORTATIONSERVICE          nvarchar(30),
    EXTERNALORDERKEY2              nvarchar(32),
    C_EMAIL1                       nvarchar(55),
    C_EMAIL2                       nvarchar(55),
    SUSR1                          nvarchar(30),
    SUSR2                          nvarchar(30),
    SUSR3                          nvarchar(30),
    SUSR4                          nvarchar(30),
    SUSR5                          nvarchar(30),
    NOTES2                         nvarchar(2000),
    ITEM_NUMBER                    decimal(28)    default 0,
    FORTE_FLAG                     nvarchar(6)    default 'I'          not null,
    LOADID                         nvarchar(20),
    SHIPTOGETHER                   nvarchar       default 'N'          not null,
    DELIVERYDATE2                  datetime,
    REQUESTEDSHIPDATE              datetime,
    ACTUALSHIPDATE                 datetime,
    DELIVER_DATE                   datetime,
    ORDERVALUE                     decimal(10, 2) default 0            not null,
    OHTYPE                         nvarchar(10)   default '1',
    EXTERNALLOADID                 nvarchar(20)   default '',
    DESTINATIONNESTID              int,
    REFERENCENUM                   nvarchar(30),
    INTRANSITKEY                   nvarchar(10),
    RECEIPTKEY                     nvarchar(10),
    CaseLabelType                  nvarchar(10),
    LABELNAME                      nvarchar(20),
    STDSSCCLABELNAME               nvarchar(20),
    STDGTINLABELNAME               nvarchar(20),
    RFIDSSCCLABELNAME              nvarchar(20),
    RFIDGTINLABELNAME              nvarchar(20),
    RFIDFLAG                       nvarchar       default '0'          not null,
    CarrierCode                    nvarchar(15),
    CarrierName                    nvarchar(45),
    CarrierAddress1                nvarchar(45),
    CarrierAddress2                nvarchar(45),
    CarrierCity                    nvarchar(45),
    CarrierState                   nvarchar(25),
    CarrierZip                     nvarchar(18),
    CarrierCountry                 nvarchar(30),
    CarrierPhone                   nvarchar(18),
    DriverName                     nvarchar(25),
    TrailerNumber                  nvarchar(20),
    TrailerOwner                   nvarchar(25),
    TrailerType                    nvarchar(10),
    DepDateTime                    datetime,
    ORDERBREAK                     nvarchar,
    ALLOCATEDONERP                 nvarchar       default '0'          not null,
    TRADINGPARTNER                 nvarchar(30),
    PRONUMBER                      nvarchar(32),
    ENABLEPACKING                  nvarchar       default '0',
    PACKINGLOCATION                nvarchar(10),
    ORDERSID                       nvarchar(32),
    SUSPENDEDINDICATOR             nvarchar       default '0',
    PICKLISTREPORTID               nvarchar(8),
    PACKINGLISTREPORTID            nvarchar(8),
    SOURCEVERSION                  nvarchar(22),
    REFERENCETYPE                  nvarchar(64),
    REFERENCEDOCUMENT              nvarchar(64),
    REFERENCELOCATION              nvarchar(64),
    REFERENCEVERSION               nvarchar(20),
    FREIGHTCHARGEAMOUNT            decimal(22, 5),
    FREIGHTCOSTAMOUNT              decimal(22, 5),
    APPOINTMENTKEY                 nvarchar(10),
    AllowOverPick                  int            default 0,
    TOTALQTY                       decimal(22, 5) default 0,
    TOTALGROSSWGT                  decimal(22, 5) default 0,
    TOTALCUBE                      decimal(22, 5) default 0,
    TOTALORDERLINES                int            default 0,
    ReferenceAccountingEntity      nvarchar(64),
    POKEY                          nvarchar(50),
    APPORTION                      nvarchar       default '0'          not null,
    CONTAINERID                    nvarchar(18),
    PROMISEDSHIPDATE               datetime,
    PLANNEDSHIPDATE                datetime,
    SCHEDULEDSHIPDATE              datetime,
    SHIPMENTDATETIME               datetime,
    PROMISEDDELVDATE               datetime,
    PLANNEDDELVDATE                datetime,
    SCHEDULEDDELVDATE              datetime,
    ACTUALDELVDATE                 datetime,
    EARLIESTSHIPDATE               datetime,
    EARLIESTDELIVERYDATE           datetime,
    CARRIERROUTEDOCUMENT           nvarchar(64),
    CARRIERROUTEACCOUNTINGENTITY   nvarchar(64),
    CARRIERROUTELOCATION           nvarchar(64),
    CARRIERROUTEVERSION            nvarchar(20),
    TMHOUSEAIRWAYBILLNUMBER        nvarchar(64),
    TMMASTERAIRWAYBILLNUMBER       nvarchar(64),
    TMBOOKINGNUMBER                nvarchar(64),
    TMHOUSEOCEANBOLNUMBER          nvarchar(64),
    TMMASTEROCEANBOLNUMBER         nvarchar(64),
    TMEQUIPMENTNUMBER              nvarchar(64),
    TMSEALNUMBER                   nvarchar(64),
    TMLICENSEPLATENUMBER           nvarchar(64),
    TMEQUIPMENTTYPE                nvarchar(30),
    TMEQUIPMENTLENGTH              nvarchar(10),
    TMEQUIPMENTATTRIBUTE           nvarchar(64),
    TMAIRSERVICELEVEL              nvarchar(30),
    TMOCEANSERVICELEVEL            nvarchar(30),
    TMOCEANTARIFFSERVICE           nvarchar(30),
    TMPORTOFLOADING                nvarchar(64),
    TMPORTOFDISCHARGE              nvarchar(64),
    TMROUTEDVIA                    nvarchar(64),
    TMSERVICEATTRIBUTE             nvarchar(64),
    TMFREIGHTCOSTCURRENCY          nvarchar(3),
    TMFREIGHTCHARGECURRENCY        nvarchar(3),
    ACTUALARRIVALDATE              datetime,
    C_ADDRESS5                     nvarchar(45),
    C_ADDRESS6                     nvarchar(45),
    B_ADDRESS5                     nvarchar(45),
    B_ADDRESS6                     nvarchar(45),
    RETURNTOPARTY                  nvarchar(64),
    TRAILERKEY                     nvarchar(20),
    CARRIERROUTESTATUS             nvarchar(10)   default 'NEW',
    SPLITSHIPMENTINDICATOR         nvarchar       default '0'          not null,
    SPLITSHIPMENTORIGINALORDERKEY  nvarchar(32),
    SPLITSHIPMENTFINALSHIPMENT     nvarchar,
    BODAPPLICATIONAREA             nvarchar(max),
    FREIGHTCOSTBASEAMOUNT          decimal(22, 5),
    FREIGHTCHARGEBASEAMOUNT        decimal(22, 5),
    PACKINGVALTEMPLATE             nvarchar(10),
    PACKNOTES                      nvarchar(255),
    TOTALROUTES                    decimal(22, 5),
    AUTODOORASSIGNED               nvarchar(10),
    AUTOSTAGEASSIGNED              nvarchar(10),
    AUTOPACKASSIGNED               nvarchar(10),
    AUTODOCKASSIGNEDHOW            nvarchar(10),
    AUTODOCKASSIGNEDSET            nvarchar(20),
    AUTODOCKASSIGNEDSTEP           int,
    AUTODOCKASSIGNTIME             datetime,
    TOTALPALLETESTIMATE            int,
    REQUIREORDERCLOSE              nvarchar       default '0',
    NOTES                          nvarchar(2000),
    SPSAPISTRATEGYKEY              nvarchar(10),
    BOLNUMBER                      nvarchar(20),
    BOLPRINTED                     nvarchar       default '0'          not null,
    SHIPTOGROUP                    nvarchar(10),
    BATCHORDERNUMBER               nvarchar(10),
    HOSTPROCESSREQUIRED            nvarchar       default '0'          not null,
    ADDDATE                        datetime       default getutcdate() not null,
    ADDWHO                         nvarchar(256)  default user_name()  not null,
    EDITDATE                       datetime       default getutcdate() not null,
    EDITWHO                        nvarchar(256)  default user_name()  not null,
    MAX_ABSENT_ITEMS_PRICE_PERCENT numeric(4, 2),
    ROWVERSION                     int            default 0,
    BUILDING                       int,
    ORIGINORDERKEY                 nvarchar(max),
    ORDER_FLOW_ID                  int,
    EXTERNALRECEIPTKEY             nvarchar(50)
);

if not exists (select * from sysobjects where name='ORDERDETAIL' and xtype='U')
create table wmwhse1.ORDERDETAIL
(
    SERIALKEY                     int identity
        constraint UNIQ_ORDERDETAIL_SERIAL
        unique
        with (fillfactor = 90),
    WHSEID                        nvarchar(30)   default user_name(),
    ORDERKEY                      nvarchar(10)                        not null
        constraint FK_ORDERDETAIL_ORDERS
        references wmwhse1.ORDERS,
    ORDERLINENUMBER               nvarchar(5)                         not null,
    ORDERDETAILSYSID              int,
    EXTERNORDERKEY                nvarchar(32)   default ''           not null,
    EXTERNLINENO                  nvarchar(20)   default ''           not null,
    SKU                           nvarchar(50)   default ''           not null,
    STORERKEY                     nvarchar(15)   default ''           not null,
    MANUFACTURERSKU               nvarchar(150)  default '',
    RETAILSKU                     nvarchar(50)   default ''           not null,
    ALTSKU                        nvarchar(50)   default ''           not null,
    ORIGINALQTY                   decimal(22, 5) default 0            not null,
    OPENQTY                       decimal(22, 5) default 0            not null,
    SHIPPEDQTY                    decimal(22, 5) default 0            not null,
    ADJUSTEDQTY                   decimal(22, 5) default 0            not null,
    QTYPREALLOCATED               decimal(22, 5) default 0            not null
        check ([QTYPREALLOCATED] >= 0),
    QTYALLOCATED                  decimal(22, 5) default 0            not null,
    QTYPICKED                     decimal(22, 5) default 0            not null,
    UOM                           nvarchar(10)   default ''           not null,
    PACKKEY                       nvarchar(50)   default 'STD'        not null,
    PICKCODE                      nvarchar(10)   default ''           not null,
    CARTONGROUP                   nvarchar(10)   default ''           not null,
    LOT                           nvarchar(10)   default ''           not null,
    ID                            nvarchar(50)   default ''           not null,
    FACILITY                      nvarchar(20)   default ''           not null,
    STATUS                        nvarchar(10)   default '02'         not null,
    UNITPRICE                     float          default 0            not null,
    TAX01                         float          default 0            not null,
    TAX02                         float          default 0            not null,
    EXTENDEDPRICE                 float          default 0            not null,
    UPDATESOURCE                  nvarchar(10)   default '0'          not null,
    LOTTABLE01                    nvarchar(50)   default ''           not null,
    LOTTABLE02                    nvarchar(50)   default ''           not null,
    LOTTABLE03                    nvarchar(50)   default ''           not null,
    LOTTABLE04                    datetime,
    LOTTABLE05                    datetime,
    LOTTABLE06                    nvarchar(50)   default ''           not null,
    LOTTABLE07                    nvarchar(50)   default ''           not null,
    LOTTABLE08                    nvarchar(50)   default ''           not null,
    LOTTABLE09                    nvarchar(50)   default ''           not null,
    LOTTABLE10                    nvarchar(50)   default ''           not null,
    EFFECTIVEDATE                 datetime,
    FORTE_FLAG                    nvarchar(6)    default 'I'          not null,
    TARIFFKEY                     nvarchar(10),
    SUSR1                         nvarchar(30),
    SUSR2                         nvarchar(30),
    SUSR3                         nvarchar(30),
    SUSR4                         nvarchar(30),
    SUSR5                         nvarchar(30),
    NOTES                         nvarchar(2000),
    WORKORDERKEY                  nvarchar(10)   default '',
    ALLOCATESTRATEGYKEY           nvarchar(10),
    PREALLOCATESTRATEGYKEY        nvarchar(10),
    ALLOCATESTRATEGYTYPE          nvarchar(10),
    SKUROTATION                   nvarchar(10)   default 'Lot',
    SHELFLIFE                     int            default 0,
    ROTATION                      nvarchar       default '1',
    PALLET_ID                     nvarchar(50)   default '',
    SUB_FLAG                      nvarchar       default '',
    PRODUCT_WEIGHT                float          default 0            not null,
    PRODUCT_CUBE                  float          default 0            not null,
    ORIGCASEQTY                   decimal(22, 5) default 0            not null,
    ORIGPALLETQTY                 decimal(22, 5) default 0            not null,
    OKTOSUBSTITUTE                int            default 0            not null,
    ISSUBSTITUTE                  int            default 0            not null,
    ORIGINALSKU                   nvarchar(50),
    ORIGINALLINENUMBER            nvarchar(5),
    SHIPGROUP01                   nvarchar       default 'N'          not null,
    SHIPGROUP02                   nvarchar       default 'N'          not null,
    SHIPGROUP03                   nvarchar       default 'N'          not null,
    ACTUALSHIPDATE                datetime,
    INTERMODALVEHICLE             nvarchar(10),
    PICKINGINSTRUCTIONS           nvarchar(255),
    CARTONBREAK                   nvarchar(10)   default '',
    CARTONQTYBREAK                int,
    QTYINTRANSIT                  decimal(22, 5) default 0            not null,
    OPPREQUEST                    nvarchar       default 0,
    WPRELEASED                    nvarchar       default '0'          not null,
    EXTERNALLOT                   nvarchar(100),
    BUYERPO                       nvarchar(50),
    GenerateContainerDetail       nvarchar       default '0'          not null,
    LABELNAME                     nvarchar(20),
    STDSSCCLABELNAME              nvarchar(20),
    STDGTINLABELNAME              nvarchar(20),
    RFIDSSCCLABELNAME             nvarchar(20),
    RFIDGTINLABELNAME             nvarchar(20),
    EXTERNALLOCSEQUENCE           nvarchar(20),
    MINSHIPPERCENT                int            default '0'          not null,
    LINETYPE                      nvarchar,
    COMPONENTQTY                  decimal(22, 5),
    COMPONENTREFERENCE            nvarchar(50),
    OQCREQUIRED                   nvarchar       default '0'          not null,
    OQCAUTOADJUST                 nvarchar       default '0'          not null,
    ORDERDETAILID                 nvarchar(32),
    LOTTABLE11                    datetime,
    LOTTABLE12                    datetime,
    SOURCEVERSION                 nvarchar(22),
    REFERENCETYPE                 nvarchar(64),
    REFERENCEDOCUMENT             nvarchar(64),
    REFERENCELOCATION             nvarchar(64),
    REFERENCEVERSION              nvarchar(20),
    REFERENCELINE                 nvarchar(20),
    CUBICMETER                    decimal(22, 5) default 0,
    HUNDREDWEIGHT                 decimal(22, 5) default 0,
    StageLoc                      nvarchar(20),
    FULFILLQTY                    decimal(22, 5) default 0            not null,
    DAPICKSORT                    nvarchar       default '1',
    SHORTSHIPREASON               nvarchar(10),
    ORIGLAYERQTY                  decimal(22, 5) default 0            not null,
    ReferenceAccountingEntity     nvarchar(64),
    ReferenceScheduleLine         nvarchar(20),
    BASEORDERKEY                  nvarchar(10),
    CONVERTEDQTY                  decimal(22, 5),
    PROCESSEDQTY                  decimal(22, 5),
    QTYTOPROCESS                  decimal(22, 5),
    SEQUENCE                      decimal,
    REQUISITIONDOCUMENT           nvarchar(64),
    REQUISITIONACCOUNTINGENTITY   nvarchar(64),
    REQUISITIONLOCATION           nvarchar(64),
    REQUISITIONVERSION            nvarchar(20),
    REQUISITIONLINE               nvarchar(20),
    REQUISITIONSCHEDULELINE       nvarchar(20),
    PURCHASEORDERDOCUMENT         nvarchar(64),
    PURCHASEORDERACCOUNTINGENTITY nvarchar(64),
    PURCHASEORDERLOCATION         nvarchar(64),
    PURCHASEORDERVERSION          nvarchar(20),
    PURCHASEORDERLINE             nvarchar(20),
    PURCHASEORDERSCHEDULELINE     nvarchar(20),
    SALESORDERDOCUMENT            nvarchar(64),
    SALESORDERACCOUNTINGENTITY    nvarchar(64),
    SALESORDERLOCATION            nvarchar(64),
    SALESORDERVERSION             nvarchar(20),
    SALESORDERLINE                nvarchar(20),
    SALESORDERSCHEDULELINE        nvarchar(20),
    IDREQUIRED                    nvarchar(18),
    KITORDERASN                   nvarchar(10),
    PALLETESTIMATE                decimal(22, 5),
    BACKFLUSHINDICATOR            nvarchar       default '0',
    ALLOCLOTLIMIT                 nvarchar,
    LASTSHIPPEDDATE               datetime,
    LABELSPRINTED                 nvarchar       default '0'          not null,
    NEWALLOCATIONSTRATEGY         nvarchar(10),
    ITEMCLASS                     nvarchar(10),
    RUNINQTY                      decimal(22, 5) default 0,
    RUNOUTQTY                     decimal(22, 5) default 0,
    FGQTYRECEIVED                 decimal(22, 5) default 0,
    RUNINUOM                      nvarchar(10)   default '',
    RUNOUTUOM                     nvarchar(10)   default '',
    EXTERNALSHIPREQUESTQTY        decimal(22, 5),
    BATCHORDERNUMBER              nvarchar(10),
    BATCHORDERLINE                nvarchar(5),
    ORIGORDERNUMBER               nvarchar(10),
    ORIGORDERLINE                 nvarchar(5),
    ADDDATE                       datetime       default getutcdate() not null,
    ADDWHO                        nvarchar(256)  default user_name()  not null,
    EDITDATE                      datetime       default getutcdate() not null,
    EDITWHO                       nvarchar(256)  default user_name()  not null,
    ISMASTER                      int
        constraint DC_OD_ISMASTER default 0                           not null,
    REMOVABLE_IF_ABSENT           int,
    UNIT_OPERATION_TYPE           nvarchar(2)
        constraint DF_ORDERDETAIL_UNIT_OPERATION_TYPE default '0',
    ORDER_FLOW_ID                 int,
    constraint PK_ORDERDETAIL_ORDERKEY
        primary key nonclustered (ORDERKEY, ORDERLINENUMBER)
            with (fillfactor = 90),
    foreign key (SKU, STORERKEY) references wmwhse1.SKU,
    check ([QTYALLOCATED] >= 0 AND [QTYALLOCATED] <= [OPENQTY]),
    check ([QTYPICKED] >= 0 AND [QTYPICKED] <= [OPENQTY]),
    check (([QTYPREALLOCATED] + [QTYPICKED] + [QTYALLOCATED]) <= [OPENQTY])
);

if not exists (select * from sysobjects where name='LOTATTRIBUTE' and xtype='U')
create table wmwhse1.LOTATTRIBUTE
(
    SERIALKEY   int identity,
    WHSEID      nvarchar(30)  default user_name(),
    STORERKEY   nvarchar(15)                       not null,
    SKU         nvarchar(50)                       not null,
    LOT         nvarchar(10)                       not null,
    LOTTABLE01  nvarchar(50)  default ''           not null,
    LOTTABLE02  nvarchar(50)  default ''           not null,
    LOTTABLE03  nvarchar(50)  default ''           not null,
    LOTTABLE04  datetime,
    LOTTABLE05  datetime,
    LOTTABLE06  nvarchar(50)  default ''           not null,
    LOTTABLE07  nvarchar(50)  default ''           not null,
    LOTTABLE08  nvarchar(50)  default ''           not null,
    LOTTABLE09  nvarchar(50)  default ''           not null,
    LOTTABLE10  nvarchar(50)  default ''           not null,
    EXTERNALLOT nvarchar(100),
    LOTTABLE11  datetime,
    LOTTABLE12  datetime,
    ADDDATE     datetime      default getutcdate() not null,
    ADDWHO      nvarchar(256) default user_name()  not null,
    EDITDATE    datetime      default getutcdate() not null,
    EDITWHO     nvarchar(256) default user_name()  not null,
    foreign key (SKU, STORERKEY) references wmwhse1.SKU
);

if not exists (select * from sysobjects where name='ORDER_FLOW_TYPE' and xtype='U')
create table wmwhse1.ORDER_FLOW_TYPE
(
    SERIALKEY    int primary key,
    mini_batch   numeric(1) default 0,
    item_sorter  numeric(1) default 0,
    non_customer numeric(1) default 0,
    non_sortable numeric(1) default 0,
    is_fashion numeric(1) default 0,
    is_hobbit numeric(1) default 0,
    unique (mini_batch, item_sorter, non_customer, non_sortable, is_fashion, is_hobbit)
);

if not exists (select * from sysobjects where name='LOTXIDDETAIL' and xtype='U')
create table wmwhse1.LOTXIDDETAIL
(
    SERIALKEY        int identity
        constraint PK_LOTXIDDETAIL_SERIALKEY
        primary key,
    WHSEID           nvarchar(30)   default user_name(),
    LOTXIDKEY        nvarchar(10)                        not null,
    LOTXIDLINENUMBER nvarchar(5)                         not null,
    WGT              decimal(12, 6) default 0            not null,
    IOTHER1          nvarchar(30)   default '',
    IOTHER2          nvarchar(30)   default '',
    IOTHER3          nvarchar(30)   default '',
    OOTHER1          nvarchar(30)   default '',
    OOTHER2          nvarchar(30)   default '',
    OOTHER3          nvarchar(30)   default '',
    SKU              nvarchar(50)   default '',
    ETWEIGHT         decimal(12, 6) default 0            not null,
    IOFLAG           nvarchar       default '',
    LOT              nvarchar(10)                        not null,
    ID               nvarchar(50)   default '',
    SOURCEKEY        nvarchar(10)   default '',
    SOURCELINENUMBER nvarchar(10)   default '',
    PICKDETAILKEY    nvarchar(10)   default '',
    VALIDATEFLAG     nvarchar,
    CAPTUREBY        nvarchar,
    CASEID           nvarchar(50),
    IQTY             decimal(22, 5) default 1,
    OQTY             decimal(22, 5) default 1,
    IOTHER4          nvarchar(30),
    IOTHER5          nvarchar(30),
    OOTHER4          nvarchar(30),
    OOTHER5          nvarchar(30),
    SERIALNUMBERLONG nvarchar(500),
    GROSSWEIGHT      decimal(22, 5) default 0,
    TAREWGT          decimal(22, 5) default 0            not null,
    ITRNKEY          nvarchar(10),
    ADDDATE          datetime       default getutcdate() not null,
    ADDWHO           nvarchar(256)  default user_name()  not null,
    EDITDATE         datetime       default getutcdate() not null,
    EDITWHO          nvarchar(256)  default user_name()  not null,
    constraint LOT_143_UNIQUE
        unique (LOTXIDKEY, LOTXIDLINENUMBER)
)

if not exists (select * from sysobjects where name='LOTXIDHEADER' and xtype='U')
create table wmwhse1.LOTXIDHEADER
(
    SERIALKEY        int identity
        constraint LOT_144_UNIQUE
        unique,
    WHSEID           nvarchar(30)   default user_name(),
    LOTXIDKEY        nvarchar(10)                        not null
        primary key,
    STORERKEY        nvarchar(15)                        not null,
    SKU              nvarchar(50)   default '',
    ETWEIGHT         decimal(12, 6) default 0            not null,
    IOFLAG           nvarchar       default '',
    LOT              nvarchar(10)                        not null,
    ID               nvarchar(50)   default '',
    SOURCEKEY        nvarchar(10)   default '',
    SOURCELINENUMBER nvarchar(10)   default '',
    PICKDETAILKEY    nvarchar(10)   default '',
    VALIDATEFLAG     nvarchar,
    TOTWGTFLAG       nvarchar       default 'N'          not null,
    STATUS           nvarchar       default '0',
    TAREWGT          decimal(22, 5) default 0            not null,
    NETWGT           decimal(22, 5) default 0            not null,
    GROSSWGT         decimal(22, 5) default 0            not null,
    ADDDATE          datetime       default getutcdate() not null,
    ADDWHO           nvarchar(256)  default user_name()  not null,
    EDITDATE         datetime       default getutcdate() not null,
    EDITWHO          nvarchar(256)  default user_name()  not null
)

if not exists (select * from sysobjects where name='STORER' and xtype='U')
create table wmwhse1.STORER
(
    SERIALKEY                    int identity
        constraint STO_252_UNIQUE
        unique,
    WHSEID                       nvarchar(30)   default user_name(),
    STORERKEY                    nvarchar(15)                        not null,
    TYPE                         nvarchar(30)   default '1'          not null,
    SOURCEVERSION                nvarchar(22)   default '0'          not null,
    COMPANY                      nvarchar(45)   default '',
    VAT                          nvarchar(18),
    ADDRESS1                     nvarchar(45),
    ADDRESS2                     nvarchar(45),
    ADDRESS3                     nvarchar(45),
    ADDRESS4                     nvarchar(45),
    CITY                         nvarchar(45),
    STATE                        nvarchar(25)   default '',
    ZIP                          nvarchar(18)   default '',
    COUNTRY                      nvarchar(30)   default '',
    ISOCNTRYCODE                 nvarchar(10),
    CONTACT1                     nvarchar(30),
    CONTACT2                     nvarchar(30),
    PHONE1                       nvarchar(18),
    PHONE2                       nvarchar(18),
    FAX1                         nvarchar(18),
    FAX2                         nvarchar(18),
    EMAIL1                       nvarchar(60),
    EMAIL2                       nvarchar(60),
    B_CONTACT1                   nvarchar(30),
    B_CONTACT2                   nvarchar(30),
    B_COMPANY                    nvarchar(45),
    B_ADDRESS1                   nvarchar(45),
    B_ADDRESS2                   nvarchar(45),
    B_ADDRESS3                   nvarchar(45),
    B_ADDRESS4                   nvarchar(45),
    B_CITY                       nvarchar(45),
    B_STATE                      nvarchar(25),
    B_ZIP                        nvarchar(18),
    B_COUNTRY                    nvarchar(30),
    B_ISOCNTRYCODE               nvarchar(10),
    B_PHONE1                     nvarchar(18),
    B_PHONE2                     nvarchar(18),
    B_FAX1                       nvarchar(18),
    B_FAX2                       nvarchar(18),
    B_EMAIL1                     nvarchar(60),
    B_EMAIL2                     nvarchar(60),
    CREDITLIMIT                  nvarchar(18),
    CARTONGROUP                  nvarchar(10)   default 'STD'        not null,
    PICKCODE                     nvarchar(10)   default 'NSPFIFO'    not null,
    CREATEPATASKONRFRECEIPT      nvarchar(10)   default '0'          not null,
    CALCULATEPUTAWAYLOCATION     nvarchar(10)   default '2'          not null,
    STATUS                       nvarchar(18),
    DEFAULTSTRATEGY              nvarchar(10),
    DEFAULTSKUROTATION           nvarchar(10)   default 'Lot',
    DEFAULTROTATION              nvarchar       default '1',
    SCAC_CODE                    nvarchar(10),
    TITLE1                       nvarchar(50),
    TITLE2                       nvarchar(50),
    DESCRIPTION                  nvarchar(50),
    SUSR1                        nvarchar(30),
    SUSR2                        nvarchar(30),
    SUSR3                        nvarchar(30),
    SUSR4                        nvarchar(30),
    SUSR5                        nvarchar(30),
    SUSR6                        nvarchar(30),
    MULTIZONEPLPA                nvarchar       default '0',
    CWOFLAG                      nvarchar       default '',
    ROLLRECEIPT                  nvarchar       default '1'          not null,
    NOTES1                       nvarchar(2000),
    NOTES2                       nvarchar(2000),
    APPORTIONRULE                nvarchar(10)   default '0',
    ENABLEOPPXDOCK               nvarchar       default '0',
    ALLOWOVERSHIPMENT            nvarchar       default '0',
    MAXIMUMORDERS                int            default 0,
    MINIMUMPERCENT               decimal(12, 6) default 0.0,
    ORDERDATESTARTDAYS           int            default 1,
    ORDERDATEENDDAYS             int            default 1,
    ORDERTYPERESTRICT01          nvarchar(10),
    ORDERTYPERESTRICT02          nvarchar(10),
    ORDERTYPERESTRICT03          nvarchar(10),
    ORDERTYPERESTRICT04          nvarchar(10),
    ORDERTYPERESTRICT05          nvarchar(10),
    ORDERTYPERESTRICT06          nvarchar(10),
    OPPORDERSTRATEGYKEY          nvarchar(10),
    RECEIPTVALIDATIONTEMPLATE    nvarchar(18)   default ''           not null,
    ALLOWAUTOCLOSEFORPO          nvarchar       default '1'          not null,
    ALLOWAUTOCLOSEFORASN         nvarchar       default '1'          not null,
    ALLOWAUTOCLOSEFORPS          nvarchar       default '1'          not null,
    ALLOWSYSTEMGENERATEDLPN      nvarchar       default '1'          not null,
    ALLOWDUPLICATELICENSEPLATES  nvarchar       default '1'          not null,
    ALLOWCOMMINGLEDLPN           nvarchar       default '1'          not null,
    LPNBARCODESYMBOLOGY          nvarchar(60)   default '1',
    LPNBARCODEFORMAT             nvarchar(60)   default '',
    ALLOWSINGLESCANRECEIVING     nvarchar       default '1'          not null,
    LPNLENGTH                    int            default 6            not null,
    APPLICATIONID                nvarchar(2)    default '00'         not null,
    SSCC1STDIGIT                 int            default '0'          not null,
    UCCVENDORNUMBER              nvarchar(9)    default ' '          not null,
    CASELABELTYPE                nvarchar(10)   default 'STD',
    AUTOPRINTLABELLPN            nvarchar       default '1'          not null,
    AUTOPRINTLABELPUTAWAY        nvarchar       default '1'          not null,
    LPNSTARTNUMBER               nvarchar(50)   default ''           not null,
    NEXTLPNNUMBER                nvarchar(50)   default ''           not null,
    LPNROLLBACKNUMBER            nvarchar(50)   default ''           not null,
    BARCODECONFIGKEY             nvarchar(18),
    DEFAULTPUTAWAYSTRATEGY       nvarchar(10)   default 'STD',
    AUTOCLOSEASN                 nvarchar       default '0'          not null,
    AUTOCLOSEPO                  nvarchar       default '0'          not null,
    TRACKINVENTORYBY             nvarchar       default '0',
    DUPCASEID                    nvarchar       default '0',
    DEFAULTRETURNSLOC            nvarchar(10)   default 'RETURN'     not null,
    DEFAULTQCLOC                 nvarchar(10)   default 'QC'         not null,
    PISKUXLOC                    nvarchar       default '0'          not null,
    CCSKUXLOC                    nvarchar       default '0'          not null,
    CCDISCREPANCYRULE            nvarchar(10)   default 'STD'        not null,
    CCADJBYRF                    nvarchar(10)   default '0'          not null,
    ORDERBREAKDEFAULT            nvarchar       default '0'          not null,
    SKUSETUPREQUIRED             nvarchar       default '0'          not null,
    DEFAULTQCLOCOUT              nvarchar(10)   default 'PICKTO'     not null,
    ENABLEPACKINGDEFAULT         nvarchar       default '0',
    DEFAULTPACKINGLOCATION       nvarchar(10),
    GENERATEPACKLIST             nvarchar       default '0',
    PACKINGVALIDATIONTEMPLATE    nvarchar(10),
    INSPECTATPACK                nvarchar       default '0',
    ADDRESSOVERWRITEINDICATOR    nvarchar       default '0',
    ACCOUNTINGENTITY             nvarchar(64),
    CREATEOPPXDTASKS             int            default 1,
    ISSUEOPPXDTASKS              int            default 1,
    OPPXDPICKFROM                nvarchar(20)   default 'XDSTAGE',
    OBXDSTAGE                    nvarchar(20)   default 'XDLANE',
    KSHIP_CARRIER                int            default 0            not null,
    SPSUOMWEIGHT                 nvarchar(10),
    SPSUOMDIMENSION              nvarchar(10),
    DEFDAPICKSORT                nvarchar       default '1',
    DEFRPLNSORT                  nvarchar       default '1',
    REQREASONSHORTSHIP           int            default 0            not null,
    EXPLODELPNLENGTH             int            default 9,
    EXPLODELPNROLLBACKNUMBER     nvarchar(18)   default '999999999',
    EXPLODELPNSTARTNUMBER        nvarchar(18)   default '000000001',
    EXPLODENEXTLPNNUMBER         nvarchar(18)   default '000000001',
    OWNERPREFIX                  nvarchar(18),
    CONTAINEREXCHANGEFLAG        int            default 0            not null,
    CARTONIZEFTDFLT              nvarchar       default '0'          not null,
    DEFFTLABELPRINT              nvarchar       default '0'          not null,
    DEFFTTASKCONTROL             nvarchar       default '0'          not null,
    MEASURECODE                  nvarchar(10),
    WGTUOM                       nvarchar(20),
    DIMENUOM                     nvarchar(20),
    CUBEUOM                      nvarchar(20),
    CURRCODE                     nvarchar(3),
    TAXGROUP                     nvarchar(20),
    DEFCORPCODE                  nvarchar(40),
    SURCHGBASETEMP               decimal(22, 5),
    AMBTEMPERATURE               decimal(22, 5),
    INVOICETERMS                 nvarchar(10),
    ARCORP                       nvarchar(40),
    ARDEPT                       nvarchar(40),
    ARACCT                       nvarchar(40),
    INVOICELEVEL                 nvarchar(20),
    NONNEGLEVEL                  nvarchar(20),
    TAXID                        nvarchar(40),
    DUNSID                       nvarchar(40),
    RECURCODE                    nvarchar(10),
    QFSURCHARGE                  decimal(22, 5),
    BFSURCHARGE                  decimal(22, 5),
    TAXEXEMPT                    nvarchar(2),
    TAXEXEMPTCODE                nvarchar(40),
    TIMEZONE                     nvarchar(250),
    PLANDAYS                     smallint       default 0            not null,
    ARCHIVEPLANNINGDAYS          smallint       default 0            not null,
    ARCHIVEREPORTINGDATA         smallint       default 0            not null,
    PLANENABLED                  smallint       default 0            not null,
    DEFAULTHOURLYRATE            decimal(9, 6)  default 0.0          not null,
    DISTCALCMETHOD               smallint,
    MAXCORNERANGLE               smallint,
    SAVESTANDARDSAUDIT           smallint       default 0            not null,
    ADDRESS5                     nvarchar(45),
    ADDRESS6                     nvarchar(45),
    PARENT                       nvarchar(15),
    SPSACCOUNTNUM                nvarchar(40),
    SPSCOSTCENTER                nvarchar(20),
    SPSRETURNLABEL               nvarchar,
    AMSTRATEGYKEY                nvarchar(10),
    TEMPFORASN                   nvarchar       default 'N'          not null,
    MIXEDLPNPUTSTRATEGY          nvarchar(10)   default 'STD'        not null,
    GROUPFTEACHDFLT              nvarchar       default '1',
    ALLOCATEFTONCLOSE            nvarchar       default '0',
    SPS_SCAC                     nvarchar(10),
    SPSAPISTRATEGYKEY            nvarchar(10),
    PRINTPACKLIST                nvarchar(10)   default '0',
    PRINTPACKTEMPLATE            nvarchar(10)   default '0',
    PRINTCONTENTSREPORT          nvarchar(10)   default '0',
    PKTRACKINGID                 nvarchar       default '0',
    AUTOPRINTADDRESSLABEL        nvarchar       default '0',
    AUTOPRINTORDERLABELS         nvarchar       default '0',
    LOCALE                       nvarchar(10),
    PAYROLLPERIOD                nvarchar(20),
    INITIALPAYROLLPERIODENDDATE  datetime,
    PAYROLLEXTRACTFOLDER         nvarchar(max),
    INCREMENTALEXTRACT           nvarchar       default '0',
    DAYBOUNDARYMINUTES           int,
    AUTOMATICFIRSTACTIVITY       nvarchar(30),
    VENDORCOMPLYSTRATEGYKEY      nvarchar(10),
    BACKORDER                    nvarchar(10),
    BOTYPE                       nvarchar(10)   default '12',
    DEFAULTTRANSPORTATIONSERVICE nvarchar(10),
    DEFAULTEQUIPMENTATTRIBUTE    nvarchar(10),
    DEFAULTEQUIPMENTTYPE         nvarchar(10),
    DEFAULTEQUIPMENTLENGTH       nvarchar(10),
    MIXPALLETPUTAWAYMETHOD       nvarchar       default '0',
    DFLTEQUIPMENTFORASSGN        nvarchar(50),
    DFLTEQUIPMENTFORPALLET       nvarchar(50),
    RFAUTOFILLRCVLPN             nvarchar       default '1'          not null,
    INBOUNDLPNLENGTH             int            default 0            not null,
    INBOUNDLPNPREFIX             nvarchar(10),
    RFRCVAUTOPRINTLPN            nvarchar(10),
    RECEIPTUNITLABELNAME         nvarchar(20),
    RECEIPTUNITLABELUOM          nvarchar(10),
    LASTSHIPPEDLOTCTRL           nvarchar       default '0',
    ALLOCATIONLOTLIMIT           nvarchar       default '0',
    OUTLABELSREQUIREDTOSHIP      nvarchar(10),
    OUTLABELSREQUIREDTOBOL       nvarchar(10),
    OUTBOUNDLABELSLEVEL          nvarchar(10),
    OUTBOUNDLABELSCOUNTLEVEL     nvarchar(10),
    STANDARDOUTBOUNDLABELPREFIX  nvarchar(10),
    USEPARTNERLPNCONTROL         nvarchar       default '0'          not null,
    EXTERNSTORERKEY              nvarchar(100),
    DEFAULTNEWALLOCATIONSTRATEGY nvarchar(10),
    MINSHELFLIFEOVERRIDEPCT      int            default 0,
    AUTOFINALIZEPRODORDER        nvarchar       default '0'          not null,
    CREATEMOVESFROMPROD          nvarchar       default '0'          not null,
    PRODCOUNTLOC                 nvarchar(10)   default 'CCPROD'     not null,
    SHIPTOGROUP                  nvarchar(10),
    PACKINGTOIDPREFIX            nvarchar(10),
    PACKINGTOIDLENGTH            int            default 10,
    QUARANTINEINDICATOR          nvarchar       default '0'          not null,
    CDOFLAG                      nvarchar,
    ADDDATE                      datetime       default getutcdate() not null,
    ADDWHO                       nvarchar(256)  default user_name()  not null,
    EDITDATE                     datetime       default getutcdate() not null,
    EDITWHO                      nvarchar(256)  default user_name()  not null,
    primary key (STORERKEY, TYPE)
);

if not exists (select * from sysobjects where name='delivery_service_cutoffs' and xtype='U')
create table wmwhse1.delivery_service_cutoffs
(
    SERIALKEY             int primary key,
    delivery_service_code nvarchar(15)                       not null,
    order_creation_cutoff varchar(10),
    picking_cutoff        varchar(10),
    shipping_cutoff       varchar(10),
    adddate               datetime      default getutcdate() not null,
    addwho                nvarchar(256) default user_name()  not null,
    editdate              datetime      default getutcdate() not null,
    editwho               nvarchar(256) default user_name()  not null,
    comment               varchar(255),
    warehouse_cutoff      varchar(10)
);

if not exists (select * from sysobjects where name='NCOUNTER' and xtype='U')
create table wmwhse1.NCOUNTER
(
    SERIALKEY int identity
        constraint NCO_153_UNIQUE
        unique,
    WHSEID    nvarchar(30)  default user_name(),
    KEYNAME   nvarchar(30)                       not null
        primary key,
    KEYCOUNT  int                                not null,
    ADDDATE   datetime      default getutcdate() not null,
    ADDWHO    nvarchar(256) default user_name()  not null,
    EDITDATE  datetime      default getutcdate() not null,
    EDITWHO   nvarchar(256) default user_name()  not null
);

if not exists (select * from sysobjects where name='WAVEDETAIL' and xtype='U')
create table wmwhse1.WAVEDETAIL
(
    SERIALKEY     int identity
        constraint WAV_285_UNIQUE
        unique,
    WHSEID        nvarchar(30)  default user_name(),
    WAVEDETAILKEY nvarchar(10)                       not null,
    WAVEKEY       nvarchar(10)                       not null,
    ORDERKEY      nvarchar(10)  default ''           not null,
    PROCESSFLAG   nvarchar(10)  default ''           not null,
    ADDDATE       datetime      default getutcdate() not null,
    ADDWHO        nvarchar(256) default user_name()  not null,
    EDITDATE      datetime      default getutcdate() not null,
    EDITWHO       nvarchar(256) default user_name()  not null,
    primary key (WAVEKEY, WAVEDETAILKEY)
);

create table enterprise.NCOUNTER
(
    SERIALKEY int identity
        constraint NCO_153_UNIQUE
        unique,
    WHSEID    nvarchar(30)  default user_name(),
    KEYNAME   nvarchar(30)                       not null
        primary key,
    KEYCOUNT  int                                not null,
    ADDDATE   datetime      default getutcdate() not null,
    ADDWHO    nvarchar(256) default user_name()  not null,
    EDITDATE  datetime      default getutcdate() not null,
    EDITWHO   nvarchar(256) default user_name()  not null
);

if not exists (select * from sysobjects where name='INVENTORYHOLD' and xtype='U')
create table wmwhse1.INVENTORYHOLD
(
    SERIALKEY        int identity,
    WHSEID           nvarchar(30)  default user_name(),
    INVENTORYHOLDKEY nvarchar(10)  default ''           not null,
    LOT              nvarchar(10)  default ''           not null,
    ID               nvarchar(50)  default ''           not null,
    LOC              nvarchar(10)  default ''           not null,
    HOLD             nvarchar      default ''           not null,
    STATUS           nvarchar(10)  default ''           not null,
    DATEON           datetime      default getutcdate() not null,
    WHOON            nvarchar(256) default user_name()  not null,
    DATEOFF          datetime      default getutcdate() not null,
    WHOOFF           nvarchar(256) default user_name()  not null,
    COMMENTS         nvarchar(60),
    HOURSTOHOLD      decimal(10, 2),
    AUTORELEASEDATE  datetime,
    ADDDATE          datetime      default getutcdate() not null,
    ADDWHO           nvarchar(256) default user_name()  not null,
    EDITDATE         datetime      default getutcdate() not null,
    EDITWHO          nvarchar(256) default user_name()  not null,
    unique (LOT, LOC, ID, STATUS),
    check (isnull(ltrim(rtrim([LOT])), '') <> '' AND isnull(ltrim(rtrim([LOC])), '') = '' AND
           isnull(ltrim(rtrim([ID])), '') = '' OR
           isnull(ltrim(rtrim([LOT])), '') = '' AND isnull(ltrim(rtrim([LOC])), '') <> '' AND
           isnull(ltrim(rtrim([ID])), '') = '' OR
           isnull(ltrim(rtrim([LOT])), '') = '' AND isnull(ltrim(rtrim([LOC])), '') = '' AND
           isnull(ltrim(rtrim([ID])), '') <> '')
);

if not exists (select * from sysobjects where name='LOTXLOCXID' and xtype='U')
create table wmwhse1.LOTXLOCXID
(
    SERIALKEY              int identity,
    WHSEID                 nvarchar(30)   default user_name(),
    LOT                    nvarchar(10)   default ''           not null,
    LOC                    nvarchar(10)   default 'UNKNOWN'    not null
        references wmwhse1.LOC,
    ID                     nvarchar(50)   default ''           not null,
    STORERKEY              nvarchar(15)   default ''           not null,
    SKU                    nvarchar(50)   default ''           not null,
    QTY                    decimal(22, 5) default 0            not null,
    QTYALLOCATED           decimal(22, 5) default 0            not null,
    QTYPICKED              decimal(22, 5) default 0            not null,
    QTYEXPECTED            decimal(22, 5) default 0            not null,
    QTYPICKINPROCESS       decimal(22, 5) default 0            not null,
    PENDINGMOVEIN          decimal(22, 5) default 0            not null,
    ARCHIVEQTY             decimal(22, 5) default 0            not null,
    ARCHIVEDATE            datetime       default '01/01/1901' not null,
    STATUS                 nvarchar(10)   default 'OK',
    TAREWGT                decimal(22, 5) default 0            not null,
    NETWGT                 decimal(22, 5) default 0            not null,
    GROSSWGT               decimal(22, 5) default 0            not null,
    ADDDATE                datetime       default getutcdate() not null,
    ADDWHO                 nvarchar(256)  default user_name()  not null,
    EDITDATE               datetime       default getutcdate() not null,
    EDITWHO                nvarchar(256)  default user_name()  not null,
    SHAREDWIDTHFROMLOC     nvarchar(10),
    SHAREDWIDTHFROMLOCPCT  int            default 0            not null,
    SHAREDWEIGHTFROMLOC    nvarchar(10),
    SHAREDWEIGHTFROMLOCQTY decimal(22, 5) default 0            not null,
    primary key (LOT, LOC, ID),
    foreign key (SKU, STORERKEY) references wmwhse1.SKU,
    check ([QTY] >= 0 AND [QTYALLOCATED] >= 0 AND [QTYPICKED] >= 0 AND [QTYEXPECTED] >= 0)
    );

if not exists (select * from sysobjects where name='LOT' and xtype='U')
create table wmwhse1.LOT
(
    SERIALKEY            int identity
        constraint LOT_137_UNIQUE
        unique,
    WHSEID               nvarchar(30)   default user_name(),
    LOT                  nvarchar(10)                        not null primary key,
    STORERKEY            nvarchar(15)                        not null,
    SKU                  nvarchar(50)                        not null,
    CASECNT              decimal(22, 5) default 0            not null,
    INNERPACK            decimal(22, 5) default 0            not null,
    QTY                  decimal(22, 5) default 0            not null,
    PALLET               decimal(22, 5) default 0            not null,
    CUBE                 float          default 0            not null,
    GROSSWGT             decimal(22, 5) default 0            not null,
    NETWGT               decimal(22, 5) default 0            not null,
    OTHERUNIT1           float          default 0            not null,
    OTHERUNIT2           float          default 0            not null,
    QTYPREALLOCATED      decimal(22, 5) default 0            not null,
    QTYALLOCATED         decimal(22, 5) default 0            not null,
    QTYPICKED            decimal(22, 5) default 0            not null,
    QTYONHOLD            decimal(22, 5) default 0            not null,
    STATUS               nvarchar(10)   default 'OK'         not null,
    ARCHIVEQTY           decimal(22, 5) default 0            not null,
    ARCHIVEDATE          datetime       default '01/01/1901' not null,
    ADDDATE              datetime       default getutcdate() not null,
    ADDWHO               nvarchar(256)  default user_name()  not null,
    EDITDATE             datetime       default getutcdate() not null,
    EDITWHO              nvarchar(256)  default user_name()  not null,
    GROSSWGTPREALLOCATED float          default 0            not null,
    NETWGTPREALLOCATED   float          default 0            not null,
    GROSSWGTALLOCATED    float          default 0            not null,
    NETWGTALLOCATED      float          default 0            not null,
    GROSSWGTPICKED       float          default 0            not null,
    NETWGTPICKED         float          default 0            not null,
    TAREWGT              decimal(22, 5) default 0            not null,
    foreign key (SKU, STORERKEY) references wmwhse1.SKU,
    check ([QTY] >= ([QTYPREALLOCATED] + [QTYALLOCATED] + [QTYPICKED])),
    check ([QTY] >= ([QTYPREALLOCATED] + [QTYALLOCATED] + [QTYPICKED])),
    check ([QTY] >= ([QTYPREALLOCATED] + [QTYALLOCATED] + [QTYPICKED])),
    check ([QTY] >= ([QTYPREALLOCATED] + [QTYALLOCATED] + [QTYPICKED])),
    check ([QTY] >= 0 AND [QTYPREALLOCATED] >= 0 AND [QTYALLOCATED] >= 0 AND [QTYPICKED] >= 0 AND [QTYONHOLD] >= 0)
);

create table wmwhse1.WAVE
(
    SERIALKEY                int identity
        constraint WAV_284_UNIQUE
        unique,
    WHSEID                   nvarchar(30)  default user_name(),
    WAVEKEY                  nvarchar(10)                       not null
        primary key,
    WAVETYPE                 nvarchar(18)  default '0'          not null,
    DESCR                    nvarchar(60)  default ''           not null,
    DISPATCHPALLETPICKMETHOD nvarchar(10)  default '1'          not null,
    DISPATCHCASEPICKMETHOD   nvarchar(10)  default '1'          not null,
    LABELSPERCASE            int           default 0            not null,
    LABELSPERPALLET          int           default 0            not null,
    DISPATCHPIECEPICKMETHOD  nvarchar(10)  default '1'          not null,
    STATUS                   nvarchar(10)  default '0'          not null,
    BATCHFLAG                nvarchar      default '0'          not null,
    AUTOBATCH                nvarchar      default '0'          not null,
    ALLOWCONSOLIDATION       nvarchar      default '0',
    EXTERNALWAVEKEY          nvarchar(20),
    INPROCESS                nvarchar(5)   default '0',
    LOADID                   nvarchar(10),
    BATCHORDERNUMBER         nvarchar(10),
    ADDDATE                  datetime      default getutcdate() not null,
    ADDWHO                   nvarchar(256) default user_name()  not null,
    EDITDATE                 datetime      default getutcdate() not null,
    EDITWHO                  nvarchar(256) default user_name()  not null,
    WAVE_TYPE                nvarchar(15),
    START_TYPE               nvarchar(10),
    LINKED_TO_DS             NVARCHAR(1) default '0' not null,
    SORTATIONSTATIONKEY      nvarchar(18),
    LINE                     nvarchar(255),
    BUILDING                 nvarchar(max),
    START_REASON             nvarchar(max),
    CONS_READINESS           decimal(6, 3) default 0
        constraint WAVE___check_percentage
            check ([CONS_READINESS] >= 0 AND [CONS_READINESS] <= 100)
);

create table wmwhse1.TASKDETAIL
(
    SERIALKEY              int identity
        constraint TAS_262_UNIQUE
            unique,
    WHSEID                 nvarchar(30)   default user_name(),
    TASKDETAILKEY          nvarchar(10)   default ''           not null
        primary key,
    TASKTYPE               nvarchar(10)   default ''           not null,
    STORERKEY              nvarchar(15)   default ''           not null,
    SKU                    nvarchar(50)   default ''           not null,
    LOT                    nvarchar(10)   default ''           not null,
    UOM                    nvarchar(5)    default ''           not null,
    UOMQTY                 decimal(22, 5) default 0            not null,
    QTY                    decimal(22, 5) default 0            not null,
    FROMLOC                nvarchar(10)   default ''           not null,
    LOGICALFROMLOC         nvarchar(18)   default ''           not null,
    FROMID                 nvarchar(50)   default ''           not null,
    TOLOC                  nvarchar(10)   default ''           not null,
    LOGICALTOLOC           nvarchar(18)   default ''           not null,
    TOID                   nvarchar(50)   default ''           not null,
    CASEID                 nvarchar(50)   default ''           not null,
    PICKMETHOD             nvarchar(10)   default ''           not null,
    STATUS                 nvarchar(10)   default '0'          not null,
    STATUSMSG              nvarchar(255)  default ''           not null,
    PRIORITY               nvarchar(10)   default '5'          not null,
    SOURCEPRIORITY         nvarchar(10)   default ''           not null,
    HOLDKEY                nvarchar(10)   default ''           not null,
    USERKEY                nvarchar(256)  default ''           not null,
    USERPOSITION           nvarchar(10)   default '1'          not null,
    USERKEYOVERRIDE        nvarchar(256)  default ''           not null,
    STARTTIME              datetime       default getutcdate() not null,
    ENDTIME                datetime       default getutcdate() not null,
    SOURCETYPE             nvarchar(30)   default ''           not null,
    SOURCEKEY              nvarchar(30)   default ''           not null,
    PICKDETAILKEY          nvarchar(10)   default ''           not null,
    ORDERKEY               nvarchar(10)   default ''           not null,
    ORDERLINENUMBER        nvarchar(5)    default ''           not null,
    LISTKEY                nvarchar(10)   default ''           not null,
    WAVEKEY                nvarchar(10)   default ''           not null,
    REASONKEY              nvarchar(10)   default ''           not null,
    MESSAGE01              nvarchar(20)   default ''           not null,
    MESSAGE02              nvarchar(20)   default ''           not null,
    MESSAGE03              nvarchar(20)   default ''           not null,
    FINALTOLOC             nvarchar(10)   default ''           not null,
    RELEASEDATE            datetime,
    OPTBATCHID             nvarchar(10),
    OPTTASKSEQUENCE        nvarchar(10),
    OPTREPLENISHMENTUOM    nvarchar(10),
    OPTQTYLOCMINIMUM       decimal(22, 5),
    OPTLOCATIONTYPE        nvarchar(10),
    OPTQTYLOCLIMIT         decimal(22, 5),
    SEQNO                  int            default 99999,
    AMSTRATEGYKEY          nvarchar(10),
    STEPNUMBER             int,
    ADDDATE                datetime       default getutcdate() not null,
    ADDWHO                 nvarchar(256)  default user_name()  not null,
    EDITDATE               datetime       default getutcdate() not null,
    EDITWHO                nvarchar(256)  default user_name()  not null,
    DOOR                   nvarchar(10)   default '',
    ROUTE                  nvarchar(10)   default '',
    STOP                   nvarchar(10)   default '',
    PUTAWAYZONE            nvarchar(10)   default '',
    UASSGNNUMBER           nvarchar(10),
    EQUIPMENT              nvarchar(10),
    EQUIPMENTID            nvarchar(50),
    STANDARD               decimal(12, 2),
    SUBTASK                nvarchar(10),
    CLUSTERKEY             nvarchar(10),
    TAREWGT                decimal(22, 5) default 0            not null,
    NETWGT                 decimal(22, 5) default 0            not null,
    GROSSWGT               decimal(22, 5) default 0            not null,
    ASSIGNMENTNUMBER       nvarchar(10),
    MAXNUMPERCLUSTERCARTON int            default 0,
    PAID                   nvarchar       default '0',
    BILLABLE               nvarchar       default '0',
    OWNERBILLTO            nvarchar(15),
    CHARGECODE             nvarchar(20),
    ACTUALTOLOC            nvarchar(10),
    ESTLABORSTD            decimal(12, 2),
    ORIGINALSTARTTIME      datetime,
    ORIGINALENDTIME        datetime,
    ORIGINALPAID           nvarchar,
    PAYROLLCANCELED        nvarchar       default '0',
    COMMENTS               nvarchar(max),
    POSITION               int,
    PICKCONTPLACEMENT      nvarchar(10),
    RUNSEQUENCE            int            default 0,
    REQUESTEDSHIPDATE      datetime,
    ORIGINALQTY            decimal(22, 5)
        constraint DF_TASKDETAIL_ORIGINALQTY default 0,
    RECEIPTKEY             nvarchar(10),
    GROUPID                nvarchar(50),
    CARRIERCODE            nvarchar(15)
);

create table wmwhse1.SKILLS
(
    CODE        nvarchar(100)                not null
    primary key,
    PROCESS     nvarchar(512)                not null,
    ADDDATE     datetime      default getutcdate()  not null,
    ADDWHO      nvarchar(256) default 'test' not null,
    EDITDATE    datetime      default getutcdate()  not null,
    EDITWHO     nvarchar(256) default 'test' not null,
    IS_DEFAULT  bit           default 0      not null
);

create table wmwhse1.EMPLOYEE_SKILLS
(
    USERID    nvarchar(100)                not null,
    SKILLCODE nvarchar(100)                not null,
    PRIORITY  int                          not null,
    ADDDATE   datetime      default getutcdate()  not null,
    ADDWHO    nvarchar(256) default 'test' not null,
    EDITDATE  datetime      default getutcdate()  not null,
    EDITWHO   nvarchar(256) default 'test' not null,
    constraint PK__EMPLOYEE_SKILLS_PK primary key (USERID, SKILLCODE),
    FOREIGN KEY (SKILLCODE) REFERENCES wmwhse1.SKILLS (CODE)
);

create table wmwhse1.ASSIGNMENT_TAGS
(
    ASSIGNMENTNUMBER   nvarchar(10)  not null,
    TAG                nvarchar(100) not null,
    constraint PK_ASSIGNMENT_TAGS primary key (ASSIGNMENTNUMBER, TAG),
    FOREIGN KEY (TAG) REFERENCES wmwhse1.SKILLS (CODE)
);

create table wmwhse1.ZONE_TAGS
(
    ZONE               nvarchar(10)  not null,
    TAG                nvarchar(100) not null,
    constraint PK_ZONE_TAGS primary key (ZONE, TAG),
    FOREIGN KEY (ZONE) REFERENCES wmwhse1.PUTAWAYZONE (PUTAWAYZONE),
    FOREIGN KEY (TAG) REFERENCES wmwhse1.SKILLS (CODE)
);

create table wmwhse1.PICKDETAIL
(
    SERIALKEY                  int identity
        constraint UNIQ_PICKDETAIL_SERIAL
            unique
                with (fillfactor = 90),
    WHSEID                     nvarchar(30)   default user_name(),
    PICKDETAILKEY              nvarchar(18)                        not null
        constraint PK_PICKDETAIL_PDKEY
            primary key nonclustered
                with (fillfactor = 90),
    CASEID                     nvarchar(50)   default ''           not null,
    PICKHEADERKEY              nvarchar(18)                        not null,
    ORDERKEY                   nvarchar(10)                        not null,
    ORDERLINENUMBER            nvarchar(5)                         not null,
    LOT                        nvarchar(10)                        not null,
    STORERKEY                  nvarchar(15)                        not null,
    SKU                        nvarchar(50)                        not null,
    ALTSKU                     nvarchar(50)   default ''           not null,
    UOM                        nvarchar(10)   default ''           not null,
    UOMQTY                     decimal(22, 5) default 0            not null,
    QTY                        decimal(22, 5) default 0            not null,
    QTYMOVED                   decimal(22, 5) default 0            not null,
    STATUS                     nvarchar(10)   default '0'          not null
        check ([STATUS] like '[0-9]'),
    DROPID                     nvarchar(50)   default ''           not null,
    STOP                       int,
    DOOR                       nvarchar(18),
    ROUTE                      nvarchar(18),
    SORTATIONLOCATION          nvarchar(18),
    SORTATIONSTATION           nvarchar(18),
    BATCHCARTONID              nvarchar(18),
    ISCLOSED                   nvarchar       default 'N'          not null,
    QCSTATUS                   nvarchar(10)   default 'P'          not null,
    PDUDF1                     nvarchar(10),
    PDUDF2                     nvarchar(10),
    PDUDF3                     nvarchar(10),
    PICKNOTES                  nvarchar(255),
    RECEIPTKEY                 nvarchar(10),
    CROSSDOCKED                nvarchar       default '0',
    SEQNO                      int            default 99999,
    LABELTYPE                  nvarchar(10),
    COMPANYPREFIX              nvarchar(10),
    SERIALREFERENCE            nvarchar(15),
    ITRNKEY                    nvarchar(10)   default ''           not null,
    ADDDATE                    datetime       default getutcdate() not null,
    ADDWHO                     nvarchar(256)  default user_name()  not null,
    EDITDATE                   datetime       default getutcdate() not null,
    EDITWHO                    nvarchar(256)  default user_name()  not null,
    OPTIMIZECOP                nvarchar,
    QTYREJECTED                decimal(22, 5) default 0            not null,
    REJECTEDREASON             nvarchar(10),
    STATUSREQUIRED             nvarchar(10)   default 'OK'         not null,
    SELECTEDCARTONTYPE         nvarchar(10),
    SELECTEDCARTONID           nvarchar(50),
    TAREWGT                    decimal(22, 5) default 0            not null,
    NETWGT                     decimal(22, 5) default 0            not null,
    GROSSWGT                   decimal(22, 5) default 0            not null,
    REFID                      nvarchar(50),
    SHIPID                     nvarchar(40)   default ' ',
    EQUIPMENTID                nvarchar(50),
    EQUIPMENTTYPE              nvarchar(10),
    ASSIGNMENTNUMBER           nvarchar(10),
    ALLOCATESTRATEGYKEY        nvarchar(10),
    ALLOCATESTRATEGYLINENUMBER nvarchar(5),
    POSITION                   int,
    PICKCONTPLACEMENT          nvarchar(10),
    DEMANDKEY                  nvarchar(10),
    LOC                        nvarchar(10)   default 'UNKNOWN'    not null,
    ID                         nvarchar(50)   default ''           not null,
    PACKKEY                    nvarchar(50)   default ''           not null,
    UPDATESOURCE               nvarchar(10)   default '0'          not null,
    CARTONGROUP                nvarchar(10),
    CARTONTYPE                 nvarchar(10),
    TOLOC                      nvarchar(10)   default '',
    DOREPLENISH                nvarchar       default 'N',
    REPLENISHZONE              nvarchar(10)   default '',
    DOCARTONIZE                nvarchar       default 'N',
    PICKMETHOD                 nvarchar       default ''           not null,
    WAVEKEY                    nvarchar(10)   default ''           not null,
    EFFECTIVEDATE              datetime,
    FORTE_FLAG                 nvarchar(6)    default 'I'          not null,
    FROMLOC                    nvarchar(10)   default '',
    TRACKINGID                 nvarchar(45),
    FREIGHTCHARGES             float,
    INTERMODALVEHICLE          nvarchar(30),
    LOADID                     nvarchar(20),
    foreign key (SKU, STORERKEY) references wmwhse1.SKU
);

create table wmwhse1.USERACTIVITY
(
    SERIALKEY              int identity
        constraint UAC_307_UNIQUE
            unique,
    WHSEID                 nvarchar(30)  default user_name(),
    USERACTIVITYKEY        nvarchar(10)                       not null
        primary key,
    TYPE                   nvarchar(30)                       not null,
    USERID                 nvarchar(256),
    STATUS                 nvarchar(2)   default '0'          not null,
    USERATTENDANCEKEY      nvarchar(10),
    ASSIGNMENTNUMBER       nvarchar(10),
    ITRNKEY                nvarchar(10),
    PICKDETAILKEY          nvarchar(18),
    TASKDETAILKEY          nvarchar(10),
    WAVEKEY                nvarchar(10),
    OTHERSOURCE            nvarchar(30),
    STARTTIME              datetime,
    ENDTIME                datetime,
    ACTYPE                 nvarchar      default '3',
    UASSGNNUMBER           nvarchar(10),
    EQUIPMENT              nvarchar(10),
    EQUIPMENTID            nvarchar(50),
    STANDARD               decimal(12, 2),
    PRIORITY               int           default '99'         not null,
    FUNCTIONTYPE           nvarchar(2)   default ''           not null,
    OWNER                  nvarchar(15),
    PAID                   nvarchar      default '0',
    BILLABLE               nvarchar      default '0',
    OWNERBILLTO            nvarchar(15),
    CHARGECODE             nvarchar(20),
    COMMENTS               nvarchar(max),
    ESTLABORSTD            decimal(12, 2),
    ORIGINALSTARTTIME      datetime,
    ORIGINALENDTIME        datetime,
    ORIGINALPAID           nvarchar,
    PAYROLLCANCELED        nvarchar      default '0',
    ADDDATE                datetime      default getutcdate() not null,
    ADDWHO                 nvarchar(256) default user_name()  not null,
    EDITDATE               datetime      default getutcdate() not null,
    EDITWHO                nvarchar(256) default user_name()  not null,
    MAXNUMPERCLUSTERCARTON int           default 0,
    OVERLAPPINGDELAY       nvarchar      default '0',
    DROPID                 varchar(20)
);

create table wmwhse1.SKUXLOC
(
    SERIALKEY                   int identity
        constraint SKU_246_UNIQUE
        unique,
    WHSEID                      nvarchar(30)   default user_name(),
    STORERKEY                   nvarchar(15)   default ''           not null,
    SKU                         nvarchar(50)   default ''           not null,
    LOC                         nvarchar(10)   default ''           not null
        references wmwhse1.LOC,
    QTY                         decimal(22, 5) default 0            not null,
    QTYALLOCATED                decimal(22, 5) default 0            not null,
    QTYPICKED                   decimal(22, 5) default 0            not null,
    QTYEXPECTED                 decimal(22, 5) default 0            not null,
    QTYLOCATIONLIMIT            decimal(22, 5) default 0            not null,
    QTYLOCATIONMINIMUM          decimal(22, 5) default 0            not null,
    QTYPICKINPROCESS            decimal(22, 5) default 0            not null,
    QTYREPLENISHMENTOVERRIDE    decimal(22, 5) default 0            not null,
    REPLENISHMENTPRIORITY       nvarchar(5)    default '9'          not null,
    REPLENISHMENTSEVERITY       float          default 0            not null,
    REPLENISHMENTCASECNT        decimal(22, 5) default 0            not null,
    LOCATIONTYPE                nvarchar(10)   default 'OTHER'      not null,
    LOCATIONUOM                 nvarchar(10)   default '',
    REPLENISHMENTUOM            nvarchar(10)   default '1',
    REPLENISHMENTQTY            decimal(22, 5) default 0,
    TODOUSER                    nvarchar(256)  default '',
    ALLOWREPLENISHFROMCASEPICK  int            default 0,
    ALLOWREPLENISHFROMBULK      int            default 0,
    ALLOWREPLENISHFROMPIECEPICK int            default 0,
    OPTBATCHID                  nvarchar(10),
    OPTSEQUENCE                 nvarchar(10),
    OPTADDDELFLAG               nvarchar(1),
    RUNSEQUENCE                 int            default 0,
    ORIGINALSKU                 nvarchar(50)   default '',
    FORCEUOMREPLENQTY           nvarchar(1)    default '0'          not null,
    ADDDATE                     datetime       default getutcdate() not null,
    ADDWHO                      nvarchar(256)  default user_name()  not null,
    EDITDATE                    datetime       default getutcdate() not null,
    EDITWHO                     nvarchar(256)  default user_name()  not null,
    constraint PK_SKUXLOC_SLS
        primary key (STORERKEY, SKU, LOC),
    foreign key (SKU, STORERKEY) references wmwhse1.SKU (SKU, STORERKEY),
    check ([QTY] >= 0 AND [QTYALLOCATED] >= 0 AND [QTYPICKED] >= 0 AND [QTYEXPECTED] >= 0)
);



create table wmwhse1.SORTATIONSTATION
(
    SERIALKEY int identity,
    WHSEID nvarchar(30) default 'test',
    SORTATIONSTATIONKEY nvarchar(18) not null primary key,
    ACTIVEBATCHESPERPUTWALL int,
    SORTATIONZONE nvarchar(18) default '' not null,
    STATIONSTATUS nvarchar(1) default '1' not null,
    STATIONSTATUSAOS nvarchar(1) default '1' not null,
    PUTRATEHOUR int default 0 not null,
    PUTAWAYZONE nvarchar(10) default '' not null,
    WAVEKEY nvarchar(10) default '' not null,
    ADDDATE datetime default getutcdate() not null,
    ADDWHO nvarchar(256) default 'test' not null,
    EDITDATE datetime default getutcdate() not null,
    EDITWHO nvarchar(256) default 'test' not null
);

create table wmwhse1.SORTATIONSTATIONDETAIL
(
    SERIALKEY  int identity primary key,
    WHSEID nvarchar(30) default 'test',
    SORTATIONSTATIONKEY nvarchar(18) not null,
    SORTLOCATION nvarchar(18) not null,
    LOCATIONSTATUS nvarchar(1) default '1' not null,
    NUMOFPOSITIONS int default 1 not null,
    DROPID nvarchar(50) default '' not null,
    ADDDATE datetime default getutcdate() not null,
    ADDWHO nvarchar(256) default 'test' not null,
    EDITDATE datetime default getutcdate() not null,
    EDITWHO nvarchar(256) default 'test' not null
);

create table wmwhse1.ORDERSTATUSHISTORY
(
    SERIALKEY       int identity
        constraint PK_ClustOrderstatushistory
        primary key,
    WHSEID          nvarchar(30)  default user_name(),
    ORDERKEY        nvarchar(10)                       not null,
    ORDERLINENUMBER nvarchar(5)                        not null,
    ORDERTYPE       nvarchar(10)                       not null
        constraint CK_ORDERSTATUSHISTORY_ORDTYPE
        check ([ORDERTYPE] = 'TSO' OR [ORDERTYPE] = 'FTO' OR [ORDERTYPE] = 'SO'),
    STATUS          nvarchar(3)                        not null,
    ADDDATE         datetime      default getutcdate() not null,
    ADDWHO          nvarchar(256) default user_name()  not null,
    COMMENTS        nvarchar(100) default ' '          not null
);

create table wmwhse1.ConsolidationLocation
(
    SERIALKEY bigint identity,
    LOC       nvarchar(256)                      not null,
    TYPE      nvarchar(256)                      not null,
    ADDDATE   datetime2     default getutcdate() not null,
    EDITDATE  datetime2     default getutcdate() not null,
    ADDWHO    nvarchar(256) default user_name()  not null,
    EDITWHO   nvarchar(256) default user_name()  not null,
    primary key (LOC, TYPE)
);

create table wmwhse1.INVENTORYHOLDCODE
(
    SERIALKEY     int identity
        constraint ICH_312_UNIQUE
        unique,
    WHSEID        nvarchar(30)  default user_name(),
    CODE          nvarchar(10)                                not null
        primary key,
    RANK          int                                         not null
        unique,
    DESCRIPTION   nvarchar(250),
    SOURCEVERSION int           default 0                     not null,
    ADDDATE       datetime      default getutcdate()          not null,
    ADDWHO        nvarchar(256) default user_name()           not null,
    EDITDATE      datetime      default getutcdate()          not null,
    EDITWHO       nvarchar(256) default user_name()           not null,
    IS_EXPIRING   bit
        constraint DF_INVENTORYHOLDCODE_IS_EXPIRING default 0 not null,
    IS_DAMAGE     bit
        constraint DF_INVENTORYHOLDCODE_IS_DAMAGE default 0   not null,
    IS_EXCLUSIVE  bit
        constraint DF_INVENTORYHOLDCODE_IS_EXCLUSIVE default 0 not null
);

create table wmwhse1.HOLDALLOCATIONMATRIX
(
    ORDERTYPE     nvarchar(10)                       not null,
    SEQUENCE      int                                not null,
    STATUSCODE    nvarchar(10)                       not null
        references wmwhse1.INVENTORYHOLDCODE,
    SOURCEVERSION int           default 0            not null,
    WHSEID        nvarchar(30)  default user_name(),
    ADDDATE       datetime      default getutcdate() not null,
    ADDWHO        nvarchar(256) default user_name()  not null,
    EDITDATE      datetime      default getutcdate() not null,
    EDITWHO       nvarchar(256) default user_name()  not null,
    primary key (ORDERTYPE, STATUSCODE)
);

create table wmwhse1.AOS_WAVES_LOG
(
    ID int identity primary key,
    RUNNING_ID nvarchar(50) not null,
    WAVE_RUNNING_TIME datetime not null,
    WAVE_TYPE nvarchar(15) not null,
    START_TYPE nvarchar(10) not null,
    LINKED_TO_DS BIT not null,
    NUMBER_OF_ALL_ORDERS INT not null,
    NUMBER_OF_ORDERS_IN_WAVE INT not null,
    SETTINGS nvarchar(max),
    SUCCESSFUL BIT not null,
    FAIL_REASON nvarchar(2000),
    DETAILED_INFO nvarchar(max),
    WAVEKEYS nvarchar(max)
);

CREATE TABLE wmwhse1.SERIALNUMBERLOCK
(
    ID BIGINT IDENTITY(1,1) NOT NULL PRIMARY KEY,
    SERIALNUMBER NVARCHAR(30) NOT NULL,
    LOCKOWNER NVARCHAR(256) NULL,
    LOCKTYPE NVARCHAR(256) NOT NULL,
    VERSION INT,
    ADDDATE DATETIME2 DEFAULT GETUTCDATE() NOT NULL,
    EDITDATE DATETIME2 DEFAULT GETUTCDATE() NOT NULL,
    ADDWHO NVARCHAR(256) DEFAULT user_name() NOT NULL,
    EDITWHO NVARCHAR(256) DEFAULT user_name() NOT NULL,
    CONSTRAINT U_SERIALNUMBERLOCK_SERIALNUMBER_LOCKTYPE_LOCKOWNER UNIQUE(SERIALNUMBER, LOCKTYPE, LOCKOWNER)
);

create table wmwhse1.SERIALINVENTORY
(
    SERIALKEY          int identity
        constraint PK_SERIALINVENTORY_SERIALKEY
        primary key,
    WHSEID             nvarchar(30)   default user_name(),
    STORERKEY          nvarchar(15)   default ''           not null,
    SKU                nvarchar(50)   default ''           not null,
    LOT                nvarchar(10)   default ''           not null,
    ID                 nvarchar(50)   default ''           not null,
    LOC                nvarchar(10)   default ''           not null,
    SERIALNUMBER       nvarchar(30)                        not null,
    QTY                decimal(22, 5) default 0            not null,
    DATA2              nvarchar(30),
    DATA3              nvarchar(30),
    DATA4              nvarchar(30),
    DATA5              nvarchar(30),
    GROSSWEIGHT        decimal(22, 5) default 0,
    NETWEIGHT          decimal(22, 5) default 0,
    SERIALNUMBERLONG   nvarchar(500),
    PARENTSERIALNUMBER nvarchar(30),
    UOMLEVEL           nvarchar(10),
    UOMCODE            nvarchar(10),
    TAREWEIGHT         decimal(22, 5) default 0            not null,
    DATA6              nvarchar(30),
    DATA7              nvarchar(30),
    DATA8              nvarchar(30),
    DATA9              nvarchar(30),
    DATA10             nvarchar(30),
    ADDDATE            datetime       default getutcdate() not null,
    ADDWHO             nvarchar(256)  default user_name()  not null,
    EDITDATE           datetime       default getutcdate() not null,
    EDITWHO            nvarchar(256)  default user_name()  not null,
    IS_FAKE            nvarchar       default '0'          not null
);

create table wmwhse1.ASSIGNMENTS
(
    SERIALKEY        bigint identity unique,
    WAVEKEY          nvarchar(10)                       not null,
    ASSIGNMENTNUMBER nvarchar(10) unique                not null,
    TYPE             nvarchar(50)                       not null,
    PUTAWAYZONE      nvarchar(10)                       not null,
    CONS_LOC         nvarchar(50),
    ADDDATE          datetime      default getutcdate() not null,
    ADDWHO           nvarchar(256) default user_name()  not null,
    EDITDATE         datetime      default getutcdate() not null,
    EDITWHO          nvarchar(256) default user_name()  not null,
    REVERSE_PICK     bit           default 0            not null
);

create table wmwhse1.SORTATIONSTATIONTOCARRIER
(
    SERIALKEY           int identity primary key,
    STATIONKEY          nvarchar(18)                       not null,
    STATIONTYPE         nvarchar(20)                       not null,
    CARRIERCODE         nvarchar(15)                       not null,
    ADDDATE             datetime      default getutcdate() not null,
    ADDWHO              nvarchar(256) default ''           not null,
    EDITDATE            datetime      default getutcdate() not null,
    EDITWHO             nvarchar(256) default ''           not null,
    IMMEDIATE_DROPPING  bit           default 0            not null,
    constraint UQ_CARRIER_STATION_TYPE unique (CARRIERCODE, STATIONKEY, STATIONTYPE)
);
