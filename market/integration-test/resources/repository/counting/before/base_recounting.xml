<?xml version="1.0" encoding="UTF-8"?>
<dataset>
    <capacity
            id="1"
            parent_id="[null]"
            path="1"
            name="a root"
    />
    <capacity
            id="2"
            parent_id="1"
            path="1.2"
            name="obviously not a root"
    />
    <capacity
            id="3"
            parent_id="1"
            path="1.3"
            name="obviously not a root"
    />
    <capacity
            id="4"
            parent_id="1"
            path="1.4"
            name="without any events"
    />

    <!-- FOR 2ND CAPACITY -->
    <capacity_value
            id="21"
            capacity_id="2"
            unit_type="ORDER"
            day="[null]"
            value="1000"
    />
    <capacity_value
            id="22"
            capacity_id="2"
            unit_type="ITEM"
            day="[null]"
            value="1000"
    />

    <capacity_value_counter
            id="21"
            capacity_id="2"
            capacity_value_id="21"
            unit_type="ORDER"
            day="[now]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="22"
            capacity_id="2"
            capacity_value_id="21"
            unit_type="ORDER"
            day="[now-1d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="23"
            capacity_id="2"
            capacity_value_id="21"
            unit_type="ORDER"
            day="[now+60d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="24"
            capacity_id="2"
            capacity_value_id="21"
            unit_type="ORDER"
            day="[now+61d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="25"
            capacity_id="2"
            capacity_value_id="22"
            unit_type="ITEM"
            day="[now]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="26"
            capacity_id="2"
            capacity_value_id="22"
            unit_type="ITEM"
            day="[now+61d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />

    <!-- FOR 3RD CAPACITY -->
    <capacity_value
            id="31"
            capacity_id="3"
            unit_type="ORDER"
            day="[null]"
            value="1000"
    />
    <capacity_value
            id="32"
            capacity_id="3"
            unit_type="ITEM"
            day="[null]"
            value="1000"
    />

    <capacity_value_counter
            id="31"
            capacity_id="3"
            capacity_value_id="31"
            unit_type="ORDER"
            day="[now]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="32"
            capacity_id="3"
            capacity_value_id="31"
            unit_type="ORDER"
            day="[now-1d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="33"
            capacity_id="3"
            capacity_value_id="31"
            unit_type="ORDER"
            day="[now+60d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="34"
            capacity_id="3"
            capacity_value_id="31"
            unit_type="ORDER"
            day="[now+61d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="35"
            capacity_id="3"
            capacity_value_id="32"
            unit_type="ITEM"
            day="[now]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />
    <capacity_value_counter
            id="36"
            capacity_id="3"
            capacity_value_id="32"
            unit_type="ITEM"
            day="[now-11d]"
            count="100"
            threshold="1000"
            day_off_type="UNSET"
    />

    <!-- SERVICES -->

    <service_versioning
            service_id="20"
            version="4"

    />
    <service_versioning
            service_id="30"
            version="5"
    />
    <!-- На инсерте сработают триггеры с +1 к версии. -->
    <service_capacity_mapping
            id="2"
            service_id="20"
            capacity_id="2"
    />
    <service_capacity_mapping
            id="4"
            service_id="40"
            capacity_id="3"
    />
    <!-- FOR 20 service -->
    <event
            id="2000"
            key="2000"
            type="NEW"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="2001"
            key="2001"
            type="NEW"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="2100"
            key="2100"
            type="CANCELLED"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="2101"
            key="2101"
            type="CANCELLED"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <!-- FOR 30 service -->
    <event
            id="3000"
            key="3000"
            type="NEW"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="3001"
            key="3001"
            type="NEW"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="3100"
            key="3100"
            type="CANCELLED"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="3101"
            key="3101"
            type="CANCELLED"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <!-- FOR 40 service -->
    <event
            id="4000"
            key="4000"
            type="NEW"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="4001"
            key="4001"
            type="NEW"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="4100"
            key="4100"
            type="CANCELLED"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />
    <event
            id="4101"
            key="4101"
            type="CANCELLED"
            route="{}"
            timestamp="[now]"
            max_service_time="[now]"
            processed="true"
    />

    <!-- for 20th service. Version inside ().
     now: +1 (2) -1 (0)
     now - 10d: +1 (3) -2 (5, 3)
     now + 60d: +2 (5, 6)
     -->
    <service_counter
            id="21"
            service_id="20"
            day="[now]"
            event_id="2000"
            service_version="2"
            order_count="1"
    />
    <service_counter
            id="22"
            service_id="20"
            day="[now-1d]"
            event_id="2000"
            service_version="3"
            order_count="1"
    />
    <service_counter
            id="23"
            service_id="20"
            day="[now+60d]"
            event_id="2000"
            service_version="6"
            order_count="1"
    />
    <service_counter
            id="24"
            service_id="20"
            day="[now+60d]"
            event_id="2001"
            service_version="5"
            order_count="1"
    />
    <service_counter
            id="25"
            service_id="20"
            day="[now+61d]"
            event_id="2000"
            service_version="5"
            order_count="1"
    />
    <service_counter
            id="26"
            service_id="20"
            day="[now]"
            event_id="2100"
            service_version="0"
            order_count="-1"
    />
    <service_counter
            id="27"
            service_id="20"
            day="[now-1d]"
            event_id="2100"
            service_version="5"
            order_count="-1"
    />
    <service_counter
            id="28"
            service_id="20"
            day="[now-1d]"
            event_id="2101"
            service_version="3"
            order_count="-1"
    />

    <!-- for 30th service. Version inside ().
        now: +2 (2, 2); -1 (0)
        now - 10: +1 (3); -1 (5)
        now + 60: +1 (6);
    -->
    <service_counter
            id="31"
            service_id="30"
            day="[now]"
            event_id="3000"
            service_version="2"
            order_count="1"
    />
    <service_counter
            id="32"
            service_id="30"
            day="[now]"
            event_id="3001"
            service_version="2"
            order_count="1"
    />
    <service_counter
            id="33"
            service_id="30"
            day="[now-1d]"
            event_id="3000"
            service_version="3"
            order_count="1"
    />
    <service_counter
            id="34"
            service_id="30"
            day="[now+60d]"
            event_id="3000"
            service_version="6"
            order_count="1"
    />
    <service_counter
            id="35"
            service_id="30"
            day="[now+61d]"
            event_id="3000"
            service_version="5"
            order_count="1"
    />
    <service_counter
            id="36"
            service_id="30"
            day="[now]"
            event_id="3100"
            service_version="0"
            order_count="-1"
    />
    <service_counter
            id="37"
            service_id="30"
            day="[now-1d]"
            event_id="3100"
            service_version="5"
            order_count="-1"
    />
    <service_counter
            id="38"
            service_id="30"
            day="[now-11d]"
            event_id="3100"
            service_version="0"
            order_count="-1"
    />

    <!-- FOR 40TH SERVICE. Version inside ().
        now: +1 (0) -2 (0, 0)
        now-10d +1 (0)
        now+60d +1 (0)
    -->
    <service_counter
            id="41"
            service_id="40"
            day="[now]"
            event_id="4000"
            service_version="0"
            order_count="1"
    />
    <service_counter
            id="42"
            service_id="40"
            day="[now]"
            event_id="4100"
            service_version="0"
            order_count="-1"
    />
    <service_counter
            id="43"
            service_id="40"
            day="[now]"
            event_id="4101"
            service_version="0"
            order_count="-1"
    />
    <service_counter
            id="44"
            service_id="40"
            day="[now-1d]"
            event_id="4000"
            service_version="0"
            order_count="1"
    />
    <service_counter
            id="45"
            service_id="40"
            day="[now+60d]"
            event_id="4000"
            service_version="0"
            order_count="1"
    />

    <!--  FOR SNAPSHOT
        Изменяются только маппинги.
        Можно расширять изменять под свои нужды.
    -->
    <logistic_segments_services_capacity_mapping
            id="3"
            service_id="30"
            capacity_id="3"
    />
    <logistic_segments_services_capacity_mapping
            id="4"
            service_id="40"
            capacity_id="2"
    />

    <service_capacity
            id="1"
            parent_id="[null]"
            path="1"
            name="a root"
    />
    <service_capacity
            id="2"
            parent_id="1"
            path="1.2"
            name="obviously not a root"
    />
    <service_capacity
            id="3"
            parent_id="1"
            path="1.3"
            name="obviously not a root"
    />

    <service_capacity_value
            id="21"
            capacity_id="2"
            unit_type="order"
            day="[null]"
            value="1000"
    />
    <service_capacity_value
            id="22"
            capacity_id="2"
            unit_type="item"
            day="[null]"
            value="1000"
    />
    <service_capacity_value
            id="31"
            capacity_id="3"
            unit_type="order"
            day="[null]"
            value="1000"
    />
    <service_capacity_value
            id="32"
            capacity_id="3"
            unit_type="item"
            day="[null]"
            value="1000"
    />

</dataset>
